("undefined"==typeof Math.imul||0==Math.imul(4294967295,5))&&(Math.imul=function(a,b){var c=a>>>16&65535,d=65535&a,e=b>>>16&65535,f=65535&b;return d*f+(c*f+d*e<<16>>>0)|0});var PIXI=function(a){"use strict";function b(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a["default"]:a}function c(a,b){return a(b={exports:{}},b.exports),b.exports}function d(a,b,c){c=c||2;var d,h,i,j,k,n,p,q=b&&b.length,r=q?b[0]*c:a.length,s=e(a,0,r,c,!0),t=[];if(!s||s.next===s.prev)return t;if(q&&(s=function(a,b,c,d){var g,h,i,j,k,n=[];for(g=0,h=b.length;h>g;g++)i=b[g]*d,j=h-1>g?b[g+1]*d:a.length,(k=e(a,i,j,d,!1))===k.next&&(k.steiner=!0),n.push(o(k));for(n.sort(l),g=0;g<n.length;g++)m(n[g],c),c=f(c,c.next);return c}(a,b,s,c)),a.length>80*c){d=i=a[0],h=j=a[1];for(var u=c;r>u;u+=c)(k=a[u])<d&&(d=k),(n=a[u+1])<h&&(h=n),k>i&&(i=k),n>j&&(j=n);p=0!==(p=Math.max(i-d,j-h))?1/p:0}return g(s,t,c,d,h,p),t}function e(a,b,c,d,e){var f,g;if(e===z(a,b,c,d)>0)for(f=b;c>f;f+=d)g=w(f,a[f],a[f+1],g);else for(f=c-d;f>=b;f-=d)g=w(f,a[f],a[f+1],g);return g&&s(g,g.next)&&(x(g),g=g.next),g}function f(a,b){if(!a)return a;b||(b=a);var c,d=a;do if(c=!1,d.steiner||!s(d,d.next)&&0!==r(d.prev,d,d.next))d=d.next;else{if(x(d),(d=b=d.prev)===d.next)break;c=!0}while(c||d!==b);return b}function g(a,b,c,d,e,l,m){if(a){!m&&l&&function(a,b,c,d){var e=a;do null===e.z&&(e.z=n(e.x,e.y,b,c,d)),e.prevZ=e.prev,e.nextZ=e.next,e=e.next;while(e!==a);e.prevZ.nextZ=null,e.prevZ=null,function(a){var b,c,d,e,f,g,h,i,j=1;do{for(c=a,a=null,f=null,g=0;c;){for(g++,d=c,h=0,b=0;j>b&&(h++,d=d.nextZ);b++);for(i=j;h>0||i>0&&d;)0!==h&&(0===i||!d||c.z<=d.z)?(e=c,c=c.nextZ,h--):(e=d,d=d.nextZ,i--),f?f.nextZ=e:a=e,e.prevZ=f,f=e;c=d}f.nextZ=null,j*=2}while(g>1)}(e)}(a,d,e,l);for(var o,p,q=a;a.prev!==a.next;)if(o=a.prev,p=a.next,l?i(a,d,e,l):h(a))b.push(o.i/c),b.push(a.i/c),b.push(p.i/c),x(a),a=p.next,q=p.next;else if((a=p)===q){m?1===m?g(a=j(a,b,c),b,c,d,e,l,2):2===m&&k(a,b,c,d,e,l):g(f(a),b,c,d,e,l,1);break}}}function h(a){var b=a.prev,c=a,d=a.next;if(r(b,c,d)>=0)return!1;for(var e=a.next.next;e!==a.prev;){if(p(b.x,b.y,c.x,c.y,d.x,d.y,e.x,e.y)&&r(e.prev,e,e.next)>=0)return!1;e=e.next}return!0}function i(a,b,c,d){var e=a.prev,f=a,g=a.next;if(r(e,f,g)>=0)return!1;for(var h=e.x<f.x?e.x<g.x?e.x:g.x:f.x<g.x?f.x:g.x,i=e.y<f.y?e.y<g.y?e.y:g.y:f.y<g.y?f.y:g.y,j=e.x>f.x?e.x>g.x?e.x:g.x:f.x>g.x?f.x:g.x,k=e.y>f.y?e.y>g.y?e.y:g.y:f.y>g.y?f.y:g.y,l=n(h,i,b,c,d),m=n(j,k,b,c,d),o=a.prevZ,q=a.nextZ;o&&o.z>=l&&q&&q.z<=m;){if(o!==a.prev&&o!==a.next&&p(e.x,e.y,f.x,f.y,g.x,g.y,o.x,o.y)&&r(o.prev,o,o.next)>=0)return!1;if(o=o.prevZ,q!==a.prev&&q!==a.next&&p(e.x,e.y,f.x,f.y,g.x,g.y,q.x,q.y)&&r(q.prev,q,q.next)>=0)return!1;q=q.nextZ}for(;o&&o.z>=l;){if(o!==a.prev&&o!==a.next&&p(e.x,e.y,f.x,f.y,g.x,g.y,o.x,o.y)&&r(o.prev,o,o.next)>=0)return!1;o=o.prevZ}for(;q&&q.z<=m;){if(q!==a.prev&&q!==a.next&&p(e.x,e.y,f.x,f.y,g.x,g.y,q.x,q.y)&&r(q.prev,q,q.next)>=0)return!1;q=q.nextZ}return!0}function j(a,b,c){var d=a;do{var e=d.prev,f=d.next.next;!s(e,f)&&t(e,d,d.next,f)&&u(e,f)&&u(f,e)&&(b.push(e.i/c),b.push(d.i/c),b.push(f.i/c),x(d),x(d.next),d=a=f),d=d.next}while(d!==a);return d}function k(a,b,c,d,e,h){var i=a;do{for(var j=i.next.next;j!==i.prev;){if(i.i!==j.i&&q(i,j)){var k=v(i,j);return i=f(i,i.next),k=f(k,k.next),g(i,b,c,d,e,h),void g(k,b,c,d,e,h)}j=j.next}i=i.next}while(i!==a)}function l(a,b){return a.x-b.x}function m(a,b){if(b=function(a,b){var c,d=b,e=a.x,f=a.y,g=-1/0;do{if(f<=d.y&&f>=d.next.y&&d.next.y!==d.y){var h=d.x+(f-d.y)*(d.next.x-d.x)/(d.next.y-d.y);if(e>=h&&h>g){if(g=h,h===e){if(f===d.y)return d;if(f===d.next.y)return d.next}c=d.x<d.next.x?d:d.next}}d=d.next}while(d!==b);if(!c)return null;if(e===g)return c.prev;var i,j=c,k=c.x,l=c.y,m=1/0;for(d=c.next;d!==j;)e>=d.x&&d.x>=k&&e!==d.x&&p(l>f?e:g,f,k,l,l>f?g:e,f,d.x,d.y)&&((i=Math.abs(f-d.y)/(e-d.x))<m||i===m&&d.x>c.x)&&u(d,a)&&(c=d,m=i),d=d.next;return c}(a,b)){var c=v(b,a);f(c,c.next)}}function n(a,b,c,d,e){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=32767*(a-c)*e)|a<<8))|a<<4))|a<<2))|a<<1))|(b=1431655765&((b=858993459&((b=252645135&((b=16711935&((b=32767*(b-d)*e)|b<<8))|b<<4))|b<<2))|b<<1))<<1}function o(a){var b=a,c=a;do(b.x<c.x||b.x===c.x&&b.y<c.y)&&(c=b),b=b.next;while(b!==a);return c}function p(a,b,c,d,e,f,g,h){return(e-g)*(b-h)-(a-g)*(f-h)>=0&&(a-g)*(d-h)-(c-g)*(b-h)>=0&&(c-g)*(f-h)-(e-g)*(d-h)>=0}function q(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!function(a,b){var c=a;do{if(c.i!==a.i&&c.next.i!==a.i&&c.i!==b.i&&c.next.i!==b.i&&t(c,c.next,a,b))return!0;c=c.next}while(c!==a);return!1}(a,b)&&u(a,b)&&u(b,a)&&function(a,b){var c=a,d=!1,e=(a.x+b.x)/2,f=(a.y+b.y)/2;do c.y>f!=c.next.y>f&&c.next.y!==c.y&&e<(c.next.x-c.x)*(f-c.y)/(c.next.y-c.y)+c.x&&(d=!d),c=c.next;while(c!==a);return d}(a,b)}function r(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function s(a,b){return a.x===b.x&&a.y===b.y}function t(a,b,c,d){return!!(s(a,b)&&s(c,d)||s(a,d)&&s(c,b))||r(a,b,c)>0!=r(a,b,d)>0&&r(c,d,a)>0!=r(c,d,b)>0}function u(a,b){return r(a.prev,a,a.next)<0?r(a,b,a.next)>=0&&r(a,a.prev,b)>=0:r(a,b,a.prev)<0||r(a,a.next,b)<0}function v(a,b){var c=new y(a.i,a.x,a.y),d=new y(b.i,b.x,b.y),e=a.next,f=b.prev;return a.next=b,b.prev=a,c.next=e,e.prev=c,d.next=c,c.prev=d,f.next=d,d.prev=f,d}function w(a,b,c,d){var e=new y(a,b,c);return d?(e.next=d.next,e.prev=d,d.next.prev=e,d.next=e):(e.prev=e,e.next=e),e}function x(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function y(a,b,c){this.i=a,this.x=b,this.y=c,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function z(a,b,c,d){for(var e=0,f=b,g=c-d;c>f;f+=d)e+=(a[g]-a[f])*(a[f+1]+a[g+1]),g=f;return e}function A(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function B(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function C(a,b,c){if(a&&Xa.isObject(a)&&a instanceof B)return a;var d=new B;return d.parse(a,b,c),d}function D(a){if(!Fb){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var b=["\n %c %c %c PixiJS "+Gb+" - ✰ "+a+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,b)}else window.console&&window.console.log("PixiJS "+Gb+" - "+a+" - http://www.pixijs.com/");Fb=!0}}function E(){return void 0===Eb&&(Eb=function(){var a={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var b=document.createElement("canvas"),c=b.getContext("webgl",a)||b.getContext("experimental-webgl",a),d=!(!c||!c.getContextAttributes().stencil);if(c){var e=c.getExtension("WEBGL_lose_context");e&&e.loseContext()}return c=null,d}catch(a){return!1}}()),Eb}function F(a,b){return(b=b||[])[0]=(a>>16&255)/255,b[1]=(a>>8&255)/255,b[2]=(255&a)/255,b}function G(a){return a=a.toString(16),"#"+(a="000000".substr(0,6-a.length)+a)}function H(a){return"string"==typeof a&&"#"===a[0]&&(a=a.substr(1)),parseInt(a,16)}function I(a,b){return Hb[b?1:0][a]}function J(a,b,c,d){return c=c||new Float32Array(4),d||void 0===d?(c[0]=a[0]*b,c[1]=a[1]*b,c[2]=a[2]*b):(c[0]=a[0],c[1]=a[1],c[2]=a[2]),c[3]=b,c}function K(a,b){if(1===b)return(255*b<<24)+a;if(0===b)return 0;var c=a>>16&255,d=a>>8&255,e=255&a;return(255*b<<24)+((c=c*b+.5|0)<<16)+((d=d*b+.5|0)<<8)+(e=e*b+.5|0)}function L(a,b,c,d){return(c=c||new Float32Array(4))[0]=(a>>16&255)/255,c[1]=(a>>8&255)/255,c[2]=(255&a)/255,(d||void 0===d)&&(c[0]*=b,c[1]*=b,c[2]*=b),c[3]=b,c}function M(a){for(var b=6*a,c=new Uint16Array(b),d=0,e=0;b>d;d+=6,e+=4)c[d+0]=e+0,c[d+1]=e+1,c[d+2]=e+2,c[d+3]=e+0,c[d+4]=e+2,c[d+5]=e+3;return c}function N(a,b,c){var d,e=a.length;if(!(b>=e||0===c)){var f=e-(c=b+c>e?e-b:c);for(d=b;f>d;++d)a[d]=a[d+c];a.length=f}}function O(){return++Ib}function P(a){return 0===a?0:0>a?-1:1}function Q(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)+1}function R(a){return!(a&a-1||!a)}function S(a){var b=(a>65535)<<4,c=((a>>>=b)>255)<<3;return b|=c,b|=c=((a>>>=c)>15)<<2,(b|=c=((a>>>=c)>3)<<1)|(a>>>=c)>>1}function T(a){var b,c,d,e=a.width,f=a.height,g=a.getContext("2d"),h=g.getImageData(0,0,e,f).data,i=h.length,j={top:null,left:null,right:null,bottom:null},k=null;for(b=0;i>b;b+=4)0!==h[b+3]&&(c=b/4%e,d=~~(b/4/e),null===j.top&&(j.top=d),null===j.left?j.left=c:c<j.left&&(j.left=c),null===j.right?j.right=c+1:j.right<c&&(j.right=c+1),null===j.bottom?j.bottom=d:j.bottom<d&&(j.bottom=d));return null!==j.top&&(e=j.right-j.left,f=j.bottom-j.top+1,k=g.getImageData(j.left,j.top,e,f)),{height:f,width:e,data:k}}function U(a,b){if(void 0===b&&(b=window.location),0===a.indexOf("data:"))return"";b=b||window.location,Ob||(Ob=document.createElement("a")),Ob.href=a;var c=!(a=rb.parse(Ob.href)).port&&""===b.port||a.port===b.port;return a.hostname===b.hostname&&c&&a.protocol===b.protocol?"":"anonymous"}function V(a,b){var c=Sa.RETINA_PREFIX.exec(a);return c?parseFloat(c[1]):void 0!==b?b:1}function W(a,b,c){if(void 0===c&&(c=3),!Qb[b]){var d=(new Error).stack;void 0===d?console.warn("PixiJS Deprecation Warning: ",b+"\nDeprecated since v"+a):(d=d.split("\n").splice(c).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",b+"\nDeprecated since v"+a),console.warn(d),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",b+"\nDeprecated since v"+a),console.warn(d))),Qb[b]=!0}}function X(a){return 0>a?-1:a>0?1:0}function Y(a,b){return a.zIndex===b.zIndex?a._lastSortedIndex-b._lastSortedIndex:a.zIndex-b.zIndex}function Z(a,b){if(!a)return null;var c="";if("string"==typeof a){var d=/\.(\w{3,4})(?:$|\?|#)/i.exec(a);d&&(c=d[1].toLowerCase())}for(var e=Hc.length-1;e>=0;--e){var f=Hc[e];if(f.test&&f.test(a,c))return new f(a,b)}return new Gc(a,b)}function $(a){a.destroy=function(){},a.on=function(){},a.once=function(){},a.emit=function(){}}function _(a){if(4===a.BYTES_PER_ELEMENT)return a instanceof Float32Array?"Float32Array":a instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===a.BYTES_PER_ELEMENT){if(a instanceof Uint16Array)return"Uint16Array"}else if(1===a.BYTES_PER_ELEMENT&&a instanceof Uint8Array)return"Uint8Array";return null}function aa(a,b,c,d){var e=ba(a,a.VERTEX_SHADER,b),f=ba(a,a.FRAGMENT_SHADER,c),g=a.createProgram();if(a.attachShader(g,e),a.attachShader(g,f),d)for(var h in d)a.bindAttribLocation(g,d[h],h);return a.linkProgram(g),a.getProgramParameter(g,a.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",a.getProgramParameter(g,a.VALIDATE_STATUS)),console.error("gl.getError()",a.getError()),""!==a.getProgramInfoLog(g)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",a.getProgramInfoLog(g)),a.deleteProgram(g),g=null),a.deleteShader(e),a.deleteShader(f),g}function ba(a,b,c){var d=a.createShader(b);return a.shaderSource(d,c),a.compileShader(d),a.getShaderParameter(d,a.COMPILE_STATUS)?d:(console.warn(c),console.error(a.getShaderInfoLog(d)),null)}function ca(a,b){switch(a){case"float":return 0;case"vec2":return new Float32Array(2*b);case"vec3":return new Float32Array(3*b);case"vec4":return new Float32Array(4*b);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*b);case"ivec3":return new Int32Array(3*b);case"ivec4":return new Int32Array(4*b);case"bool":return!1;case"bvec2":return da(2*b);case"bvec3":return da(3*b);case"bvec4":return da(4*b);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function da(a){for(var b=new Array(a),c=0;c<b.length;c++)b[c]=!1;return b}function ea(){if(!wd){var a,b=document.createElement("canvas");if(Sa.PREFER_ENV>=sb.WEBGL2&&(a=b.getContext("webgl2",{})),!a){if(!(a=b.getContext("webgl",{})||b.getContext("experimental-webgl",{})))throw new Error("This browser does not support WebGL. Try using the canvas renderer");a.getExtension("WEBGL_draw_buffers")}return wd=a,a}return wd}function fa(a,b,c){if("precision"!==a.substring(0,9)){var d=b;return b===Db.HIGH&&c!==Db.HIGH&&(d=Db.MEDIUM),"precision "+d+" float;\n"+a}return c!==Db.HIGH&&"precision highp"===a.substring(0,15)?a.replace("precision highp","precision mediump"):a}function ga(a){return xd[a]}function ha(a,b){if(!yd){var c=Object.keys(zd);yd={};for(var d=0;d<c.length;++d){var e=c[d];yd[a[e]]=zd[e]}}return yd[b]}function ia(a,b){if(0===a)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var c=b.createShader(b.FRAGMENT_SHADER);;){var d=Cd.replace(/%forloop%/gi,ja(a));if(b.shaderSource(c,d),b.compileShader(c),b.getShaderParameter(c,b.COMPILE_STATUS))break;a=a/2|0}return a}function ja(a){for(var b="",c=0;a>c;++c)c>0&&(b+="\nelse "),a-1>c&&(b+="if(test == "+c+".0){}");return b}function ka(a){return ke.create(a)}function la(a,b){if(!ue[b]){for(var c=new Int32Array(b),d=0;b>d;d++)c[d]=d;te[b]=jd.from({uSamplers:c},!0);var e=se;e=(e=e.replace(/%count%/gi,b)).replace(/%forloop%/gi,function(a){var b="";b+="\n",b+="\n";for(var c=0;a>c;c++)c>0&&(b+="\nelse "),a-1>c&&(b+="if(vTextureId < "+c+".5)"),b+="\n{",b+="\n	color = texture2D(uSamplers["+c+"], vTextureCoord);",b+="\n}";return b+="\n",b+="\n"}(b)),ue[b]=new Fd(re,e)}var f={tint:new Float32Array([1,1,1,1]),translationMatrix:new Zb,"default":te[b]};return new Hd(ue[b],f)}function ma(a,b){a.lineStyle["native"]?function(a,b){var c=0,d=a.points||a.shape.points;if(0!==d.length){var e=b.points,f=b.indices,g=d.length/2,h=e.length/2;for(c=1;g>c;c++){var i=d[2*(c-1)],j=d[2*(c-1)+1],k=d[2*c],l=d[2*c+1];e.push(i,j),e.push(k,l),f.push(h++,h++)}}}(a,b):function(a,b){var c=a.shape,d=a.points||c.points.slice();if(0!==d.length){var e=a.lineStyle,f=new Sb(d[0],d[1]),g=new Sb(d[d.length-2],d[d.length-1]),h=c.type!==Yb.POLY||c.closeStroke,i=f.x===g.x&&f.y===g.y;if(h){d=d.slice(),i&&(d.pop(),d.pop(),g.set(d[d.length-2],d[d.length-1]));var j=g.x+.5*(f.x-g.x),k=g.y+.5*(f.y-g.y);d.unshift(j,k),d.push(j,k)}var l=b.points,m=d.length/2,n=d.length,o=l.length/2,p=e.width/2,q=d[0],r=d[1],s=d[2],t=d[3],u=0,v=0,w=-(r-t),x=q-s,y=0,z=0,A=0,B=0,C=Math.sqrt(w*w+x*x);w/=C,x/=C,w*=p,x*=p;var D=e.alignment,E=2*(1-D),F=2*D;l.push(q-w*E,r-x*E),l.push(q+w*F,r+x*F);for(var G=1;m-1>G;++G){q=d[2*(G-1)],r=d[2*(G-1)+1],s=d[2*G],t=d[2*G+1],u=d[2*(G+1)],v=d[2*(G+1)+1],w=-(r-t),x=q-s,C=Math.sqrt(w*w+x*x),w/=C,x/=C,w*=p,x*=p,y=-(t-v),z=s-u,C=Math.sqrt(y*y+z*z),y/=C,z/=C;var H=-x+r-(-x+t),I=-w+s-(-w+q),J=(-w+q)*(-x+t)-(-w+s)*(-x+r),K=-(z*=p)+v-(-z+t),L=-(y*=p)+s-(-y+u),M=(-y+u)*(-z+t)-(-y+s)*(-z+v),N=H*L-K*I;if(Math.abs(N)<.1)N+=10.1,l.push(s-w*E,t-x*E),l.push(s+w*F,t+x*F);else{var O=(I*M-L*J)/N,P=(K*J-H*M)/N,Q=(O-s)*(O-s)+(P-t)*(P-t);Q>196*p*p?(A=w-y,B=x-z,C=Math.sqrt(A*A+B*B),A/=C,B/=C,A*=p,B*=p,l.push(s-A*E,t-B*E),l.push(s+A*F,t+B*F),l.push(s-A*F*E,t-B*E),n++):(l.push(s+(O-s)*E,t+(P-t)*E),l.push(s-(O-s)*F,t-(P-t)*F))}}q=d[2*(m-2)],r=d[2*(m-2)+1],s=d[2*(m-1)],t=d[2*(m-1)+1],w=-(r-t),x=q-s,C=Math.sqrt(w*w+x*x),w/=C,x/=C,w*=p,x*=p,l.push(s-w*E,t-x*E),l.push(s+w*F,t+x*F);for(var R=b.indices,S=0;n-2>S;++S)R.push(o,o+1,o+2),o++}}(a,b)}function na(a,b,c){return a+(b-a)*c}function oa(a,b,c,d,e,f,g){void 0===g&&(g=[]);for(var h=g,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0;20>=o;++o)i=na(a,c,p=o/20),j=na(b,d,p),k=na(c,e,p),l=na(d,f,p),m=na(i,k,p),n=na(j,l,p),h.push(m,n);return h}function pa(a){return"number"==typeof a?G(a):("string"==typeof a&&0===a.indexOf("0x")&&(a=a.replace("0x","#")),a)}function qa(a){if(Array.isArray(a)){for(var b=0;b<a.length;++b)a[b]=pa(a[b]);return a}return pa(a)}function ra(a,b,c){for(var d in c)Array.isArray(b[d])?a[d]=b[d].slice():a[d]=b[d]}function sa(a,b){var c=!1;if(a&&a._textures&&a._textures.length)for(var d=0;d<a._textures.length;d++)if(a._textures[d]instanceof Yc){var e=a._textures[d].baseTexture;-1===b.indexOf(e)&&(b.push(e),c=!0)}return c}function ta(a,b){return a instanceof Kc&&(-1===b.indexOf(a)&&b.push(a),!0)}function ua(a,b){if(a._texture&&a._texture instanceof Yc){var c=a._texture.baseTexture;return-1===b.indexOf(c)&&b.push(c),!0}return!1}function va(a,b){return b instanceof mf&&(b.updateText(!0),!0)}function wa(a,b){if(b instanceof gf){var c=b.toFontString();return jf.measureFont(c),!0}return!1}function xa(a,b){if(a instanceof mf){-1===b.indexOf(a.style)&&b.push(a.style),-1===b.indexOf(a)&&b.push(a);var c=a._texture.baseTexture;return-1===b.indexOf(c)&&b.push(c),!0}return!1}function ya(a,b){return a instanceof gf&&(-1===b.indexOf(a)&&b.push(a),!0)}function za(a,b){return b instanceof Kc&&(b._glTextures[a.CONTEXT_UID]||a.textureManager.updateTexture(b),!0)}function Aa(a,b){return b instanceof _e&&((b.dirty||b.clearDirty||!b._webGL[a.plugins.graphics.CONTEXT_UID])&&a.plugins.graphics.updateGraphics(b),!0)}function Ba(a,b){return a instanceof _e&&(b.push(a),!0)}function Ca(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a["default"]:a}function Da(a,b){return a(b={exports:{}},b.exports),b.exports}var Ea="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Fa=c(function(a,b){!function(a){function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(){for(var a=0;a<x.length;a++)x[a][0](x[a][1]);x=[],q=!1}function e(a,b){x.push([a,b]),q||(q=!0,w(d,0))}function f(a){var b=a.owner,c=b.state_,d=b.data_,e=a[c],f=a.then;if("function"==typeof e){c=t;try{d=e(d)}catch(a){j(f,a)}}g(f,d)||(c===t&&h(f,d),c===u&&j(f,d))}function g(a,b){var c;try{if(a===b)throw new TypeError("A promises callback cannot return that same promise.");if(b&&("function"==typeof b||"object"==typeof b)){var d=b.then;if("function"==typeof d)return d.call(b,function(d){c||(c=!0,b!==d?h(a,d):i(a,d))},function(b){c||(c=!0,j(a,b))}),!0}}catch(b){return c||j(a,b),!0}return!1}function h(a,b){a!==b&&g(a,b)||i(a,b)}function i(a,b){a.state_===r&&(a.state_=s,a.data_=b,e(l,a))}function j(a,b){a.state_===r&&(a.state_=s,a.data_=b,e(m,a))}function k(a){var b=a.then_;a.then_=void 0;for(var c=0;c<b.length;c++)f(b[c])}function l(a){a.state_=t,k(a)}function m(a){a.state_=u,k(a)}function n(a){if("function"!=typeof a)throw new TypeError("Promise constructor takes a function argument");if(this instanceof n==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(a,b){function c(a){j(b,a)}try{a(function(a){h(b,a)},c)}catch(a){c(a)}}(a,this)}var o=a.Promise,p=o&&"resolve"in o&&"reject"in o&&"all"in o&&"race"in o&&function(){var a;return new o(function(b){a=b}),"function"==typeof a}();b?(b.Promise=p?o:n,b.Polyfill=n):p||(a.Promise=n);var q,r="pending",s="sealed",t="fulfilled",u="rejected",v=function(){},w="undefined"!=typeof setImmediate?setImmediate:setTimeout,x=[];n.prototype={constructor:n,state_:r,then_:null,data_:void 0,then:function(a,b){var c={owner:this,then:new this.constructor(v),fulfilled:a,rejected:b};return this.state_===t||this.state_===u?e(f,c):this.then_.push(c),c.then},"catch":function(a){return this.then(null,a)}},n.all=function(a){if(!c(a))throw new TypeError("You must pass an array to Promise.all().");return new this(function(b,c){function d(a){return g++,function(c){f[a]=c,--g||b(f)}}for(var e,f=[],g=0,h=0;h<a.length;h++)(e=a[h])&&"function"==typeof e.then?e.then(d(h),c):f[h]=e;g||b(f)})},n.race=function(a){if(!c(a))throw new TypeError("You must pass an array to Promise.race().");return new this(function(b,c){for(var d,e=0;e<a.length;e++)(d=a[e])&&"function"==typeof d.then?d.then(b,c):b(d)})},n.resolve=function(a){return a&&"object"==typeof a&&a.constructor===this?a:new this(function(b){b(a)})},n.reject=function(a){return new this(function(b,c){c(a)})}}("undefined"!=typeof window?window:void 0!==Ea?Ea:"undefined"!=typeof self?self:Ea)}),Ga=(Fa.Promise,Fa.Polyfill),Ha=Object.getOwnPropertySymbols,Ia=Object.prototype.hasOwnProperty,Ja=Object.prototype.propertyIsEnumerable,Ka=function(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de","5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},c=0;10>c;c++)b["_"+String.fromCharCode(c)]=c;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},d)).join("")}catch(a){return!1}}()?Object.assign:function(a,b){for(var c,d,e=arguments,f=function(a){if(null==a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}(a),g=1;g<arguments.length;g++){for(var h in c=Object(e[g]))Ia.call(c,h)&&(f[h]=c[h]);if(Ha){d=Ha(c);for(var i=0;i<d.length;i++)Ja.call(c,d[i])&&(f[d[i]]=c[d[i]])}}return f};window.Promise||(window.Promise=Ga),Object.assign||(Object.assign=Ka);var La="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!La.performance||!La.performance.now){var Ma=Date.now();La.performance||(La.performance={}),La.performance.now=function(){return Date.now()-Ma}}for(var Na=Date.now(),Oa=["ms","moz","webkit","o"],Pa=0;Pa<Oa.length&&!La.requestAnimationFrame;++Pa){var Qa=Oa[Pa];La.requestAnimationFrame=La[Qa+"RequestAnimationFrame"],La.cancelAnimationFrame=La[Qa+"CancelAnimationFrame"]||La[Qa+"CancelRequestAnimationFrame"]}La.requestAnimationFrame||(La.requestAnimationFrame=function(a){if("function"!=typeof a)throw new TypeError(a+"is not a function");var b=Date.now(),c=16+Na-b;return 0>c&&(c=0),Na=b,setTimeout(function(){Na=Date.now(),a(performance.now())},c)}),La.cancelAnimationFrame||(La.cancelAnimationFrame=function(a){return clearTimeout(a)}),Math.sign||(Math.sign=function(a){return 0===(a=Number(a))||isNaN(a)?a:a>0?1:-1}),Number.isInteger||(Number.isInteger=function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var Ra=c(function(a){!function(b){function c(a,b){return a.test(b)}function d(a){var b=a||("undefined"!=typeof navigator?navigator.userAgent:""),d=b.split("[FBAN");void 0!==d[1]&&(b=d[0]),void 0!==(d=b.split("Twitter"))[1]&&(b=d[0]);var s={apple:{phone:c(e,b)&&!c(l,b),ipod:c(f,b),tablet:!c(e,b)&&c(g,b)&&!c(l,b),device:(c(e,b)||c(f,b)||c(g,b))&&!c(l,b)},amazon:{phone:c(j,b),tablet:!c(j,b)&&c(k,b),device:c(j,b)||c(k,b)},android:{phone:!c(l,b)&&c(j,b)||!c(l,b)&&c(h,b),tablet:!c(l,b)&&!c(j,b)&&!c(h,b)&&(c(k,b)||c(i,b)),device:!c(l,b)&&(c(j,b)||c(k,b)||c(h,b)||c(i,b))||c(/\bokhttp\b/i,b)},windows:{phone:c(l,b),tablet:c(m,b),device:c(l,b)||c(m,b)},other:{blackberry:c(n,b),blackberry10:c(o,b),opera:c(p,b),firefox:c(r,b),chrome:c(q,b),device:c(n,b)||c(o,b)||c(p,b)||c(r,b)||c(q,b)}};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}var e=/iPhone/i,f=/iPod/i,g=/iPad/i,h=/\bAndroid(?:.+)Mobile\b/i,i=/Android/i,j=/\bAndroid(?:.+)SD4930UR\b/i,k=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,l=/Windows Phone/i,m=/\bWindows(?:.+)ARM\b/i,n=/BlackBerry/i,o=/BB10/i,p=/Opera Mini/i,q=/\b(CriOS|Chrome)(?:.+)Mobile/i,r=/Mobile(?:.+)Firefox\b/i;a.exports&&"undefined"==typeof window?a.exports=d:a.exports&&"undefined"!=typeof window?(a.exports=d(),a.exports.isMobile=d):b.isMobile=d()}(Ea)});Ra.isMobile;var Sa={MIPMAP_TEXTURES:1,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(a){var b=!0;if(Ra.tablet||Ra.phone){if(b=!1,Ra.apple.device){var c=navigator.userAgent.match(/OS (\d+)_(\d+)?/);c&&parseInt(c[1],10)>=11&&(b=!0)}if(Ra.android.device){var d=navigator.userAgent.match(/Android\s([0-9.]*)/);d&&parseInt(d[1],10)>=7&&(b=!0)}}return b?a:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:Ra.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!Ra.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Ta=c(function(a){function b(){}function c(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function d(a,b,d,e,f){if("function"!=typeof d)throw new TypeError("The listener must be a function");var g=new c(d,e||a,f),i=h?h+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],g]:a._events[i].push(g):(a._events[i]=g,a._eventsCount++),a}function e(a,c){0==--a._eventsCount?a._events=new b:delete a._events[c]}function f(){this._events=new b,this._eventsCount=0}var g=Object.prototype.hasOwnProperty,h="~";Object.create&&(b.prototype=Object.create(null),(new b).__proto__||(h=!1)),f.prototype.eventNames=function(){var a,b,c=[];if(0===this._eventsCount)return c;for(b in a=this._events)g.call(a,b)&&c.push(h?b.slice(1):b);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(a)):c},f.prototype.listeners=function(a){var b=h?h+a:a,c=this._events[b];if(!c)return[];if(c.fn)return[c.fn];for(var d=0,e=c.length,f=new Array(e);e>d;d++)f[d]=c[d].fn;return f},f.prototype.listenerCount=function(a){var b=h?h+a:a,c=this._events[b];return c?c.fn?1:c.length:0},f.prototype.emit=function(a,b,c,d,e,f){var g=arguments,i=h?h+a:a;if(!this._events[i])return!1;var j,k,l=this._events[i],m=arguments.length;if(l.fn){switch(l.once&&this.removeListener(a,l.fn,void 0,!0),m){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,b),!0;case 3:return l.fn.call(l.context,b,c),!0;case 4:return l.fn.call(l.context,b,c,d),!0;case 5:return l.fn.call(l.context,b,c,d,e),!0;case 6:return l.fn.call(l.context,b,c,d,e,f),!0}for(k=1,j=new Array(m-1);m>k;k++)j[k-1]=g[k];l.fn.apply(l.context,j)}else{var n,o=l.length;for(k=0;o>k;k++)switch(l[k].once&&this.removeListener(a,l[k].fn,void 0,!0),m){case 1:l[k].fn.call(l[k].context);break;case 2:l[k].fn.call(l[k].context,b);break;case 3:l[k].fn.call(l[k].context,b,c);break;case 4:l[k].fn.call(l[k].context,b,c,d);break;default:if(!j)for(n=1,j=new Array(m-1);m>n;n++)j[n-1]=g[n];l[k].fn.apply(l[k].context,j)}}return!0},f.prototype.on=function(a,b,c){return d(this,a,b,c,!1)},f.prototype.once=function(a,b,c){return d(this,a,b,c,!0)},f.prototype.removeListener=function(a,b,c,d){var f=h?h+a:a;if(!this._events[f])return this;if(!b)return e(this,f),this;var g=this._events[f];if(g.fn)g.fn!==b||d&&!g.once||c&&g.context!==c||e(this,f);else{for(var i=0,j=[],k=g.length;k>i;i++)(g[i].fn!==b||d&&!g[i].once||c&&g[i].context!==c)&&j.push(g[i]);j.length?this._events[f]=1===j.length?j[0]:j:e(this,f)}return this},f.prototype.removeAllListeners=function(a){var c;return a?(c=h?h+a:a,this._events[c]&&e(this,c)):(this._events=new b,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=h,f.EventEmitter=f,a.exports=f}),Ua=d,Va=d;d.deviation=function(a,b,c,d){var e=b&&b.length,f=e?b[0]*c:a.length,g=Math.abs(z(a,0,f,c));if(e)for(var h=0,i=b.length;i>h;h++){var j=b[h]*c,k=i-1>h?b[h+1]*c:a.length;g-=Math.abs(z(a,j,k,c))}var l=0;for(h=0;h<d.length;h+=3){var m=d[h]*c,n=d[h+1]*c,o=d[h+2]*c;l+=Math.abs((a[m]-a[o])*(a[n+1]-a[m+1])-(a[m]-a[n])*(a[o+1]-a[m+1]))}return 0===g&&0===l?0:Math.abs((l-g)/g)},d.flatten=function(a){for(var b=a[0][0].length,c={vertices:[],holes:[],dimensions:b},d=0,e=0;e<a.length;e++){for(var f=0;f<a[e].length;f++)for(var g=0;b>g;g++)c.vertices.push(a[e][f][g]);e>0&&(d+=a[e-1].length,c.holes.push(d))}return c},Ua["default"]=Va;var Wa=c(function(a,b){!function(c){function d(a){throw RangeError(D[a])}function e(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function f(a,b){var c=a.split("@"),d="";return c.length>1&&(d=c[0]+"@",a=c[1]),d+e((a=a.replace(C,".")).split("."),b).join(".")}function g(a){for(var b,c,d=[],e=0,f=a.length;f>e;)(b=a.charCodeAt(e++))>=55296&&56319>=b&&f>e?56320==(64512&(c=a.charCodeAt(e++)))?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--):d.push(b);return d}function h(a){return e(a,function(a){var b="";return a>65535&&(b+=G((a-=65536)>>>10&1023|55296),a=56320|1023&a),b+=G(a)}).join("")}function i(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function j(a,b,c){var d=0;for(a=c?F(a/w):a>>1,a+=F(a/b);a>E*u>>1;d+=s)a=F(a/E);return F(d+(E+1)*a/(a+v))}function k(a){var b,c,e,f,g,i,k,l,m,n,o,p=[],q=a.length,v=0,w=y,A=x;for((c=a.lastIndexOf(z))<0&&(c=0),e=0;c>e;++e)a.charCodeAt(e)>=128&&d("not-basic"),p.push(a.charCodeAt(e));for(f=c>0?c+1:0;q>f;){for(g=v,i=1,k=s;f>=q&&d("invalid-input"),((l=(o=a.charCodeAt(f++))-48<10?o-22:26>o-65?o-65:26>o-97?o-97:s)>=s||l>F((r-v)/i))&&d("overflow"),v+=l*i,!(l<(m=A>=k?t:k>=A+u?u:k-A));k+=s)i>F(r/(n=s-m))&&d("overflow"),i*=n;A=j(v-g,b=p.length+1,0==g),F(v/b)>r-w&&d("overflow"),w+=F(v/b),v%=b,p.splice(v++,0,w)}return h(p)}function l(a){var b,c,e,f,h,k,l,m,n,o,p,q,v,w,A,B=[];for(q=(a=g(a)).length,b=y,c=0,h=x,k=0;q>k;++k)(p=a[k])<128&&B.push(G(p));for(e=f=B.length,f&&B.push(z);q>e;){for(l=r,k=0;q>k;++k)(p=a[k])>=b&&l>p&&(l=p);for(l-b>F((r-c)/(v=e+1))&&d("overflow"),c+=(l-b)*v,b=l,k=0;q>k;++k)if((p=a[k])<b&&++c>r&&d("overflow"),p==b){for(m=c,n=s;!(m<(o=h>=n?t:n>=h+u?u:n-h));n+=s)A=m-o,w=s-o,B.push(G(i(o+A%w,0))),m=F(A/w);B.push(G(i(m,0))),h=j(c,v,e==f),c=0,++e}++c,++b}return B.join("")}var m=b&&!b.nodeType&&b,n=a&&!a.nodeType&&a,o="object"==typeof Ea&&Ea;o.global!==o&&o.window!==o&&o.self!==o||(c=o);var p,q,r=2147483647,s=36,t=1,u=26,v=38,w=700,x=72,y=128,z="-",A=/^xn--/,B=/[^\x20-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=s-t,F=Math.floor,G=String.fromCharCode;if(p={version:"1.3.2",ucs2:{decode:g,encode:h},decode:k,encode:l,toASCII:function(a){return f(a,function(a){return B.test(a)?"xn--"+l(a):a})},toUnicode:function(a){return f(a,function(a){return A.test(a)?k(a.slice(4).toLowerCase()):a})}},m&&n)if(a.exports==m)n.exports=p;else for(q in p)p.hasOwnProperty(q)&&(m[q]=p[q]);else c.punycode=p}(Ea)}),Xa={isString:function(a){return"string"==typeof a},isObject:function(a){return"object"==typeof a&&null!==a},isNull:function(a){return null===a},isNullOrUndefined:function(a){return null==a}};Xa.isString,Xa.isObject,Xa.isNull,Xa.isNullOrUndefined;var Ya=function(a,b,c,d){b=b||"&",c=c||"=";var e={};if("string"!=typeof a||0===a.length)return e;var f=/\+/g;a=a.split(b);var g=1e3;d&&"number"==typeof d.maxKeys&&(g=d.maxKeys);var h=a.length;g>0&&h>g&&(h=g);for(var i=0;h>i;++i){var j,k,l,m,n=a[i].replace(f,"%20"),o=n.indexOf(c);o>=0?(j=n.substr(0,o),k=n.substr(o+1)):(j=n,k=""),l=decodeURIComponent(j),m=decodeURIComponent(k),A(e,l)?Array.isArray(e[l])?e[l].push(m):e[l]=[e[l],m]:e[l]=m}return e},Za=function(a){switch(typeof a){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}},$a=function(a,b,c,d){return b=b||"&",c=c||"=",null===a&&(a=void 0),"object"==typeof a?Object.keys(a).map(function(d){var e=encodeURIComponent(Za(d))+c;return Array.isArray(a[d])?a[d].map(function(a){
return e+encodeURIComponent(Za(a))}).join(b):e+encodeURIComponent(Za(a[d]))}).join(b):d?encodeURIComponent(Za(d))+c+encodeURIComponent(Za(a)):""},_a=c(function(a,b){b.decode=b.parse=Ya,b.encode=b.stringify=$a}),ab=(_a.decode,_a.parse,_a.encode,_a.stringify,C),bb=function(a,b){return C(a,!1,!0).resolve(b)},cb=function(a,b){return a?C(a,!1,!0).resolveObject(b):b},db=function(a){return Xa.isString(a)&&(a=C(a)),a instanceof B?a.format():B.prototype.format.call(a)},eb=B,fb=/^([a-z0-9.+-]+:)/i,gb=/:[0-9]*$/,hb=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ib=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","	"]),jb=["'"].concat(ib),kb=["%","/","?",";","#"].concat(jb),lb=["/","?","#"],mb=/^[+a-z0-9A-Z_-]{0,63}$/,nb=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ob={javascript:!0,"javascript:":!0},pb={javascript:!0,"javascript:":!0},qb={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};B.prototype.parse=function(a,b,c){if(!Xa.isString(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var d=a.indexOf("?"),e=-1!==d&&d<a.indexOf("#")?"?":"#",f=a.split(e);f[0]=f[0].replace(/\\/g,"/");var g=a=f.join(e);if(g=g.trim(),!c&&1===a.split("#").length){var h=hb.exec(g);if(h)return this.path=g,this.href=g,this.pathname=h[1],h[2]?(this.search=h[2],this.query=b?_a.parse(this.search.substr(1)):this.search.substr(1)):b&&(this.search="",this.query={}),this}var i=fb.exec(g);if(i){var j=(i=i[0]).toLowerCase();this.protocol=j,g=g.substr(i.length)}if(c||i||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===g.substr(0,2);!k||i&&pb[i]||(g=g.substr(2),this.slashes=!0)}if(!pb[i]&&(k||i&&!qb[i])){for(var l,m,n=-1,o=0;o<lb.length;o++)-1!==(p=g.indexOf(lb[o]))&&(-1===n||n>p)&&(n=p);for(-1!==(m=-1===n?g.lastIndexOf("@"):g.lastIndexOf("@",n))&&(l=g.slice(0,m),g=g.slice(m+1),this.auth=decodeURIComponent(l)),n=-1,o=0;o<kb.length;o++){var p;-1!==(p=g.indexOf(kb[o]))&&(-1===n||n>p)&&(n=p)}-1===n&&(n=g.length),this.host=g.slice(0,n),g=g.slice(n),this.parseHost(),this.hostname=this.hostname||"";var q="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!q)for(var r=this.hostname.split(/\./),s=(o=0,r.length);s>o;o++){var t=r[o];if(t&&!t.match(mb)){for(var u="",v=0,w=t.length;w>v;v++)u+=t.charCodeAt(v)>127?"x":t[v];if(!u.match(mb)){var x=r.slice(0,o),y=r.slice(o+1),z=t.match(nb);z&&(x.push(z[1]),y.unshift(z[2])),y.length&&(g="/"+y.join(".")+g),this.hostname=x.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),q||(this.hostname=Wa.toASCII(this.hostname));var A=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+A,this.href+=this.host,q&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==g[0]&&(g="/"+g))}if(!ob[j])for(o=0,s=jb.length;s>o;o++){var C=jb[o];if(-1!==g.indexOf(C)){var D=encodeURIComponent(C);D===C&&(D=escape(C)),g=g.split(C).join(D)}}var E=g.indexOf("#");-1!==E&&(this.hash=g.substr(E),g=g.slice(0,E));var F=g.indexOf("?");if(-1!==F?(this.search=g.substr(F),this.query=g.substr(F+1),b&&(this.query=_a.parse(this.query)),g=g.slice(0,F)):b&&(this.search="",this.query={}),g&&(this.pathname=g),qb[j]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){A=this.pathname||"";var G=this.search||"";this.path=A+G}return this.href=this.format(),this},B.prototype.format=function(){var a=this.auth||"";a&&(a=(a=encodeURIComponent(a)).replace(/%3A/i,":"),a+="@");var b=this.protocol||"",c=this.pathname||"",d=this.hash||"",e=!1,f="";this.host?e=a+this.host:this.hostname&&(e=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(e+=":"+this.port)),this.query&&Xa.isObject(this.query)&&Object.keys(this.query).length&&(f=_a.stringify(this.query));var g=this.search||f&&"?"+f||"";return b&&":"!==b.substr(-1)&&(b+=":"),this.slashes||(!b||qb[b])&&!1!==e?(e="//"+(e||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):e||(e=""),d&&"#"!==d.charAt(0)&&(d="#"+d),g&&"?"!==g.charAt(0)&&(g="?"+g),b+e+(c=c.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(g=g.replace("#","%23"))+d},B.prototype.resolve=function(a){return this.resolveObject(C(a,!1,!0)).format()},B.prototype.resolveObject=function(a){if(Xa.isString(a)){var b=new B;b.parse(a,!1,!0),a=b}for(var c=new B,d=Object.keys(this),e=0;e<d.length;e++){var f=d[e];c[f]=this[f]}if(c.hash=a.hash,""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol){for(var g=Object.keys(a),h=0;h<g.length;h++){var i=g[h];"protocol"!==i&&(c[i]=a[i])}return qb[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/"),c.href=c.format(),c}if(a.protocol&&a.protocol!==c.protocol){if(!qb[a.protocol]){for(var j=Object.keys(a),k=0;k<j.length;k++){var l=j[k];c[l]=a[l]}return c.href=c.format(),c}if(c.protocol=a.protocol,a.host||pb[a.protocol])c.pathname=a.pathname;else{for(var m=(a.pathname||"").split("/");m.length&&!(a.host=m.shift()););a.host||(a.host=""),a.hostname||(a.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),c.pathname=m.join("/")}if(c.search=a.search,c.query=a.query,c.host=a.host||"",c.auth=a.auth,c.hostname=a.hostname||a.host,c.port=a.port,c.pathname||c.search){var n=c.pathname||"",o=c.search||"";c.path=n+o}return c.slashes=c.slashes||a.slashes,c.href=c.format(),c}var p=c.pathname&&"/"===c.pathname.charAt(0),q=a.host||a.pathname&&"/"===a.pathname.charAt(0),r=q||p||c.host&&a.pathname,s=r,t=c.pathname&&c.pathname.split("/")||[],u=(m=a.pathname&&a.pathname.split("/")||[],c.protocol&&!qb[c.protocol]);if(u&&(c.hostname="",c.port=null,c.host&&(""===t[0]?t[0]=c.host:t.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===m[0]?m[0]=a.host:m.unshift(a.host)),a.host=null),r=r&&(""===m[0]||""===t[0])),q)c.host=a.host||""===a.host?a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=a.search,c.query=a.query,t=m;else if(m.length)t||(t=[]),t.pop(),t=t.concat(m),c.search=a.search,c.query=a.query;else if(!Xa.isNullOrUndefined(a.search))return u&&(c.hostname=c.host=t.shift(),(z=!!(c.host&&c.host.indexOf("@")>0)&&c.host.split("@"))&&(c.auth=z.shift(),c.host=c.hostname=z.shift())),c.search=a.search,c.query=a.query,Xa.isNull(c.pathname)&&Xa.isNull(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c;if(!t.length)return c.pathname=null,c.search?c.path="/"+c.search:c.path=null,c.href=c.format(),c;for(var v=t.slice(-1)[0],w=(c.host||a.host||t.length>1)&&("."===v||".."===v)||""===v,x=0,y=t.length;y>=0;y--)"."===(v=t[y])?t.splice(y,1):".."===v?(t.splice(y,1),x++):x&&(t.splice(y,1),x--);if(!r&&!s)for(;x--;x)t.unshift("..");!r||""===t[0]||t[0]&&"/"===t[0].charAt(0)||t.unshift(""),w&&"/"!==t.join("/").substr(-1)&&t.push("");var z,A=""===t[0]||t[0]&&"/"===t[0].charAt(0);return u&&(c.hostname=c.host=A?"":t.length?t.shift():"",(z=!!(c.host&&c.host.indexOf("@")>0)&&c.host.split("@"))&&(c.auth=z.shift(),c.host=c.hostname=z.shift())),(r=r||c.host&&t.length)&&!A&&t.unshift(""),t.length?c.pathname=t.join("/"):(c.pathname=null,c.path=null),Xa.isNull(c.pathname)&&Xa.isNull(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.auth=a.auth||c.auth,c.slashes=c.slashes||a.slashes,c.href=c.format(),c},B.prototype.parseHost=function(){var a=this.host,b=gb.exec(a);b&&(":"!==(b=b[0])&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length)),a&&(this.hostname=a)};var rb={parse:ab,resolve:bb,resolveObject:cb,format:db,Url:eb},sb={WEBGL_LEGACY:0,WEBGL:1,WEBGL2:2},tb={UNKNOWN:0,WEBGL:1,CANVAS:2},ub={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19,NONE:20,SRC_OVER:0,SRC_IN:21,SRC_OUT:22,SRC_ATOP:23,DST_OVER:24,DST_IN:25,DST_OUT:26,DST_ATOP:27,ERASE:26,SUBTRACT:28},vb={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},wb={RGBA:6408,RGB:6407,ALPHA:6406,LUMINANCE:6409,LUMINANCE_ALPHA:6410,DEPTH_COMPONENT:6402,DEPTH_STENCIL:34041},xb={TEXTURE_2D:3553,TEXTURE_CUBE_MAP:34067,TEXTURE_2D_ARRAY:35866,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074},yb={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_5_6_5:33635,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,FLOAT:5126,HALF_FLOAT:36193},zb={LINEAR:1,NEAREST:0},Ab={CLAMP:33071,REPEAT:10497,MIRRORED_REPEAT:33648},Bb={OFF:0,POW2:1,ON:2},Cb={AUTO:0,MANUAL:1},Db={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};Sa.RETINA_PREFIX=/@([0-9\.]+)x/;var Eb,Fb=!1,Gb="5.0.4",Hb=function(){for(var a=[],b=[],c=0;32>c;c++)a[c]=c,b[c]=c;a[ub.NORMAL_NPM]=ub.NORMAL,a[ub.ADD_NPM]=ub.ADD,a[ub.SCREEN_NPM]=ub.SCREEN,b[ub.NORMAL]=ub.NORMAL_NPM,b[ub.ADD]=ub.ADD_NPM,b[ub.SCREEN]=ub.SCREEN_NPM;var d=[];return d.push(b),d.push(a),d}(),Ib=0,Jb={},Kb=Object.create(null),Lb=Object.create(null),Mb=function(a,b,c){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=c||Sa.RESOLUTION,this.resize(a,b)},Nb={width:{configurable:!0},height:{configurable:!0}};Mb.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},Mb.prototype.resize=function(a,b){this.canvas.width=a*this.resolution,this.canvas.height=b*this.resolution},Mb.prototype.destroy=function(){this.context=null,this.canvas=null},Nb.width.get=function(){return this.canvas.width},Nb.width.set=function(a){this.canvas.width=a},Nb.height.get=function(){return this.canvas.height},Nb.height.set=function(a){this.canvas.height=a},Object.defineProperties(Mb.prototype,Nb);var Ob,Pb=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,Qb={},Rb={BaseTextureCache:Lb,CanvasRenderTarget:Mb,DATA_URI:Pb,ProgramCache:Jb,TextureCache:Kb,clearTextureCache:function(){var a;for(a in Kb)delete Kb[a];for(a in Lb)delete Lb[a]},correctBlendMode:I,createIndicesForQuads:M,decomposeDataUri:function(a){var b=Pb.exec(a);return b?{mediaType:b[1]?b[1].toLowerCase():void 0,subType:b[2]?b[2].toLowerCase():void 0,charset:b[3]?b[3].toLowerCase():void 0,encoding:b[4]?b[4].toLowerCase():void 0,data:b[5]}:void 0},deprecation:W,destroyTextureCache:function(){var a;for(a in Kb)Kb[a].destroy();for(a in Lb)Lb[a].destroy()},determineCrossOrigin:U,getResolutionOfUrl:V,hex2rgb:F,hex2string:G,isPow2:R,isWebGLSupported:E,log2:S,nextPow2:Q,premultiplyBlendMode:Hb,premultiplyRgba:J,premultiplyTint:K,premultiplyTintToRgba:L,removeItems:N,rgb2hex:function(a){return(255*a[0]<<16)+(255*a[1]<<8)+(255*a[2]|0)},sayHello:D,sign:P,skipHello:function(){Fb=!0},string2hex:H,trimCanvas:T,uid:O,isMobile:Ra,EventEmitter:Ta,earcut:Ua,url:rb},Sb=function(a,b){void 0===a&&(a=0),void 0===b&&(b=0),this.x=a,this.y=b};Sb.prototype.clone=function(){return new Sb(this.x,this.y)},Sb.prototype.copyFrom=function(a){return this.set(a.x,a.y),this},Sb.prototype.copyTo=function(a){return a.set(this.x,this.y),a},Sb.prototype.equals=function(a){return a.x===this.x&&a.y===this.y},Sb.prototype.set=function(a,b){this.x=a||0,this.y=b||(0!==b?this.x:0)};var Tb=function(a,b,c,d){void 0===c&&(c=0),void 0===d&&(d=0),this._x=c,this._y=d,this.cb=a,this.scope=b},Ub={x:{configurable:!0},y:{configurable:!0}};Tb.prototype.clone=function(a,b){void 0===a&&(a=null),void 0===b&&(b=null);var c=a||this.cb,d=b||this.scope;return new Tb(c,d,this._x,this._y)},Tb.prototype.set=function(a,b){var c=a||0,d=b||(0!==b?c:0);this._x===c&&this._y===d||(this._x=c,this._y=d,this.cb.call(this.scope))},Tb.prototype.copyFrom=function(a){return this._x===a.x&&this._y===a.y||(this._x=a.x,this._y=a.y,this.cb.call(this.scope)),this},Tb.prototype.copyTo=function(a){return a.set(this._x,this._y),a},Tb.prototype.equals=function(a){return a.x===this._x&&a.y===this._y},Ub.x.get=function(){return this._x},Ub.x.set=function(a){this._x!==a&&(this._x=a,this.cb.call(this.scope))},Ub.y.get=function(){return this._y},Ub.y.set=function(a){this._y!==a&&(this._y=a,this.cb.call(this.scope))},Object.defineProperties(Tb.prototype,Ub);var Vb=2*Math.PI,Wb=180/Math.PI,Xb=Math.PI/180,Yb={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},Zb=function(a,b,c,d,e,f){void 0===a&&(a=1),void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=1),void 0===e&&(e=0),void 0===f&&(f=0),this.a=a,this.b=b,this.c=c,this.d=d,this.tx=e,this.ty=f,this.array=null},$b={IDENTITY:{configurable:!0},TEMP_MATRIX:{configurable:!0}};Zb.prototype.fromArray=function(a){this.a=a[0],this.b=a[1],this.c=a[3],this.d=a[4],this.tx=a[2],this.ty=a[5]},Zb.prototype.set=function(a,b,c,d,e,f){return this.a=a,this.b=b,this.c=c,this.d=d,this.tx=e,this.ty=f,this},Zb.prototype.toArray=function(a,b){this.array||(this.array=new Float32Array(9));var c=b||this.array;return a?(c[0]=this.a,c[1]=this.b,c[2]=0,c[3]=this.c,c[4]=this.d,c[5]=0,c[6]=this.tx,c[7]=this.ty,c[8]=1):(c[0]=this.a,c[1]=this.c,c[2]=this.tx,c[3]=this.b,c[4]=this.d,c[5]=this.ty,c[6]=0,c[7]=0,c[8]=1),c},Zb.prototype.apply=function(a,b){b=b||new Sb;var c=a.x,d=a.y;return b.x=this.a*c+this.c*d+this.tx,b.y=this.b*c+this.d*d+this.ty,b},Zb.prototype.applyInverse=function(a,b){b=b||new Sb;var c=1/(this.a*this.d+this.c*-this.b),d=a.x,e=a.y;return b.x=this.d*c*d+-this.c*c*e+(this.ty*this.c-this.tx*this.d)*c,b.y=this.a*c*e+-this.b*c*d+(-this.ty*this.a+this.tx*this.b)*c,b},Zb.prototype.translate=function(a,b){return this.tx+=a,this.ty+=b,this},Zb.prototype.scale=function(a,b){return this.a*=a,this.d*=b,this.c*=a,this.b*=b,this.tx*=a,this.ty*=b,this},Zb.prototype.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),d=this.a,e=this.c,f=this.tx;return this.a=d*b-this.b*c,this.b=d*c+this.b*b,this.c=e*b-this.d*c,this.d=e*c+this.d*b,this.tx=f*b-this.ty*c,this.ty=f*c+this.ty*b,this},Zb.prototype.append=function(a){var b=this.a,c=this.b,d=this.c,e=this.d;return this.a=a.a*b+a.b*d,this.b=a.a*c+a.b*e,this.c=a.c*b+a.d*d,this.d=a.c*c+a.d*e,this.tx=a.tx*b+a.ty*d+this.tx,this.ty=a.tx*c+a.ty*e+this.ty,this},Zb.prototype.setTransform=function(a,b,c,d,e,f,g,h,i){return this.a=Math.cos(g+i)*e,this.b=Math.sin(g+i)*e,this.c=-Math.sin(g-h)*f,this.d=Math.cos(g-h)*f,this.tx=a-(c*this.a+d*this.c),this.ty=b-(c*this.b+d*this.d),this},Zb.prototype.prepend=function(a){var b=this.tx;if(1!==a.a||0!==a.b||0!==a.c||1!==a.d){var c=this.a,d=this.c;this.a=c*a.a+this.b*a.c,this.b=c*a.b+this.b*a.d,this.c=d*a.a+this.d*a.c,this.d=d*a.b+this.d*a.d}return this.tx=b*a.a+this.ty*a.c+a.tx,this.ty=b*a.b+this.ty*a.d+a.ty,this},Zb.prototype.decompose=function(a){var b=this.a,c=this.b,d=this.c,e=this.d,f=-Math.atan2(-d,e),g=Math.atan2(c,b),h=Math.abs(f+g);return 1e-5>h||Math.abs(Vb-h)<1e-5?(a.rotation=g,a.skew.x=a.skew.y=0):(a.rotation=0,a.skew.x=f,a.skew.y=g),a.scale.x=Math.sqrt(b*b+c*c),a.scale.y=Math.sqrt(d*d+e*e),a.position.x=this.tx,a.position.y=this.ty,a},Zb.prototype.invert=function(){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.tx,f=a*d-b*c;return this.a=d/f,this.b=-b/f,this.c=-c/f,this.d=a/f,this.tx=(c*this.ty-d*e)/f,this.ty=-(a*this.ty-b*e)/f,this},Zb.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},Zb.prototype.clone=function(){var a=new Zb;return a.a=this.a,a.b=this.b,a.c=this.c,a.d=this.d,a.tx=this.tx,a.ty=this.ty,a},Zb.prototype.copyTo=function(a){return a.a=this.a,a.b=this.b,a.c=this.c,a.d=this.d,a.tx=this.tx,a.ty=this.ty,a},Zb.prototype.copyFrom=function(a){return this.a=a.a,this.b=a.b,this.c=a.c,this.d=a.d,this.tx=a.tx,this.ty=a.ty,this},$b.IDENTITY.get=function(){return new Zb},$b.TEMP_MATRIX.get=function(){return new Zb},Object.defineProperties(Zb,$b);var _b=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ac=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],bc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],cc=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],dc=[],ec=[];!function(){for(var a=0;16>a;a++){var b=[];ec.push(b);for(var c=0;16>c;c++)for(var d=X(_b[a]*_b[c]+bc[a]*ac[c]),e=X(ac[a]*_b[c]+cc[a]*ac[c]),f=X(_b[a]*bc[c]+bc[a]*cc[c]),g=X(ac[a]*bc[c]+cc[a]*cc[c]),h=0;16>h;h++)if(_b[h]===d&&ac[h]===e&&bc[h]===f&&cc[h]===g){b.push(h);break}}for(var i=0;16>i;i++){var j=new Zb;j.set(_b[i],ac[i],bc[i],cc[i],0,0),dc.push(j)}}();var fc={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(a){return _b[a]},uY:function(a){return ac[a]},vX:function(a){return bc[a]},vY:function(a){return cc[a]},inv:function(a){return 8&a?15&a:7&-a},add:function(a,b){return ec[a][b]},sub:function(a,b){return ec[a][fc.inv(b)]},rotate180:function(a){return 4^a},isVertical:function(a){return 2==(3&a)},byDirection:function(a,b){return 2*Math.abs(a)<=Math.abs(b)?b>=0?fc.S:fc.N:2*Math.abs(b)<=Math.abs(a)?a>0?fc.E:fc.W:b>0?a>0?fc.SE:fc.SW:a>0?fc.NE:fc.NW},matrixAppendRotationInv:function(a,b,c,d){void 0===c&&(c=0),void 0===d&&(d=0);var e=dc[fc.inv(b)];e.tx=c,e.ty=d,a.append(e)}},gc=function(){this.worldTransform=new Zb,this.localTransform=new Zb,this.position=new Tb(this.onChange,this,0,0),this.scale=new Tb(this.onChange,this,1,1),this.pivot=new Tb(this.onChange,this,0,0),this.skew=new Tb(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0},hc={rotation:{configurable:!0}};gc.prototype.onChange=function(){this._localID++},gc.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},gc.prototype.updateLocalTransform=function(){var a=this.localTransform;this._localID!==this._currentLocalID&&(a.a=this._cx*this.scale._x,a.b=this._sx*this.scale._x,a.c=this._cy*this.scale._y,a.d=this._sy*this.scale._y,a.tx=this.position._x-(this.pivot._x*a.a+this.pivot._y*a.c),a.ty=this.position._y-(this.pivot._x*a.b+this.pivot._y*a.d),this._currentLocalID=this._localID,this._parentID=-1)},gc.prototype.updateTransform=function(a){var b=this.localTransform;if(this._localID!==this._currentLocalID&&(b.a=this._cx*this.scale._x,b.b=this._sx*this.scale._x,b.c=this._cy*this.scale._y,b.d=this._sy*this.scale._y,b.tx=this.position._x-(this.pivot._x*b.a+this.pivot._y*b.c),b.ty=this.position._y-(this.pivot._x*b.b+this.pivot._y*b.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==a._worldID){var c=a.worldTransform,d=this.worldTransform;d.a=b.a*c.a+b.b*c.c,d.b=b.a*c.b+b.b*c.d,d.c=b.c*c.a+b.d*c.c,d.d=b.c*c.b+b.d*c.d,d.tx=b.tx*c.a+b.ty*c.c+c.tx,d.ty=b.tx*c.b+b.ty*c.d+c.ty,this._parentID=a._worldID,this._worldID++}},gc.prototype.setFromMatrix=function(a){a.decompose(this),this._localID++},hc.rotation.get=function(){return this._rotation},hc.rotation.set=function(a){this._rotation!==a&&(this._rotation=a,this.updateSkew())},Object.defineProperties(gc.prototype,hc),gc.IDENTITY=new gc;var ic=function(a,b,c,d){void 0===a&&(a=0),void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),this.x=Number(a),this.y=Number(b),this.width=Number(c),this.height=Number(d),this.type=Yb.RECT},jc={left:{configurable:!0},right:{configurable:!0},top:{configurable:!0},bottom:{configurable:!0}},kc={EMPTY:{configurable:!0}};jc.left.get=function(){return this.x},jc.right.get=function(){return this.x+this.width},jc.top.get=function(){return this.y},jc.bottom.get=function(){return this.y+this.height},kc.EMPTY.get=function(){return new ic(0,0,0,0)},ic.prototype.clone=function(){return new ic(this.x,this.y,this.width,this.height)},ic.prototype.copyFrom=function(a){return this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this},ic.prototype.copyTo=function(a){return a.x=this.x,a.y=this.y,a.width=this.width,a.height=this.height,a},ic.prototype.contains=function(a,b){return!(this.width<=0||this.height<=0)&&a>=this.x&&a<this.x+this.width&&b>=this.y&&b<this.y+this.height},ic.prototype.pad=function(a,b){a=a||0,b=b||(0!==b?a:0),this.x-=a,this.y-=b,this.width+=2*a,this.height+=2*b},ic.prototype.fit=function(a){var b=Math.max(this.x,a.x),c=Math.min(this.x+this.width,a.x+a.width),d=Math.max(this.y,a.y),e=Math.min(this.y+this.height,a.y+a.height);this.x=b,this.width=Math.max(c-b,0),this.y=d,this.height=Math.max(e-d,0)},ic.prototype.ceil=function(a,b){void 0===a&&(a=1),void 0===b&&(b=.001);var c=Math.ceil((this.x+this.width-b)*a)/a,d=Math.ceil((this.y+this.height-b)*a)/a;this.x=Math.floor((this.x+b)*a)/a,this.y=Math.floor((this.y+b)*a)/a,this.width=c-this.x,this.height=d-this.y},ic.prototype.enlarge=function(a){var b=Math.min(this.x,a.x),c=Math.max(this.x+this.width,a.x+a.width),d=Math.min(this.y,a.y),e=Math.max(this.y+this.height,a.y+a.height);this.x=b,this.width=c-b,this.y=d,this.height=e-d},Object.defineProperties(ic.prototype,jc),Object.defineProperties(ic,kc);var lc=function(a,b,c){void 0===a&&(a=0),void 0===b&&(b=0),void 0===c&&(c=0),this.x=a,this.y=b,this.radius=c,this.type=Yb.CIRC};lc.prototype.clone=function(){return new lc(this.x,this.y,this.radius)},lc.prototype.contains=function(a,b){if(this.radius<=0)return!1;var c=this.radius*this.radius,d=this.x-a,e=this.y-b;return(d*=d)+(e*=e)<=c},lc.prototype.getBounds=function(){return new ic(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)};var mc=function(a,b,c,d){void 0===a&&(a=0),void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),this.x=a,this.y=b,this.width=c,this.height=d,this.type=Yb.ELIP};mc.prototype.clone=function(){return new mc(this.x,this.y,this.width,this.height)},mc.prototype.contains=function(a,b){if(this.width<=0||this.height<=0)return!1;var c=(a-this.x)/this.width,d=(b-this.y)/this.height;return(c*=c)+(d*=d)<=1},mc.prototype.getBounds=function(){return new ic(this.x-this.width,this.y-this.height,this.width,this.height)};var nc=function(){for(var a=arguments,b=[],c=arguments.length;c--;)b[c]=a[c];if(Array.isArray(b[0])&&(b=b[0]),b[0]instanceof Sb){for(var d=[],e=0,f=b.length;f>e;e++)d.push(b[e].x,b[e].y);b=d}this.points=b,this.type=Yb.POLY,this.closeStroke=!0};nc.prototype.clone=function(){var a=new nc(this.points.slice());return a.closeStroke=this.closeStroke,a},nc.prototype.contains=function(a,b){for(var c=!1,d=this.points.length/2,e=0,f=d-1;d>e;f=e++){var g=this.points[2*e],h=this.points[2*e+1],i=this.points[2*f],j=this.points[2*f+1];h>b!=j>b&&(b-h)/(j-h)*(i-g)+g>a&&(c=!c)}return c};var oc=function(a,b,c,d,e){void 0===a&&(a=0),void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),void 0===e&&(e=20),this.x=a,this.y=b,this.width=c,this.height=d,this.radius=e,this.type=Yb.RREC};oc.prototype.clone=function(){return new oc(this.x,this.y,this.width,this.height,this.radius)},oc.prototype.contains=function(a,b){if(this.width<=0||this.height<=0)return!1;if(a>=this.x&&a<=this.x+this.width&&b>=this.y&&b<=this.y+this.height){if(b>=this.y+this.radius&&b<=this.y+this.height-this.radius||a>=this.x+this.radius&&a<=this.x+this.width-this.radius)return!0;var c=a-(this.x+this.radius),d=b-(this.y+this.radius),e=this.radius*this.radius;if(e>=c*c+d*d)return!0;if((c=a-(this.x+this.width-this.radius))*c+d*d<=e)return!0;if(c*c+(d=b-(this.y+this.height-this.radius))*d<=e)return!0;if((c=a-(this.x+this.radius))*c+d*d<=e)return!0}return!1},Sa.SORTABLE_CHILDREN=!1;var pc=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null};pc.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},pc.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},pc.prototype.getRectangle=function(a){return this.minX>this.maxX||this.minY>this.maxY?ic.EMPTY:((a=a||new ic(0,0,1,1)).x=this.minX,a.y=this.minY,a.width=this.maxX-this.minX,a.height=this.maxY-this.minY,a)},pc.prototype.addPoint=function(a){this.minX=Math.min(this.minX,a.x),this.maxX=Math.max(this.maxX,a.x),this.minY=Math.min(this.minY,a.y),this.maxY=Math.max(this.maxY,a.y)},pc.prototype.addQuad=function(a){var b=this.minX,c=this.minY,d=this.maxX,e=this.maxY,f=a[0],g=a[1];b=b>f?f:b,c=c>g?g:c,d=f>d?f:d,e=g>e?g:e,b=(f=a[2])<b?f:b,c=(g=a[3])<c?g:c,d=f>d?f:d,e=g>e?g:e,b=(f=a[4])<b?f:b,c=(g=a[5])<c?g:c,d=f>d?f:d,e=g>e?g:e,b=(f=a[6])<b?f:b,c=(g=a[7])<c?g:c,d=f>d?f:d,e=g>e?g:e,this.minX=b,this.minY=c,this.maxX=d,this.maxY=e},pc.prototype.addFrame=function(a,b,c,d,e){var f=a.worldTransform,g=f.a,h=f.b,i=f.c,j=f.d,k=f.tx,l=f.ty,m=this.minX,n=this.minY,o=this.maxX,p=this.maxY,q=g*b+i*c+k,r=h*b+j*c+l;m=m>q?q:m,n=n>r?r:n,o=q>o?q:o,p=r>p?r:p,m=(q=g*d+i*c+k)<m?q:m,n=(r=h*d+j*c+l)<n?r:n,o=q>o?q:o,p=r>p?r:p,m=(q=g*b+i*e+k)<m?q:m,n=(r=h*b+j*e+l)<n?r:n,o=q>o?q:o,p=r>p?r:p,m=(q=g*d+i*e+k)<m?q:m,n=(r=h*d+j*e+l)<n?r:n,o=q>o?q:o,p=r>p?r:p,this.minX=m,this.minY=n,this.maxX=o,this.maxY=p},pc.prototype.addVertexData=function(a,b,c){for(var d=this.minX,e=this.minY,f=this.maxX,g=this.maxY,h=b;c>h;h+=2){var i=a[h],j=a[h+1];d=d>i?i:d,e=e>j?j:e,f=i>f?i:f,g=j>g?j:g}this.minX=d,this.minY=e,this.maxX=f,this.maxY=g},pc.prototype.addVertices=function(a,b,c,d){for(var e=a.worldTransform,f=e.a,g=e.b,h=e.c,i=e.d,j=e.tx,k=e.ty,l=this.minX,m=this.minY,n=this.maxX,o=this.maxY,p=c;d>p;p+=2){var q=b[p],r=b[p+1],s=f*q+h*r+j,t=i*r+g*q+k;l=l>s?s:l,m=m>t?t:m,n=s>n?s:n,o=t>o?t:o}this.minX=l,this.minY=m,this.maxX=n,this.maxY=o},pc.prototype.addBounds=function(a){var b=this.minX,c=this.minY,d=this.maxX,e=this.maxY;this.minX=a.minX<b?a.minX:b,this.minY=a.minY<c?a.minY:c,this.maxX=a.maxX>d?a.maxX:d,this.maxY=a.maxY>e?a.maxY:e},pc.prototype.addBoundsMask=function(a,b){var c=a.minX>b.minX?a.minX:b.minX,d=a.minY>b.minY?a.minY:b.minY,e=a.maxX<b.maxX?a.maxX:b.maxX,f=a.maxY<b.maxY?a.maxY:b.maxY;if(e>=c&&f>=d){var g=this.minX,h=this.minY,i=this.maxX,j=this.maxY;this.minX=g>c?c:g,this.minY=h>d?d:h,this.maxX=e>i?e:i,this.maxY=f>j?f:j}},pc.prototype.addBoundsArea=function(a,b){var c=a.minX>b.x?a.minX:b.x,d=a.minY>b.y?a.minY:b.y,e=a.maxX<b.x+b.width?a.maxX:b.x+b.width,f=a.maxY<b.y+b.height?a.maxY:b.y+b.height;if(e>=c&&f>=d){var g=this.minX,h=this.minY,i=this.maxX,j=this.maxY;this.minX=g>c?c:g,this.minY=h>d?d:h,this.maxX=e>i?e:i,this.maxY=f>j?f:j}};var qc=function(a){function b(){a.call(this),this.tempDisplayObjectParent=null,this.transform=new gc,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new pc,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._destroyed=!1,this.isSprite=!1}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={_tempDisplayObjectParent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},worldTransform:{configurable:!0},localTransform:{configurable:!0},position:{configurable:!0},scale:{configurable:!0},pivot:{configurable:!0},skew:{configurable:!0},rotation:{configurable:!0},angle:{configurable:!0},zIndex:{configurable:!0},worldVisible:{configurable:!0},mask:{configurable:!0}};return b.mixin=function(a){for(var c=Object.keys(a),d=0;d<c.length;++d){var e=c[d];Object.defineProperty(b.prototype,e,Object.getOwnPropertyDescriptor(a,e))}},c._tempDisplayObjectParent.get=function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new b),this.tempDisplayObjectParent},b.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},b.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},b.prototype.getBounds=function(a,b){return a||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),b||(this._boundsRect||(this._boundsRect=new ic),b=this._boundsRect),this._bounds.getRectangle(b)},b.prototype.getLocalBounds=function(a){var b=this.transform,c=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,a||(this._localBoundsRect||(this._localBoundsRect=new ic),a=this._localBoundsRect);var d=this.getBounds(!1,a);return this.parent=c,this.transform=b,d},b.prototype.toGlobal=function(a,b,c){return void 0===c&&(c=!1),c||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(a,b)},b.prototype.toLocal=function(a,b,c,d){return b&&(a=b.toGlobal(a,c,d)),d||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(a,c)},b.prototype.render=function(a){},b.prototype.setParent=function(a){if(!a||!a.addChild)throw new Error("setParent: Argument must be a Container");return a.addChild(this),a},b.prototype.setTransform=function(a,b,c,d,e,f,g,h,i){return void 0===a&&(a=0),void 0===b&&(b=0),void 0===c&&(c=1),void 0===d&&(d=1),void 0===e&&(e=0),void 0===f&&(f=0),void 0===g&&(g=0),void 0===h&&(h=0),void 0===i&&(i=0),this.position.x=a,this.position.y=b,this.scale.x=c||1,this.scale.y=d||1,this.rotation=e,this.skew.x=f,this.skew.y=g,this.pivot.x=h,this.pivot.y=i,this},b.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},c.x.get=function(){return this.position.x},c.x.set=function(a){this.transform.position.x=a},c.y.get=function(){return this.position.y},c.y.set=function(a){this.transform.position.y=a},c.worldTransform.get=function(){return this.transform.worldTransform},c.localTransform.get=function(){return this.transform.localTransform},c.position.get=function(){return this.transform.position},c.position.set=function(a){this.transform.position.copyFrom(a)},c.scale.get=function(){return this.transform.scale},c.scale.set=function(a){this.transform.scale.copyFrom(a)},c.pivot.get=function(){return this.transform.pivot},c.pivot.set=function(a){this.transform.pivot.copyFrom(a)},c.skew.get=function(){return this.transform.skew},c.skew.set=function(a){this.transform.skew.copyFrom(a)},c.rotation.get=function(){return this.transform.rotation},c.rotation.set=function(a){this.transform.rotation=a},c.angle.get=function(){return this.transform.rotation*Wb},c.angle.set=function(a){this.transform.rotation=a*Xb},c.zIndex.get=function(){return this._zIndex},c.zIndex.set=function(a){this._zIndex=a,this.parent&&(this.parent.sortDirty=!0)},c.worldVisible.get=function(){var a=this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0},c.mask.get=function(){return this._mask},c.mask.set=function(a){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=a,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)},Object.defineProperties(b.prototype,c),b}(Ta);qc.prototype.displayObjectUpdateTransform=qc.prototype.updateTransform;var rc=function(a){function b(){a.call(this),this.children=[],this.sortableChildren=Sa.SORTABLE_CHILDREN,this.sortDirty=!1}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={width:{configurable:!0},height:{configurable:!0}};return b.prototype.onChildrenChange=function(){},b.prototype.addChild=function(a){var b=arguments,c=arguments.length;if(c>1)for(var d=0;c>d;d++)this.addChild(b[d]);else a.parent&&a.parent.removeChild(a),a.parent=this,this.sortDirty=!0,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",a,this,this.children.length-1),a.emit("added",this);return a},b.prototype.addChildAt=function(a,b){if(0>b||b>this.children.length)throw new Error(a+"addChildAt: The index "+b+" supplied is out of bounds "+this.children.length);
return a.parent&&a.parent.removeChild(a),a.parent=this,this.sortDirty=!0,a.transform._parentID=-1,this.children.splice(b,0,a),this._boundsID++,this.onChildrenChange(b),a.emit("added",this),this.emit("childAdded",a,this,b),a},b.prototype.swapChildren=function(a,b){if(a!==b){var c=this.getChildIndex(a),d=this.getChildIndex(b);this.children[c]=b,this.children[d]=a,this.onChildrenChange(d>c?c:d)}},b.prototype.getChildIndex=function(a){var b=this.children.indexOf(a);if(-1===b)throw new Error("The supplied DisplayObject must be a child of the caller");return b},b.prototype.setChildIndex=function(a,b){if(0>b||b>=this.children.length)throw new Error("The index "+b+" supplied is out of bounds "+this.children.length);var c=this.getChildIndex(a);N(this.children,c,1),this.children.splice(b,0,a),this.onChildrenChange(b)},b.prototype.getChildAt=function(a){if(0>a||a>=this.children.length)throw new Error("getChildAt: Index ("+a+") does not exist.");return this.children[a]},b.prototype.removeChild=function(a){var b=arguments,c=arguments.length;if(c>1)for(var d=0;c>d;d++)this.removeChild(b[d]);else{var e=this.children.indexOf(a);if(-1===e)return null;a.parent=null,a.transform._parentID=-1,N(this.children,e,1),this._boundsID++,this.onChildrenChange(e),a.emit("removed",this),this.emit("childRemoved",a,this,e)}return a},b.prototype.removeChildAt=function(a){var b=this.getChildAt(a);return b.parent=null,b.transform._parentID=-1,N(this.children,a,1),this._boundsID++,this.onChildrenChange(a),b.emit("removed",this),this.emit("childRemoved",b,this,a),b},b.prototype.removeChildren=function(a,b){void 0===a&&(a=0);var c,d=a,e="number"==typeof b?b:this.children.length,f=e-d;if(f>0&&e>=f){c=this.children.splice(d,f);for(var g=0;g<c.length;++g)c[g].parent=null,c[g].transform&&(c[g].transform._parentID=-1);this._boundsID++,this.onChildrenChange(a);for(var h=0;h<c.length;++h)c[h].emit("removed",this),this.emit("childRemoved",c[h],this,h);return c}if(0===f&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},b.prototype.sortChildren=function(){for(var a=!1,b=0,c=this.children.length;c>b;++b){var d=this.children[b];d._lastSortedIndex=b,a||0===d.zIndex||(a=!0)}a&&this.children.length>1&&this.children.sort(Y),this.sortDirty=!1},b.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var a=0,b=this.children.length;b>a;++a){var c=this.children[a];c.visible&&c.updateTransform()}},b.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var a=0;a<this.children.length;a++){var b=this.children[a];b.visible&&b.renderable&&(b.calculateBounds(),b._mask?(b._mask.calculateBounds(),this._bounds.addBoundsMask(b._bounds,b._mask._bounds)):b.filterArea?this._bounds.addBoundsArea(b._bounds,b.filterArea):this._bounds.addBounds(b._bounds))}this._lastBoundsID=this._boundsID},b.prototype._calculateBounds=function(){},b.prototype.render=function(a){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters)this.renderAdvanced(a);else{this._render(a);for(var b=0,c=this.children.length;c>b;++b)this.children[b].render(a)}},b.prototype.renderAdvanced=function(a){a.batch.flush();var b=this.filters,c=this._mask;if(b){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var d=0;d<b.length;d++)b[d].enabled&&this._enabledFilters.push(b[d]);this._enabledFilters.length&&a.filter.push(this,this._enabledFilters)}c&&a.mask.push(this,this._mask),this._render(a);for(var e=0,f=this.children.length;f>e;e++)this.children[e].render(a);a.batch.flush(),c&&a.mask.pop(this,this._mask),b&&this._enabledFilters&&this._enabledFilters.length&&a.filter.pop()},b.prototype._render=function(a){},b.prototype.destroy=function(b){a.prototype.destroy.call(this),this.sortDirty=!1;var c="boolean"==typeof b?b:b&&b.children,d=this.removeChildren(0,this.children.length);if(c)for(var e=0;e<d.length;++e)d[e].destroy(b)},c.width.get=function(){return this.scale.x*this.getLocalBounds().width},c.width.set=function(a){var b=this.getLocalBounds().width;this.scale.x=0!==b?a/b:1,this._width=a},c.height.get=function(){return this.scale.y*this.getLocalBounds().height},c.height.set=function(a){var b=this.getLocalBounds().height;this.scale.y=0!==b?a/b:1,this._height=a},Object.defineProperties(b.prototype,c),b}(qc);rc.prototype.containerUpdateTransform=rc.prototype.updateTransform;var sc={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1};qc.mixin(sc);var tc=function(a){this._hookDiv=null,(Ra.tablet||Ra.phone)&&this.createTouchHook();var b=document.createElement("div");b.style.width="100px",b.style.height="100px",b.style.position="absolute",b.style.top="0px",b.style.left="0px",b.style.zIndex=2,this.div=b,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=a,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessibility=!1,window.addEventListener("keydown",this._onKeyDown,!1)};tc.prototype.createTouchHook=function(){var a=this,b=document.createElement("button");b.style.width="1px",b.style.height="1px",b.style.position="absolute",b.style.top="-1000px",b.style.left="-1000px",b.style.zIndex=2,b.style.backgroundColor="#FF0000",b.title="HOOK DIV",b.addEventListener("focus",function(){a.isMobileAccessibility=!0,a.activate(),a.destroyTouchHook()}),document.body.appendChild(b),this._hookDiv=b},tc.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},tc.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},tc.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessibility&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},tc.prototype.updateAccessibleObjects=function(a){if(a.visible){a.accessible&&a.interactive&&(a._accessibleActive||this.addChild(a),a.renderId=this.renderId);for(var b=a.children,c=0;c<b.length;c++)this.updateAccessibleObjects(b[c])}},tc.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var a=this.renderer.view.getBoundingClientRect(),b=a.width/this.renderer.width,c=a.height/this.renderer.height,d=this.div;d.style.left=a.left+"px",d.style.top=a.top+"px",d.style.width=this.renderer.width+"px",d.style.height=this.renderer.height+"px";for(var e=0;e<this.children.length;e++){var f=this.children[e];if(f.renderId!==this.renderId)f._accessibleActive=!1,N(this.children,e,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,e--,0===this.children.length&&this.deactivate();else{d=f._accessibleDiv;var g=f.hitArea,h=f.worldTransform;f.hitArea?(d.style.left=(h.tx+g.x*h.a)*b+"px",d.style.top=(h.ty+g.y*h.d)*c+"px",d.style.width=g.width*h.a*b+"px",d.style.height=g.height*h.d*c+"px"):(g=f.getBounds(),this.capHitArea(g),d.style.left=g.x*b+"px",d.style.top=g.y*c+"px",d.style.width=g.width*b+"px",d.style.height=g.height*c+"px",d.title!==f.accessibleTitle&&null!==f.accessibleTitle&&(d.title=f.accessibleTitle),d.getAttribute("aria-label")!==f.accessibleHint&&null!==f.accessibleHint&&d.setAttribute("aria-label",f.accessibleHint))}}this.renderId++}},tc.prototype.capHitArea=function(a){a.x<0&&(a.width+=a.x,a.x=0),a.y<0&&(a.height+=a.y,a.y=0),a.x+a.width>this.renderer.width&&(a.width=this.renderer.width-a.x),a.y+a.height>this.renderer.height&&(a.height=this.renderer.height-a.y)},tc.prototype.addChild=function(a){var b=this.pool.pop();b||((b=document.createElement("button")).style.width="100px",b.style.height="100px",b.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",b.style.position="absolute",b.style.zIndex=2,b.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?b.setAttribute("aria-live","off"):b.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?b.setAttribute("aria-relevant","additions"):b.setAttribute("aria-relevant","text"),b.addEventListener("click",this._onClick.bind(this)),b.addEventListener("focus",this._onFocus.bind(this)),b.addEventListener("focusout",this._onFocusOut.bind(this))),a.accessibleTitle&&null!==a.accessibleTitle?b.title=a.accessibleTitle:a.accessibleHint&&null!==a.accessibleHint||(b.title="displayObject "+a.tabIndex),a.accessibleHint&&null!==a.accessibleHint&&b.setAttribute("aria-label",a.accessibleHint),a._accessibleActive=!0,a._accessibleDiv=b,b.displayObject=a,this.children.push(a),this.div.appendChild(a._accessibleDiv),a._accessibleDiv.tabIndex=a.tabIndex},tc.prototype._onClick=function(a){var b=this.renderer.plugins.interaction;b.dispatchEvent(a.target.displayObject,"click",b.eventData)},tc.prototype._onFocus=function(a){a.target.getAttribute("aria-live","off")||a.target.setAttribute("aria-live","assertive");var b=this.renderer.plugins.interaction;b.dispatchEvent(a.target.displayObject,"mouseover",b.eventData)},tc.prototype._onFocusOut=function(a){a.target.getAttribute("aria-live","off")||a.target.setAttribute("aria-live","polite");var b=this.renderer.plugins.interaction;b.dispatchEvent(a.target.displayObject,"mouseout",b.eventData)},tc.prototype._onKeyDown=function(a){9===a.keyCode&&this.activate()},tc.prototype._onMouseMove=function(a){0===a.movementX&&0===a.movementY||this.deactivate()},tc.prototype.destroy=function(){this.destroyTouchHook(),this.div=null;for(var a=0;a<this.children.length;a++)this.children[a].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null};var uc={AccessibilityManager:tc,accessibleTarget:sc},vc=function(a){this.items=[],this._name=a},wc={empty:{configurable:!0},name:{configurable:!0}};vc.prototype.emit=function(a,b,c,d,e,f,g,h){if(arguments.length>8)throw new Error("max arguments reached");for(var i=this.name,j=this.items,k=0,l=j.length;l>k;k++)j[k][i](a,b,c,d,e,f,g,h);return this},vc.prototype.add=function(a){return a[this._name]&&(this.remove(a),this.items.push(a)),this},vc.prototype.remove=function(a){var b=this.items.indexOf(a);return-1!==b&&this.items.splice(b,1),this},vc.prototype.contains=function(a){return-1!==this.items.indexOf(a)},vc.prototype.removeAll=function(){return this.items.length=0,this},vc.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},wc.empty.get=function(){return 0===this.items.length},wc.name.get=function(){return this._name},Object.defineProperties(vc.prototype,wc),vc.prototype.dispatch=vc.prototype.emit,vc.prototype.run=vc.prototype.emit,Sa.TARGET_FPMS=.06;var xc={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50},yc=function(a,b,c,d){void 0===b&&(b=null),void 0===c&&(c=0),void 0===d&&(d=!1),this.fn=a,this.context=b,this.priority=c,this.once=d,this.next=null,this.previous=null,this._destroyed=!1};yc.prototype.match=function(a,b){return b=b||null,this.fn===a&&this.context===b},yc.prototype.emit=function(a){this.fn&&(this.context?this.fn.call(this.context,a):this.fn(a));var b=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),b},yc.prototype.connect=function(a){this.previous=a,a.next&&(a.next.previous=this),this.next=a.next,a.next=this},yc.prototype.destroy=function(a){void 0===a&&(a=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var b=this.next;return this.next=a?null:b,this.previous=null,b};var zc=function(){var a=this;this._head=new yc(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/Sa.TARGET_FPMS,this.elapsedMS=1/Sa.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._tick=function(b){a._requestId=null,a.started&&(a.update(b),a.started&&null===a._requestId&&a._head.next&&(a._requestId=requestAnimationFrame(a._tick)))}},Ac={FPS:{configurable:!0},minFPS:{configurable:!0},maxFPS:{configurable:!0}},Bc={shared:{configurable:!0},system:{configurable:!0}};zc.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},zc.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},zc.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},zc.prototype.add=function(a,b,c){return void 0===c&&(c=xc.NORMAL),this._addListener(new yc(a,b,c))},zc.prototype.addOnce=function(a,b,c){return void 0===c&&(c=xc.NORMAL),this._addListener(new yc(a,b,c,!0))},zc.prototype._addListener=function(a){var b=this._head.next,c=this._head;if(b){for(;b;){if(a.priority>b.priority){a.connect(c);break}c=b,b=b.next}a.previous||a.connect(c)}else a.connect(c);return this._startIfPossible(),this},zc.prototype.remove=function(a,b){for(var c=this._head.next;c;)c=c.match(a,b)?c.destroy():c.next;return this._head.next||this._cancelIfNeeded(),this},zc.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},zc.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},zc.prototype.destroy=function(){if(!this._protected){this.stop();for(var a=this._head.next;a;)a=a.destroy(!0);this._head.destroy(),this._head=null}},zc.prototype.update=function(a){var b;if(void 0===a&&(a=performance.now()),a>this.lastTime){if((b=this.elapsedMS=a-this.lastTime)>this._maxElapsedMS&&(b=this._maxElapsedMS),b*=this.speed,this._minElapsedMS&&b+1<this._minElapsedMS)return;this.deltaMS=b,this.deltaTime=this.deltaMS*Sa.TARGET_FPMS;for(var c=this._head,d=c.next;d;)d=d.emit(this.deltaTime);c.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=a},Ac.FPS.get=function(){return 1e3/this.elapsedMS},Ac.minFPS.get=function(){return 1e3/this._maxElapsedMS},Ac.minFPS.set=function(a){var b=Math.min(this.maxFPS,a),c=Math.min(Math.max(0,b)/1e3,Sa.TARGET_FPMS);this._maxElapsedMS=1/c},Ac.maxFPS.get=function(){return this._minElapsedMS?1e3/this._minElapsedMS:1e3*Sa.TARGET_FPMS},Ac.maxFPS.set=function(a){if(a/1e3>=Sa.TARGET_FPMS)this._minElapsedMS=0;else{var b=Math.max(this.minFPS,a),c=Math.min(Math.max(1,b)/1e3,Sa.TARGET_FPMS);this._minElapsedMS=1/c}},Bc.shared.get=function(){if(!zc._shared){var a=zc._shared=new zc;a.autoStart=!0,a._protected=!0}return zc._shared},Bc.system.get=function(){if(!zc._system){var a=zc._system=new zc;a.autoStart=!0,a._protected=!0}return zc._system},Object.defineProperties(zc.prototype,Ac),Object.defineProperties(zc,Bc);var Cc=function(){};Cc.init=function(a){var b=this;a=Object.assign({autoStart:!0,sharedTicker:!1},a),Object.defineProperty(this,"ticker",{set:function(a){this._ticker&&this._ticker.remove(this.render,this),this._ticker=a,a&&a.add(this.render,this,xc.LOW)},get:function(){return this._ticker}}),this.stop=function(){b._ticker.stop()},this.start=function(){b._ticker.start()},this._ticker=null,this.ticker=a.sharedTicker?zc.shared:new zc,a.autoStart&&this.start()},Cc.destroy=function(){if(this._ticker){var a=this._ticker;this.ticker=null,a.destroy()}};var Dc=function(a,b){void 0===a&&(a=0),void 0===b&&(b=0),this._width=a,this._height=b,this.destroyed=!1,this.internal=!1,this.onResize=new vc("setRealSize",2),this.onUpdate=new vc("update")},Ec={valid:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};Dc.prototype.bind=function(a){this.onResize.add(a),this.onUpdate.add(a),(this._width||this._height)&&this.onResize.run(this._width,this._height)},Dc.prototype.unbind=function(a){this.onResize.remove(a),this.onUpdate.remove(a)},Dc.prototype.resize=function(a,b){a===this._width&&b===this._height||(this._width=a,this._height=b,this.onResize.run(a,b))},Ec.valid.get=function(){return!!this._width&&!!this._height},Dc.prototype.update=function(){this.destroyed||this.onUpdate.run()},Dc.prototype.load=function(){return Promise.resolve()},Ec.width.get=function(){return this._width},Ec.height.get=function(){return this._height},Dc.prototype.upload=function(a,b,c){return!1},Dc.prototype.style=function(a,b,c){return!1},Dc.prototype.dispose=function(){},Dc.prototype.destroy=function(){this.destroyed||(this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null,this.destroyed=!0,this.dispose())},Object.defineProperties(Dc.prototype,Ec);var Fc=function(a){function b(b){var c=b.naturalWidth||b.videoWidth||b.width,d=b.naturalHeight||b.videoHeight||b.height;a.call(this,c,d),this.source=b}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.crossOrigin=function(a,b,c){void 0===c&&0!==b.indexOf("data:")?a.crossOrigin=U(b):!1!==c&&(a.crossOrigin="string"==typeof c?c:"anonymous")},b.prototype.upload=function(a,b,c,d){var e=a.gl,f=b.realWidth,g=b.realHeight;return d=d||this.source,e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.premultiplyAlpha),b.target===e.TEXTURE_2D&&c.width===f&&c.height===g?e.texSubImage2D(e.TEXTURE_2D,0,0,0,b.format,b.type,d):(c.width=f,c.height=g,e.texImage2D(b.target,0,b.format,b.format,b.type,d)),!0},b.prototype.update=function(){if(!this.destroyed){var b=this.source.naturalWidth||this.source.videoWidth||this.source.width,c=this.source.naturalHeight||this.source.videoHeight||this.source.height;this.resize(b,c),a.prototype.update.call(this)}},b.prototype.dispose=function(){this.source=null},b}(Dc),Gc=function(a){function b(b,c){if(c=c||{},!(b instanceof HTMLImageElement)){var d=new Image;a.crossOrigin(d,b,c.crossorigin),d.src=b,b=d}a.call(this,b),this.url=b.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(void 0!==c.createBitmap?c.createBitmap:Sa.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,this.premultiplyAlpha=!1!==c.premultiplyAlpha,this.bitmap=null,this._load=null,!1!==c.autoLoad&&this.load()}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.load=function(a){var b=this;return void 0!==a&&(this.createBitmap=a),this._load?this._load:(this._load=new Promise(function(a){b.url=b.source.src;var c=b.source,d=function(){b.destroyed||(c.onload=null,c.onerror=null,b.resize(c.width,c.height),b._load=null,a(b.createBitmap?b.process():b))};c.complete&&c.src?d():c.onload=d}),this._load)},b.prototype.process=function(){var a=this;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(this.source,0,0,this.source.width,this.source.height,{premultiplyAlpha:this.premultiplyAlpha?"premultiply":"none"}).then(function(b){return a.destroyed?Promise.reject():(a.bitmap=b,a.update(),a._process=null,Promise.resolve(a))}),this._process):Promise.resolve(this)},b.prototype.upload=function(b,c,d){if(c.premultiplyAlpha=this.premultiplyAlpha,!this.createBitmap)return a.prototype.upload.call(this,b,c,d);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(a.prototype.upload.call(this,b,c,d,this.bitmap),!this.preserveBitmap){var e=!0;for(var f in c._glTextures){var g=c._glTextures[f];if(g!==d&&g.dirtyId!==c.dirtyId){e=!1;break}}e&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},b.prototype.dispose=function(){a.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},b}(Fc),Hc=[],Ic=function(a){function b(b,c){var d=c||{},e=d.width,f=d.height;if(!e||!f)throw new Error("BufferResource width or height invalid");a.call(this,e,f),this.data=b}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.upload=function(a,b,c){var d=a.gl;if(d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.premultiplyAlpha),c.width===b.width&&c.height===b.height)d.texSubImage2D(b.target,0,0,0,b.width,b.height,b.format,b.type,this.data);else{c.width=b.width,c.height=b.height;var e=b.format;2===a.context.webGLVersion&&b.type===a.gl.FLOAT&&b.format===a.gl.RGBA&&(e=a.gl.RGBA32F),d.texImage2D(b.target,0,e,b.width,b.height,0,b.format,b.type,this.data)}return!0},b.prototype.dispose=function(){this.data=null},b.test=function(a){return a instanceof Float32Array||a instanceof Uint8Array||a instanceof Uint32Array},b}(Dc),Jc={scaleMode:zb.NEAREST,format:wb.RGBA,premultiplyAlpha:!1},Kc=function(a){function b(b,c){void 0===b&&(b=null),void 0===c&&(c=null),a.call(this);var d=(c=c||{}).premultiplyAlpha,e=c.mipmap,f=c.scaleMode,g=c.width,h=c.height,i=c.wrapMode,j=c.format,k=c.type,l=c.target,m=c.resolution,n=c.resourceOptions;!b||b instanceof Dc||((b=Z(b,n)).internal=!0),this.width=g||0,this.height=h||0,this.resolution=m||Sa.RESOLUTION,this.mipmap=void 0!==e?e:Sa.MIPMAP_TEXTURES,this.wrapMode=i||Sa.WRAP_MODE,this.scaleMode=void 0!==f?f:Sa.SCALE_MODE,this.format=j||wb.RGBA,this.type=k||yb.UNSIGNED_BYTE,this.target=l||xb.TEXTURE_2D,this.premultiplyAlpha=!1!==d,this.uid=O(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=g>0&&h>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this.setResource(b)}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={realWidth:{configurable:!0},realHeight:{configurable:!0}};return c.realWidth.get=function(){return this.width*this.resolution},c.realHeight.get=function(){return this.height*this.resolution},b.prototype.setStyle=function(a,b){var c;return void 0!==a&&a!==this.scaleMode&&(this.scaleMode=a,c=!0),void 0!==b&&b!==this.mipmap&&(this.mipmap=b,c=!0),c&&this.dirtyStyleId++,this},b.prototype.setSize=function(a,b,c){return this.resolution=c||this.resolution,this.width=a,this.height=b,this._refreshPOT(),this.update(),this},b.prototype.setRealSize=function(a,b,c){return this.resolution=c||this.resolution,this.width=a/this.resolution,this.height=b/this.resolution,this._refreshPOT(),this.update(),this},b.prototype._refreshPOT=function(){this.isPowerOfTwo=R(this.realWidth)&&R(this.realHeight)},b.prototype.setResolution=function(a){var b=this.resolution;return b===a?this:(this.resolution=a,this.valid&&(this.width=this.width*b/a,this.height=this.height*b/a,this.emit("update",this)),this._refreshPOT(),this)},b.prototype.setResource=function(a){if(this.resource===a)return this;if(this.resource)throw new Error("Resource can be set only once");return a.bind(this),this.resource=a,this},b.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},b.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Lb[this.cacheId],delete Kb[this.cacheId],this.cacheId=null),this.dispose(),b.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},b.prototype.dispose=function(){this.emit("dispose",this)},b.from=function(a,c){var d=null;"string"==typeof a?d=a:(a._pixiId||(a._pixiId="pixiid_"+O()),d=a._pixiId);var e=Lb[d];return e||((e=new b(a,c)).cacheId=d,b.addToCache(e,d)),e},b.fromBuffer=function(a,c,d,e){a=a||new Float32Array(c*d*4);var f=new Ic(a,{width:c,height:d}),g=a instanceof Float32Array?yb.FLOAT:yb.UNSIGNED_BYTE;return new b(f,Object.assign(Jc,e||{width:c,height:d,type:g}))},b.addToCache=function(a,b){b&&(-1===a.textureCacheIds.indexOf(b)&&a.textureCacheIds.push(b),Lb[b]&&console.warn("BaseTexture added to the cache with an id ["+b+"] that already had an entry"),Lb[b]=a)},b.removeFromCache=function(a){if("string"==typeof a){var b=Lb[a];if(b){var c=b.textureCacheIds.indexOf(a);return c>-1&&b.textureCacheIds.splice(c,1),delete Lb[a],b}}else if(a&&a.textureCacheIds){for(var d=0;d<a.textureCacheIds.length;++d)delete Lb[a.textureCacheIds[d]];return a.textureCacheIds.length=0,a}return null},Object.defineProperties(b.prototype,c),b}(Ta);Kc._globalBatch=0;var Lc=function(a){function b(b,c){var d;c=c||{};var e=b;Array.isArray(b)&&(d=b,e=b.length),a.call(this,c.width,c.height),this.items=[],this.itemDirtyIds=[];for(var f=0;e>f;f++){var g=new Kc;this.items.push(g),this.itemDirtyIds.push(-1)}if(this.length=e,this._load=null,d)for(var h=0;e>h;h++)this.addResourceAt(Z(d[h],c),h)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.dispose=function(){for(var a=0,b=this.length;b>a;a++)this.items[a].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},b.prototype.addResourceAt=function(a,b){if(!this.items[b])throw new Error("Index "+b+" is out of bounds");return a.valid&&!this.valid&&this.resize(a.width,a.height),this.items[b].setResource(a),this},b.prototype.bind=function(b){a.prototype.bind.call(this,b),b.target=xb.TEXTURE_2D_ARRAY;for(var c=0;c<this.length;c++)this.items[c].on("update",b.update,b)},b.prototype.unbind=function(b){a.prototype.unbind.call(this,b);for(var c=0;c<this.length;c++)this.items[c].off("update",b.update,b)},b.prototype.load=function(){var a=this;if(this._load)return this._load;var b=this.items.map(function(a){return a.resource}),c=b.map(function(a){return a.load()});return this._load=Promise.all(c).then(function(){var c=b[0],d=c.width,e=c.height;return a.resize(d,e),Promise.resolve(a)}),this._load},b.prototype.upload=function(a,b,c){var d=this.length,e=this.itemDirtyIds,f=this.items,g=a.gl;c.dirtyId<0&&g.texImage3D(g.TEXTURE_2D_ARRAY,0,b.format,this._width,this._height,d,0,b.format,b.type,null);for(var h=0;d>h;h++){var i=f[h];e[h]<i.dirtyId&&(e[h]=i.dirtyId,i.valid&&g.texSubImage3D(g.TEXTURE_2D_ARRAY,0,0,0,h,i.resource.width,i.resource.height,1,b.format,b.type,i.resource.source))}return!0},b}(Dc),Mc=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.test=function(a){return a instanceof HTMLCanvasElement},b}(Fc),Nc=function(a){function b(c,d){if(d=d||{},a.call(this,c,d),this.length!==b.SIDES)throw new Error("Invalid length. Got "+this.length+", expected 6");for(var e=0;e<b.SIDES;e++)this.items[e].target=xb.TEXTURE_CUBE_MAP_POSITIVE_X+e;!1!==d.autoLoad&&this.load()}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.bind=function(b){a.prototype.bind.call(this,b),b.target=xb.TEXTURE_CUBE_MAP},b.prototype.upload=function(a,c,d){for(var e=this.itemDirtyIds,f=0;f<b.SIDES;f++){var g=this.items[f];e[f]<g.dirtyId&&(e[f]=g.dirtyId,g.valid&&g.resource.upload(a,g,d))}return!0},b}(Lc);Nc.SIDES=6;var Oc=function(a){function b(b,c){c=c||{},a.call(this,document.createElement("canvas")),this.svg=b,this.scale=c.scale||1,this._resolve=null,this._crossorigin=c.crossorigin,this._load=null,!1!==c.autoLoad&&this.load()}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.load=function(){var a=this;return this._load?this._load:(this._load=new Promise(function(b){if(a._resolve=function(){a.resize(a.source.width,a.source.height),b(a)},/^\<svg/.test(a.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");a.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(a.svg)))}a._loadSvg()}),this._load)},b.prototype._loadSvg=function(){var b=this,c=new Image;a.crossOrigin(c,this.svg,this._crossorigin),c.src=this.svg,c.onload=function(){var a=c.width,d=c.height;if(!a||!d)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var e=Math.round(a*b.scale),f=Math.round(d*b.scale),g=b.source;g.width=e,g.height=f,g._pixiId="canvas_"+O(),g.getContext("2d").drawImage(c,0,0,a,d,0,0,e,f),b._resolve(),b._resolve=null}},b.getSize=function(a){var c=b.SVG_SIZE.exec(a),d={};return c&&(d[c[1]]=Math.round(parseFloat(c[3])),d[c[5]]=Math.round(parseFloat(c[7]))),d},b.prototype.dispose=function(){a.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},b.test=function(a,b){return"svg"===b||"string"==typeof a&&0===a.indexOf("data:image/svg+xml;base64")||"string"==typeof a&&0===a.indexOf("<svg")},b}(Fc);Oc.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var Pc=function(a){function b(b,c){if(c=c||{},!(b instanceof HTMLVideoElement)){var d=document.createElement("video");d.setAttribute("webkit-playsinline",""),d.setAttribute("playsinline",""),"string"==typeof b&&(b=[b]),a.crossOrigin(d,b[0].src||b[0],c.crossorigin);for(var e=0;e<b.length;++e){var f=document.createElement("source"),g=b[e],h=g.src,i=g.mime,j=(h=h||b[e]).split("?").shift().toLowerCase(),k=j.substr(j.lastIndexOf(".")+1);i=i||"video/"+k,f.src=h,f.type=i,d.appendChild(f)}b=d}a.call(this,b),this._autoUpdate=!0,this._isAutoUpdating=!1,this._updateFPS=c.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==c.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),!1!==c.autoLoad&&this.load()}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={autoUpdate:{configurable:!0},updateFPS:{configurable:!0}};return b.prototype.update=function(b){if(void 0===b&&(b=0),!this.destroyed){var c=zc.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-c),(!this._updateFPS||this._msToNextUpdate<=0)&&(a.prototype.update.call(this,b),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},b.prototype.load=function(){var a=this;if(this._load)return this._load;var b=this.source;return(b.readyState===b.HAVE_ENOUGH_DATA||b.readyState===b.HAVE_FUTURE_DATA)&&b.width&&b.height&&(b.complete=!0),b.addEventListener("play",this._onPlayStart.bind(this)),b.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(b.addEventListener("canplay",this._onCanPlay),b.addEventListener("canplaythrough",this._onCanPlay)),this._load=new Promise(function(c){a.valid?c(a):(a._resolve=c,b.load())}),this._load},b.prototype._isSourcePlaying=function(){var a=this.source;return a.currentTime>0&&!1===a.paused&&!1===a.ended&&a.readyState>2},b.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},b.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(zc.shared.add(this.update,this),this._isAutoUpdating=!0)},b.prototype._onPlayStop=function(){this._isAutoUpdating&&(zc.shared.remove(this.update,this),this._isAutoUpdating=!1)},b.prototype._onCanPlay=function(){var a=this.source;a.removeEventListener("canplay",this._onCanPlay),a.removeEventListener("canplaythrough",this._onCanPlay);var b=this.valid;this.resize(a.videoWidth,a.videoHeight),!b&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&a.play()},b.prototype.dispose=function(){this._isAutoUpdating&&zc.shared.remove(this.update,this),this.source&&(this.source.pause(),this.source.src="",this.source.load()),a.prototype.dispose.call(this)},c.autoUpdate.get=function(){return this._autoUpdate},c.autoUpdate.set=function(a){a!==this._autoUpdate&&(this._autoUpdate=a,!this._autoUpdate&&this._isAutoUpdating?(zc.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(zc.shared.add(this.update,this),
this._isAutoUpdating=!0))},c.updateFPS.get=function(){return this._updateFPS},c.updateFPS.set=function(a){a!==this._updateFPS&&(this._updateFPS=a)},b.test=function(a,c){return a instanceof HTMLVideoElement||b.TYPES.indexOf(c)>-1},Object.defineProperties(b.prototype,c),b}(Fc);Pc.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Hc.push(Gc,Mc,Pc,Oc,Ic,Nc,Lc);var Qc={INSTALLED:Hc,autoDetectResource:Z,ArrayResource:Lc,BufferResource:Ic,CanvasResource:Mc,CubeResource:Nc,ImageResource:Gc,SVGResource:Oc,VideoResource:Pc,Resource:Dc,BaseImageResource:Fc},Rc=function(a){this.renderer=a,this.renderer.runners.contextChange.add(this)};Rc.prototype.contextChange=function(a){},Rc.prototype.destroy=function(){this.renderer.runners.contextChange.remove(this),this.renderer=null};var Sc=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.upload=function(a,b,c){var d=a.gl;return d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.premultiplyAlpha),c.width===b.width&&c.height===b.height?d.texSubImage2D(b.target,0,0,0,b.width,b.height,b.format,b.type,this.data):(c.width=b.width,c.height=b.height,d.texImage2D(b.target,0,d.DEPTH_COMPONENT16,b.width,b.height,0,b.format,b.type,this.data)),!0},b}(Ic),Tc=function(a,b){this.width=Math.ceil(a||100),this.height=Math.ceil(b||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new vc("disposeFramebuffer",2)},Uc={colorTexture:{configurable:!0}};Uc.colorTexture.get=function(){return this.colorTextures[0]},Tc.prototype.addColorTexture=function(a,b){return void 0===a&&(a=0),this.colorTextures[a]=b||new Kc(null,{scaleMode:0,resolution:1,mipmap:!1,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},Tc.prototype.addDepthTexture=function(a){return this.depthTexture=a||new Kc(new Sc(null,{width:this.width,height:this.height}),{scaleMode:0,resolution:1,width:this.width,height:this.height,mipmap:!1,format:wb.DEPTH_COMPONENT,type:yb.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},Tc.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},Tc.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},Tc.prototype.resize=function(a,b){if(a=Math.ceil(a),b=Math.ceil(b),a!==this.width||b!==this.height){this.width=a,this.height=b,this.dirtyId++,this.dirtySize++;for(var c=0;c<this.colorTextures.length;c++){var d=this.colorTextures[c],e=d.resolution;d.setSize(a/e,b/e)}if(this.depthTexture){var f=this.depthTexture.resolution;this.depthTexture.setSize(a/f,b/f)}}},Tc.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Object.defineProperties(Tc.prototype,Uc);var Vc=function(a){function b(b){"number"==typeof b&&(b={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),a.call(this,null,b);var c=b||{},d=c.width,e=c.height;this.mipmap=!1,this.width=Math.ceil(d)||100,this.height=Math.ceil(e)||100,this.valid=!0,this._canvasRenderTarget=null,this.clearColor=[0,0,0,0],this.framebuffer=new Tc(this.width*this.resolution,this.height*this.resolution).addColorTexture(0,this).enableStencil(),this.stencilMaskStack=[],this.filterStack=[{}]}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.resize=function(a,b){a=Math.ceil(a),b=Math.ceil(b),this.framebuffer.resize(a*this.resolution,b*this.resolution)},b.prototype.dispose=function(){this.framebuffer.dispose(),a.prototype.dispose.call(this)},b.prototype.destroy=function(){a.prototype.destroy.call(this,!0),this.framebuffer=null,this.renderer=null},b}(Kc),Wc=function(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)};Wc.prototype.set=function(a,b,c){var d=b.width,e=b.height;if(c){var f=a.width/2/d,g=a.height/2/e,h=a.x/d+f,i=a.y/e+g;c=fc.add(c,fc.NW),this.x0=h+f*fc.uX(c),this.y0=i+g*fc.uY(c),c=fc.add(c,2),this.x1=h+f*fc.uX(c),this.y1=i+g*fc.uY(c),c=fc.add(c,2),this.x2=h+f*fc.uX(c),this.y2=i+g*fc.uY(c),c=fc.add(c,2),this.x3=h+f*fc.uX(c),this.y3=i+g*fc.uY(c)}else this.x0=a.x/d,this.y0=a.y/e,this.x1=(a.x+a.width)/d,this.y1=a.y/e,this.x2=(a.x+a.width)/d,this.y2=(a.y+a.height)/e,this.x3=a.x/d,this.y3=(a.y+a.height)/e;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3};var Xc=new Wc,Yc=function(a){function b(c,d,e,f,g,h){if(a.call(this),this.noFrame=!1,d||(this.noFrame=!0,d=new ic(0,0,1,1)),c instanceof b&&(c=c.baseTexture),this.baseTexture=c,this._frame=d,this.trim=f,this.valid=!1,this.requiresUpdate=!1,this._uvs=Xc,this.uvMatrix=null,this.orig=e||d,this._rotate=Number(g||0),!0===g)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=h?new Sb(h.x,h.y):new Sb(0,0),this._updateID=0,this.textureCacheIds=[],c.valid?this.noFrame?c.valid&&this.onBaseTextureUpdated(c):this.frame=d:c.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&c.on("update",this.onBaseTextureUpdated,this)}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={frame:{configurable:!0},rotate:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return b.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},b.prototype.onBaseTextureUpdated=function(a){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=a.width,this._frame.height=a.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},b.prototype.destroy=function(a){if(this.baseTexture){if(a){var c=this.baseTexture.resource;c&&Kb[c.url]&&b.removeFromCache(c.url),this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,b.removeFromCache(this),this.textureCacheIds=null},b.prototype.clone=function(){return new b(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},b.prototype.updateUvs=function(){this._uvs===Xc&&(this._uvs=new Wc),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},b.from=function(a,c){void 0===c&&(c={});var d=null;"string"==typeof a?d=a:(a._pixiId||(a._pixiId="pixiid_"+O()),d=a._pixiId);var e=Kb[d];return e||(c.resolution||(c.resolution=V(a)),(e=new b(new Kc(a,c))).baseTexture.cacheId=d,Kc.addToCache(e.baseTexture,d),b.addToCache(e,d)),e},b.fromBuffer=function(a,c,d,e){return new b(Kc.fromBuffer(a,c,d,e))},b.fromLoader=function(a,c,d){var e=new Gc(a);e.url=c;var f=new b(new Kc(e,{scaleMode:Sa.SCALE_MODE,resolution:V(c)}));return d||(d=c),Kc.addToCache(f.baseTexture,d),b.addToCache(f,d),d!==c&&(Kc.addToCache(f.baseTexture,c),b.addToCache(f,c)),f},b.addToCache=function(a,b){b&&(-1===a.textureCacheIds.indexOf(b)&&a.textureCacheIds.push(b),Kb[b]&&console.warn("Texture added to the cache with an id ["+b+"] that already had an entry"),Kb[b]=a)},b.removeFromCache=function(a){if("string"==typeof a){var b=Kb[a];if(b){var c=b.textureCacheIds.indexOf(a);return c>-1&&b.textureCacheIds.splice(c,1),delete Kb[a],b}}else if(a&&a.textureCacheIds){for(var d=0;d<a.textureCacheIds.length;++d)Kb[a.textureCacheIds[d]]===a&&delete Kb[a.textureCacheIds[d]];return a.textureCacheIds.length=0,a}return null},c.frame.get=function(){return this._frame},c.frame.set=function(a){this._frame=a,this.noFrame=!1;var b=a.x,c=a.y,d=a.width,e=a.height,f=b+d>this.baseTexture.width,g=c+e>this.baseTexture.height;if(f||g){var h=f&&g?"and":"or",i="X: "+b+" + "+d+" = "+(b+d)+" > "+this.baseTexture.width,j="Y: "+c+" + "+e+" = "+(c+e)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+i+" "+h+" "+j)}this.valid=d&&e&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=a),this.valid&&this.updateUvs()},c.rotate.get=function(){return this._rotate},c.rotate.set=function(a){this._rotate=a,this.valid&&this.updateUvs()},c.width.get=function(){return this.orig.width},c.height.get=function(){return this.orig.height},Object.defineProperties(b.prototype,c),b}(Ta);Yc.EMPTY=new Yc(new Kc),$(Yc.EMPTY),$(Yc.EMPTY.baseTexture),Yc.WHITE=function(){var a=document.createElement("canvas");a.width=16,a.height=16;var b=a.getContext("2d");return b.fillStyle="white",b.fillRect(0,0,16,16),new Yc(new Kc(new Mc(a)))}(),$(Yc.WHITE),$(Yc.WHITE.baseTexture);var Zc=function(a){function b(b,c){var d=null;if(!(b instanceof Vc)){var e=arguments[1],f=arguments[2],g=arguments[3],h=arguments[4];console.warn("Please use RenderTexture.create("+e+", "+f+") instead of the ctor directly."),d=arguments[0],c=null,b=new Vc({width:e,height:f,scaleMode:g,resolution:h})}a.call(this,b,c),this.legacyRenderer=d,this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.resize=function(a,b,c){void 0===c&&(c=!0),a=Math.ceil(a),b=Math.ceil(b),this.valid=a>0&&b>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=b,c&&this.baseTexture.resize(a,b),this.updateUvs()},b.prototype.setResolution=function(a){var b=this.baseTexture;b.resolution!==a&&(b.setResolution(a),this.resize(b.width,b.height,!1))},b.create=function(a){return"number"==typeof a&&(a={width:a,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new b(new Vc(a))},b}(Yc),$c=function(a,b,c,d,e,f,g){void 0===c&&(c=!1),void 0===d&&(d=5126),this.buffer=a,this.size=b,this.normalized=c,this.type=d,this.stride=e,this.start=f,this.instance=g};$c.prototype.destroy=function(){this.buffer=null},$c.from=function(a,b,c,d,e){return new $c(a,b,c,d,e)};var _c=0,ad=function(a,b,c){void 0===b&&(b=!0),void 0===c&&(c=!1),this.data=a||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=c,this["static"]=b,this.id=_c++,this.disposeRunner=new vc("disposeBuffer",2)};ad.prototype.update=function(a){this.data=a||this.data,this._updateID++},ad.prototype.dispose=function(){this.disposeRunner.run(this,!1)},ad.prototype.destroy=function(){this.dispose(),this.data=null},ad.from=function(a){return a instanceof Array&&(a=new Float32Array(a)),new ad(a)};var bd={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},cd={5126:4,5123:2,5121:1},dd=0,ed={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},fd=function(a,b){void 0===a&&(a=[]),void 0===b&&(b={}),this.buffers=a,this.indexBuffer=null,this.attributes=b,this.glVertexArrayObjects={},this.id=dd++,this.instanced=!1,this.instanceCount=1,this._size=null,this.disposeRunner=new vc("disposeGeometry",2),this.refCount=0};fd.prototype.addAttribute=function(a,b,c,d,e,f,g,h){if(void 0===d&&(d=!1),void 0===h&&(h=!1),!b)throw new Error("You must pass a buffer when creating an attribute");b.data||(b instanceof Array&&(b=new Float32Array(b)),b=new ad(b));var i=a.split("|");if(i.length>1){for(var j=0;j<i.length;j++)this.addAttribute(i[j],b,c,d,e);return this}var k=this.buffers.indexOf(b);return-1===k&&(this.buffers.push(b),k=this.buffers.length-1),this.attributes[a]=new $c(k,c,d,e,f,g,h),this.instanced=this.instanced||h,this},fd.prototype.getAttribute=function(a){return this.attributes[a]},fd.prototype.getBuffer=function(a){return this.buffers[this.getAttribute(a).buffer]},fd.prototype.addIndex=function(a){return a.data||(a instanceof Array&&(a=new Uint16Array(a)),a=new ad(a)),a.index=!0,this.indexBuffer=a,-1===this.buffers.indexOf(a)&&this.buffers.push(a),this},fd.prototype.getIndex=function(){return this.indexBuffer},fd.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var a,b=[],c=[],d=new ad;for(a in this.attributes){var e=this.attributes[a],f=this.buffers[e.buffer];b.push(f.data),c.push(e.size*cd[e.type]/4),e.buffer=0}for(d.data=function(a,b){for(var c=0,d=0,e={},f=0;f<a.length;f++)d+=b[f],c+=a[f].length;for(var g=new ArrayBuffer(4*c),h=null,i=0,j=0;j<a.length;j++){var k=b[j],l=a[j],m=_(l);e[m]||(e[m]=new bd[m](g)),h=e[m];for(var n=0;n<l.length;n++)h[(n/k|0)*d+i+n%k]=l[n];i+=k}return new Float32Array(g)}(b,c),a=0;a<this.buffers.length;a++)this.buffers[a]!==this.indexBuffer&&this.buffers[a].destroy();return this.buffers=[d],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},fd.prototype.getSize=function(){for(var a in this.attributes){var b=this.attributes[a];return this.buffers[b.buffer].data.length/(b.stride/4||b.size)}return 0},fd.prototype.dispose=function(){this.disposeRunner.run(this,!1)},fd.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer.destroy(),this.attributes=null},fd.prototype.clone=function(){for(var a=new fd,b=0;b<this.buffers.length;b++)a.buffers[b]=new ad(this.buffers[b].data.slice());for(var c in this.attributes){var d=this.attributes[c];a.attributes[c]=new $c(d.buffer,d.size,d.normalized,d.type,d.stride,d.start,d.instance)}return this.indexBuffer&&(a.indexBuffer=a.buffers[this.buffers.indexOf(this.indexBuffer)],a.indexBuffer.index=!0),a},fd.merge=function(a){for(var b,c=new fd,d=[],e=[],f=[],g=0;g<a.length;g++){b=a[g];for(var h=0;h<b.buffers.length;h++)e[h]=e[h]||0,e[h]+=b.buffers[h].data.length,f[h]=0}for(var i=0;i<b.buffers.length;i++)d[i]=new(ed[_(b.buffers[i].data)])(e[i]),c.buffers[i]=new ad(d[i]);for(var j=0;j<a.length;j++){b=a[j];for(var k=0;k<b.buffers.length;k++)d[k].set(b.buffers[k].data,f[k]),f[k]+=b.buffers[k].data.length}if(c.attributes=b.attributes,b.indexBuffer){c.indexBuffer=c.buffers[b.buffers.indexOf(b.indexBuffer)],c.indexBuffer.index=!0;for(var l=0,m=0,n=0,o=0,p=0;p<b.buffers.length;p++)if(b.buffers[p]!==b.indexBuffer){o=p;break}for(var q in b.attributes){var r=b.attributes[q];(0|r.buffer)===o&&(m+=r.size*cd[r.type]/4)}for(var s=0;s<a.length;s++){for(var t=a[s].indexBuffer.data,u=0;u<t.length;u++)c.indexBuffer.data[u+n]+=l;l+=b.buffers[o].data.length/m,n+=t.length}}return c};var gd=function(a){function b(){a.call(this),this.addAttribute("aVertexPosition",[0,0,1,0,1,1,0,1]).addIndex([0,1,3,2])}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(fd),hd=function(a){function b(){a.call(this),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new ad(this.vertices),this.uvBuffer=new ad(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.map=function(a,b){var c=0,d=0;return this.uvs[0]=c,this.uvs[1]=d,this.uvs[2]=c+b.width/a.width,this.uvs[3]=d,this.uvs[4]=c+b.width/a.width,this.uvs[5]=d+b.height/a.height,this.uvs[6]=c,this.uvs[7]=d+b.height/a.height,c=b.x,d=b.y,this.vertices[0]=c,this.vertices[1]=d,this.vertices[2]=c+b.width,this.vertices[3]=d,this.vertices[4]=c+b.width,this.vertices[5]=d+b.height,this.vertices[6]=c,this.vertices[7]=d+b.height,this.invalidate(),this},b.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},b}(fd),id=0,jd=function(a,b){this.uniforms=a,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=id++,this["static"]=!!b};jd.prototype.update=function(){this.dirtyId++},jd.prototype.add=function(a,b,c){this.uniforms[a]=new jd(b,c)},jd.from=function(a,b){return new jd(a,b)};var kd=function(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new ic,this.destinationFrame=new ic,this.filters=[]};kd.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null};var ld=function(a){function b(b){a.call(this,b),this.defaultFilterStack=[{}],this.texturePool={},this.statePool=[],this.quad=new gd,this.quadUv=new hd,this.tempRect=new ic,this.activeState={},this.globalUniforms=new jd({outputFrame:this.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this._pixelsWidth=b.view.width,this._pixelsHeight=b.view.height}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.push=function(a,b){for(var c=this.renderer,d=this.defaultFilterStack,e=this.statePool.pop()||new kd,f=b[0].resolution,g=b[0].padding,h=b[0].autoFit,i=b[0].legacy,j=1;j<b.length;j++){var k=b[j];f=Math.min(f,k.resolution),g=Math.max(g,k.padding),h=h||k.autoFit,i=i||k.legacy}1===d.length&&(this.defaultFilterStack[0].renderTexture=c.renderTexture.current),d.push(e),e.resolution=f,e.legacy=i,e.target=a,e.sourceFrame.copyFrom(a.filterArea||a.getBounds(!0)),e.sourceFrame.pad(g),h&&e.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),e.sourceFrame.ceil(f),e.renderTexture=this.getOptimalFilterTexture(e.sourceFrame.width,e.sourceFrame.height,f),e.filters=b,e.destinationFrame.width=e.renderTexture.width,e.destinationFrame.height=e.renderTexture.height,e.renderTexture.filterFrame=e.sourceFrame,c.renderTexture.bind(e.renderTexture,e.sourceFrame),c.renderTexture.clear()},b.prototype.pop=function(){var a=this.defaultFilterStack,b=a.pop(),c=b.filters;this.activeState=b;var d=this.globalUniforms.uniforms;d.outputFrame=b.sourceFrame,d.resolution=b.resolution;var e=d.inputSize,f=d.inputPixel,g=d.inputClamp;if(e[0]=b.destinationFrame.width,e[1]=b.destinationFrame.height,e[2]=1/e[0],e[3]=1/e[1],f[0]=e[0]*b.resolution,f[1]=e[1]*b.resolution,f[2]=1/f[0],f[3]=1/f[1],g[0]=.5*f[2],g[1]=.5*f[3],g[2]=b.sourceFrame.width*e[2]-.5*f[2],g[3]=b.sourceFrame.height*e[3]-.5*f[3],b.legacy){var h=d.filterArea;h[0]=b.destinationFrame.width,h[1]=b.destinationFrame.height,h[2]=b.sourceFrame.x,h[3]=b.sourceFrame.y,d.filterClamp=d.inputClamp}this.globalUniforms.update();var i=a[a.length-1];if(1===c.length)c[0].apply(this,b.renderTexture,i.renderTexture,!1,b),this.returnFilterTexture(b.renderTexture);else{var j=b.renderTexture,k=this.getOptimalFilterTexture(j.width,j.height,b.resolution);k.filterFrame=j.filterFrame;var l=0;for(l=0;l<c.length-1;++l){c[l].apply(this,j,k,!0,b);var m=j;j=k,k=m}c[l].apply(this,j,i.renderTexture,!1,b),this.returnFilterTexture(j),this.returnFilterTexture(k)}b.clear(),this.statePool.push(b)},b.prototype.applyFilter=function(a,b,c,d){var e=this.renderer;e.renderTexture.bind(c,c?c.filterFrame:null),d&&e.renderTexture.clear(),a.uniforms.uSampler=b,a.uniforms.filterGlobals=this.globalUniforms,e.state.setState(a.state),e.shader.bind(a),a.legacy?(this.quadUv.map(b._frame,b.filterFrame),e.geometry.bind(this.quadUv),e.geometry.draw(vb.TRIANGLES)):(e.geometry.bind(this.quad),e.geometry.draw(vb.TRIANGLE_STRIP))},b.prototype.calculateSpriteMatrix=function(a,b){var c=this.activeState,d=c.sourceFrame,e=c.destinationFrame,f=b._texture.orig,g=a.set(e.width,0,0,e.height,d.x,d.y),h=b.worldTransform.copyTo(Zb.TEMP_MATRIX);return h.invert(),g.prepend(h),g.scale(1/f.width,1/f.height),g.translate(b.anchor.x,b.anchor.y),g},b.prototype.destroy=function(a){void 0===a&&(a=!1),a?this.texturePool={}:this.emptyPool()},b.prototype.getOptimalFilterTexture=function(a,b,c){void 0===c&&(c=1);var d="screen";b*=c,(a*=c)===this._pixelsWidth&&b===this._pixelsHeight||(d=(65535&(a=Q(a)))<<16|65535&(b=Q(b))),this.texturePool[d]||(this.texturePool[d]=[]);var e=this.texturePool[d].pop();return e||(e=Zc.create({width:a,height:b})),e.filterPoolKey=d,e.setResolution(c),e},b.prototype.getFilterTexture=function(a){var b=this.activeState.renderTexture,c=this.getOptimalFilterTexture(b.width,b.height,a||b.baseTexture.resolution);return c.filterFrame=b.filterFrame,c},b.prototype.returnFilterTexture=function(a){var b=a.filterPoolKey;a.filterFrame=null,this.texturePool[b].push(a)},b.prototype.emptyPool=function(){for(var a in this.texturePool){var b=this.texturePool[a];if(b)for(var c=0;c<b.length;c++)b[c].destroy(!0)}this.texturePool={}},b.prototype.resize=function(){var a=this.texturePool.screen;if(a)for(var b=0;b<a.length;b++)a[b].destroy(!0);this.texturePool.screen=[],this._pixelsWidth=this.renderer.view.width,this._pixelsHeight=this.renderer.view.height},b}(Rc),md=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.start=function(){},b.prototype.stop=function(){this.flush()},b.prototype.flush=function(){},b.prototype.render=function(a){},b}(Rc),nd=function(a){function b(b){a.call(this,b),this.emptyRenderer=new md(b),this.currentRenderer=this.emptyRenderer}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.setObjectRenderer=function(a){this.currentRenderer!==a&&(this.currentRenderer.stop(),this.currentRenderer=a,this.currentRenderer.start())},b.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},b.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},b}(Rc);Sa.PREFER_ENV=Ra.any?sb.WEBGL:sb.WEBGL2;var od,pd,qd=0,rd=function(a){function b(b){a.call(this,b),this.webGLVersion=1,this.extensions={},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),b.view.addEventListener("webglcontextlost",this.handleContextLost,!1),b.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={isLost:{configurable:!0}};return c.isLost.get=function(){return!this.gl||this.gl.isContextLost()},b.prototype.contextChange=function(a){this.gl=a,a.isContextLost()&&a.getExtension("WEBGL_lose_context")&&a.getExtension("WEBGL_lose_context").restoreContext()},b.prototype.initFromContext=function(a){this.gl=a,this.validateContext(a),this.renderer.gl=a,this.renderer.CONTEXT_UID=qd++,this.renderer.runners.contextChange.run(a)},b.prototype.initFromOptions=function(a){var b=this.createContext(this.renderer.view,a);this.initFromContext(b)},b.prototype.createContext=function(a,b){var c;if(Sa.PREFER_ENV>=sb.WEBGL2&&(c=a.getContext("webgl2",b)),c)this.webGLVersion=2;else if(this.webGLVersion=1,!(c=a.getContext("webgl",b)||a.getContext("experimental-webgl",b)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=c,this.getExtensions(),c},b.prototype.getExtensions=function(){var a=this.gl;1===this.webGLVersion&&Object.assign(this.extensions,{drawBuffers:a.getExtension("WEBGL_draw_buffers"),depthTexture:a.getExtension("WEBKIT_WEBGL_depth_texture"),floatTexture:a.getExtension("OES_texture_float"),loseContext:a.getExtension("WEBGL_lose_context"),vertexArrayObject:a.getExtension("OES_vertex_array_object")||a.getExtension("MOZ_OES_vertex_array_object")||a.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:a.getExtension("OES_element_index_uint")})},b.prototype.handleContextLost=function(a){a.preventDefault()},b.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.run(this.gl)},b.prototype.destroy=function(){var a=this.renderer.view;a.removeEventListener("webglcontextlost",this.handleContextLost),a.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},b.prototype.postrender=function(){this.gl.flush()},b.prototype.validateContext=function(a){a.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")},Object.defineProperties(b.prototype,c),b}(Rc),sd=function(a){function b(b){a.call(this,b),this.managedFramebuffers=[],this.unknownFramebuffer=new Tc(10,10)}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={size:{configurable:!0}};return b.prototype.contextChange=function(){var a=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ic,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var b=this.renderer.context.extensions.drawBuffers,c=this.renderer.context.extensions.depthTexture;Sa.PREFER_ENV===sb.WEBGL_LEGACY&&(b=null,c=null),b?a.drawBuffers=function(a){return b.drawBuffersWEBGL(a)}:(this.hasMRT=!1,a.drawBuffers=function(){}),c||(this.writeDepthTexture=!1)}},b.prototype.bind=function(a,b){var c=this.gl;if(a){var d=a.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(a);this.current!==a&&(this.current=a,c.bindFramebuffer(c.FRAMEBUFFER,d.framebuffer)),d.dirtyId!==a.dirtyId&&(d.dirtyId=a.dirtyId,d.dirtyFormat!==a.dirtyFormat?(d.dirtyFormat=a.dirtyFormat,this.updateFramebuffer(a)):d.dirtySize!==a.dirtySize&&(d.dirtySize=a.dirtySize,this.resizeFramebuffer(a)));for(var e=0;e<a.colorTextures.length;e++)a.colorTextures[e].texturePart?this.renderer.texture.unbind(a.colorTextures[e].texture):this.renderer.texture.unbind(a.colorTextures[e]);a.depthTexture&&this.renderer.texture.unbind(a.depthTexture),b?this.setViewport(b.x,b.y,b.width,b.height):this.setViewport(0,0,a.width,a.height)}else this.current&&(this.current=null,c.bindFramebuffer(c.FRAMEBUFFER,null)),b?this.setViewport(b.x,b.y,b.width,b.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},b.prototype.setViewport=function(a,b,c,d){var e=this.viewport;e.width===c&&e.height===d&&e.x===a&&e.y===b||(e.x=a,e.y=b,e.width=c,e.height=d,this.gl.viewport(a,b,c,d))},c.size.get=function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},b.prototype.clear=function(a,b,c,d){var e=this.gl;e.clearColor(a,b,c,d),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)},b.prototype.initFramebuffer=function(a){var b={framebuffer:this.gl.createFramebuffer(),stencil:null,dirtyId:0,dirtyFormat:0,dirtySize:0};return a.glFramebuffers[this.CONTEXT_UID]=b,this.managedFramebuffers.push(a),a.disposeRunner.add(this),b},b.prototype.resizeFramebuffer=function(a){var b=this.gl,c=a.glFramebuffers[this.CONTEXT_UID];c.stencil&&(b.bindRenderbuffer(b.RENDERBUFFER,c.stencil),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,a.width,a.height));for(var d=a.colorTextures,e=0;e<d.length;e++)this.renderer.texture.bind(d[e],0);a.depthTexture&&this.renderer.texture.bind(a.depthTexture,0)},b.prototype.updateFramebuffer=function(a){var b=this.gl,c=a.glFramebuffers[this.CONTEXT_UID],d=a.colorTextures.length;b.drawBuffers||(d=Math.min(d,1));for(var e=[],f=0;d>f;f++){var g=a.colorTextures[f];g.texturePart?(this.renderer.texture.bind(g.texture,0),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0+f,b.TEXTURE_CUBE_MAP_NEGATIVE_X+g.side,g.texture._glTextures[this.CONTEXT_UID].texture,0)):(this.renderer.texture.bind(g,0),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0+f,b.TEXTURE_2D,g._glTextures[this.CONTEXT_UID].texture,0)),e.push(b.COLOR_ATTACHMENT0+f)}if(e.length>1&&b.drawBuffers(e),a.depthTexture&&this.writeDepthTexture){var h=a.depthTexture;this.renderer.texture.bind(h,0),b.framebufferTexture2D(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,0)}c.stencil||!a.stencil&&!a.depth||(c.stencil=b.createRenderbuffer(),b.bindRenderbuffer(b.RENDERBUFFER,c.stencil),a.depthTexture||b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_STENCIL_ATTACHMENT,b.RENDERBUFFER,c.stencil),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,a.width,a.height))},b.prototype.disposeFramebuffer=function(a,b){var c=a.glFramebuffers[this.CONTEXT_UID],d=this.gl;if(c){delete a.glFramebuffers[this.CONTEXT_UID];var e=this.managedFramebuffers.indexOf(a);e>=0&&this.managedFramebuffers.splice(e,1),a.disposeRunner.remove(this),b||(d.deleteFramebuffer(c.framebuffer),c.stencil&&d.deleteRenderbuffer(c.stencil))}},b.prototype.disposeAll=function(a){var b=this.managedFramebuffers;this.managedFramebuffers=[];for(var c=0;c<b.count;c++)this.disposeFramebuffer(b[c],a)},b.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new ic},Object.defineProperties(b.prototype,c),b}(Rc),td=function(a){this.buffer=a,this.updateID=-1,this.byteLength=-1,this.refCount=0},ud={5126:4,5123:2,5121:1},vd=function(a){function b(b){a.call(this,b),this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.boundBuffers={},this.managedGeometries={},this.managedBuffers={}}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.contextChange=function(){this.disposeAll(!0);var a=this.gl=this.renderer.gl,b=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!a.createVertexArray){var c=this.renderer.context.extensions.vertexArrayObject;Sa.PREFER_ENV===sb.WEBGL_LEGACY&&(c=null),c?(a.createVertexArray=function(){return c.createVertexArrayOES()},a.bindVertexArray=function(a){return c.bindVertexArrayOES(a)},a.deleteVertexArray=function(a){return c.deleteVertexArrayOES(a)}):(this.hasVao=!1,a.createVertexArray=function(){},a.bindVertexArray=function(){},a.deleteVertexArray=function(){})}if(!a.vertexAttribDivisor){var d=a.getExtension("ANGLE_instanced_arrays");d?(a.vertexAttribDivisor=function(a,b){return d.vertexAttribDivisorANGLE(a,b)},a.drawElementsInstanced=function(a,b,c,e,f){return d.drawElementsInstancedANGLE(a,b,c,e,f)},a.drawArraysInstanced=function(a,b,c,e){return d.drawArraysInstancedANGLE(a,b,c,e)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===b.webGLVersion||!!b.extensions.uint32ElementIndex},b.prototype.bind=function(a,b){b=b||this.renderer.shader.shader;var c=this.gl,d=a.glVertexArrayObjects[this.CONTEXT_UID];d||(this.managedGeometries[a.id]=a,a.disposeRunner.add(this),a.glVertexArrayObjects[this.CONTEXT_UID]=d={});var e=d[b.program.id]||this.initGeometryVao(a,b.program);this._activeGeometry=a,this._activeVao!==e&&(this._activeVao=e,this.hasVao?c.bindVertexArray(e):this.activateVao(a,b.program)),this.updateBuffers()},b.prototype.reset=function(){this.unbind()},b.prototype.updateBuffers=function(){for(var a=this._activeGeometry,b=this.gl,c=0;c<a.buffers.length;c++){var d=a.buffers[c],e=d._glBuffers[this.CONTEXT_UID];if(d._updateID!==e.updateID){e.updateID=d._updateID;var f=d.index?b.ELEMENT_ARRAY_BUFFER:b.ARRAY_BUFFER;if(b.bindBuffer(f,e.buffer),this._boundBuffer=e,e.byteLength>=d.data.byteLength)b.bufferSubData(f,0,d.data);else{var g=d["static"]?b.STATIC_DRAW:b.DYNAMIC_DRAW;e.byteLength=d.data.byteLength,b.bufferData(f,d.data,g)}}}},b.prototype.checkCompatibility=function(a,b){var c=a.attributes,d=b.attributeData;for(var e in d)if(!c[e])throw new Error('shader and geometry incompatible, geometry missing the "'+e+'" attribute')},b.prototype.getSignature=function(a,b){var c=a.attributes,d=b.attributeData,e=["g",a.id];for(var f in c)d[f]&&e.push(f);return e.join("-")},b.prototype.initGeometryVao=function(a,b){this.checkCompatibility(a,b);var c=this.gl,d=this.CONTEXT_UID,e=this.getSignature(a,b),f=a.glVertexArrayObjects[this.CONTEXT_UID],g=f[e];if(g)return f[b.id]=g,g;var h=a.buffers,i=a.attributes,j={},k={};for(var l in h)j[l]=0,k[l]=0;for(var m in i)!i[m].size&&b.attributeData[m]?i[m].size=b.attributeData[m].size:i[m].size||console.warn("PIXI Geometry attribute '"+m+"' size cannot be determined (likely the bound shader does not have the attribute)"),j[i[m].buffer]+=i[m].size*ud[i[m].type];for(var n in i){var o=i[n],p=o.size;void 0===o.stride&&(j[o.buffer]===p*ud[o.type]?o.stride=0:o.stride=j[o.buffer]),void 0===o.start&&(o.start=k[o.buffer],k[o.buffer]+=p*ud[o.type])}g=c.createVertexArray(),c.bindVertexArray(g);
for(var q=0;q<h.length;q++){var r=h[q];r._glBuffers[d]||(r._glBuffers[d]=new td(c.createBuffer()),this.managedBuffers[r.id]=r,r.disposeRunner.add(this)),r._glBuffers[d].refCount++}return this.activateVao(a,b),this._activeVao=g,f[b.id]=g,f[e]=g,g},b.prototype.disposeBuffer=function(a,b){if(this.managedBuffers[a.id]){delete this.managedBuffers[a.id];var c=a._glBuffers[this.CONTEXT_UID],d=this.gl;a.disposeRunner.remove(this),c&&(b||d.deleteBuffer(c.buffer),delete a._glBuffers[this.CONTEXT_UID])}},b.prototype.disposeGeometry=function(a,b){if(this.managedGeometries[a.id]){delete this.managedGeometries[a.id];var c=a.glVertexArrayObjects[this.CONTEXT_UID],d=this.gl,e=a.buffers;if(a.disposeRunner.remove(this),c){for(var f=0;f<e.length;f++){var g=e[f]._glBuffers[this.CONTEXT_UID];g.refCount--,0!==g.refCount||b||this.disposeBuffer(e[f],b)}if(!b)for(var h in c)if("g"===h[0]){var i=c[h];this._activeVao===i&&this.unbind(),d.deleteVertexArray(i)}delete a.glVertexArrayObjects[this.CONTEXT_UID]}}},b.prototype.disposeAll=function(a){for(var b=Object.keys(this.managedGeometries),c=0;c<b.length;c++)this.disposeGeometry(this.managedGeometries[b[c]],a);b=Object.keys(this.managedBuffers);for(var d=0;d<b.length;d++)this.disposeBuffer(this.managedBuffers[b[d]],a)},b.prototype.activateVao=function(a,b){var c=this.gl,d=this.CONTEXT_UID,e=a.buffers,f=a.attributes;a.indexBuffer&&c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,a.indexBuffer._glBuffers[d].buffer);var g=null;for(var h in f){var i=f[h],j=e[i.buffer]._glBuffers[d];if(b.attributeData[h]){g!==j&&(c.bindBuffer(c.ARRAY_BUFFER,j.buffer),g=j);var k=b.attributeData[h].location;if(c.enableVertexAttribArray(k),c.vertexAttribPointer(k,i.size,i.type||c.FLOAT,i.normalized,i.stride,i.start),i.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");c.vertexAttribDivisor(k,1)}}}},b.prototype.draw=function(a,b,c,d){var e=this.gl,f=this._activeGeometry;if(f.indexBuffer){var g=f.indexBuffer.data.BYTES_PER_ELEMENT,h=2===g?e.UNSIGNED_SHORT:e.UNSIGNED_INT;2===g||4===g&&this.canUseUInt32ElementIndex?f.instanced?e.drawElementsInstanced(a,b||f.indexBuffer.data.length,h,(c||0)*g,d||1):e.drawElements(a,b||f.indexBuffer.data.length,h,(c||0)*g):console.warn("unsupported index buffer type: uint32")}else f.instanced?e.drawArraysInstanced(a,c,b||f.getSize(),d||1):e.drawArrays(a,c,b||f.getSize());return this},b.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},b}(Rc),wd=null,xd={"float":1,vec2:2,vec3:3,vec4:4,"int":1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1},yd=null,zd={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray"},Ad={"float":"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])","int":"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Bd={"float":"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)","int":"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},Cd=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n"),Dd=0,Ed={},Fd=function Rg(a,b,c){void 0===c&&(c="pixi-shader"),this.id=Dd++,this.vertexSrc=a||Rg.defaultVertexSrc,this.fragmentSrc=b||Rg.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(c=c.replace(/\s+/g,"-"),Ed[c]?(Ed[c]++,c+="-"+Ed[c]):Ed[c]=1,this.vertexSrc="#define SHADER_NAME "+c+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+c+"\n"+this.fragmentSrc,this.vertexSrc=fa(this.vertexSrc,Sa.PRECISION_VERTEX,Db.HIGH),this.fragmentSrc=fa(this.fragmentSrc,Sa.PRECISION_FRAGMENT,function(){if(!od){od=Db.MEDIUM;var a=ea();if(a&&a.getShaderPrecisionFormat){var b=a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT);od=b.precision?Db.HIGH:Db.MEDIUM}}return od}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null},Gd={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};Fd.prototype.extractData=function(a,b){var c=ea();if(c){var d=aa(c,a,b);this.attributeData=this.getAttributeData(d,c),this.uniformData=this.getUniformData(d,c),c.deleteProgram(d)}else this.uniformData={},this.attributeData={}},Fd.prototype.getAttributeData=function(a,b){for(var c={},d=[],e=b.getProgramParameter(a,b.ACTIVE_ATTRIBUTES),f=0;e>f;f++){var g=b.getActiveAttrib(a,f),h=ha(b,g.type),i={type:h,name:g.name,size:ga(h),location:0};c[g.name]=i,d.push(i)}d.sort(function(a,b){return a.name>b.name?1:-1});for(var j=0;j<d.length;j++)d[j].location=j;return c},Fd.prototype.getUniformData=function(a,b){for(var c={},d=b.getProgramParameter(a,b.ACTIVE_UNIFORMS),e=0;d>e;e++){var f=b.getActiveUniform(a,e),g=f.name.replace(/\[.*?\]/,""),h=f.name.match(/\[.*?\]/,""),i=ha(b,f.type);c[g]={type:i,size:f.size,isArray:h,value:ca(i,f.size)}}return c},Gd.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},Gd.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},Fd.from=function(a,b,c){var d=a+b,e=Jb[d];return e||(Jb[d]=e=new Fd(a,b,c)),e},Object.defineProperties(Fd,Gd);var Hd=function(a,b){for(var c in this.program=a,this.uniformGroup=b?b instanceof jd?b:new jd(b):new jd({}),a.uniformData)this.uniformGroup.uniforms[c]instanceof Array&&(this.uniformGroup.uniforms[c]=new Float32Array(this.uniformGroup.uniforms[c]))},Id={uniforms:{configurable:!0}};Hd.prototype.checkUniformExists=function(a,b){if(b.uniforms[a])return!0;for(var c in b.uniforms){var d=b.uniforms[c];if(d.group&&this.checkUniformExists(a,d))return!0}return!1},Hd.prototype.destroy=function(){this.uniformGroup=null},Id.uniforms.get=function(){return this.uniformGroup.uniforms},Hd.from=function(a,b,c){var d=Fd.from(a,b);return new Hd(d,c)},Object.defineProperties(Hd.prototype,Id);var Jd=function(){this.data=0,this.blendMode=ub.NORMAL,this.polygonOffset=0,this.blend=!0},Kd={blend:{configurable:!0},offsets:{configurable:!0},culling:{configurable:!0},depthTest:{configurable:!0},clockwiseFrontFace:{configurable:!0},blendMode:{configurable:!0},polygonOffset:{configurable:!0}};Kd.blend.get=function(){return!!(1&this.data)},Kd.blend.set=function(a){!!(1&this.data)!==a&&(this.data^=1)},Kd.offsets.get=function(){return!!(2&this.data)},Kd.offsets.set=function(a){!!(2&this.data)!==a&&(this.data^=2)},Kd.culling.get=function(){return!!(4&this.data)},Kd.culling.set=function(a){!!(4&this.data)!==a&&(this.data^=4)},Kd.depthTest.get=function(){return!!(8&this.data)},Kd.depthTest.set=function(a){!!(8&this.data)!==a&&(this.data^=8)},Kd.clockwiseFrontFace.get=function(){return!!(16&this.data)},Kd.clockwiseFrontFace.set=function(a){!!(16&this.data)!==a&&(this.data^=16)},Kd.blendMode.get=function(){return this._blendMode},Kd.blendMode.set=function(a){this.blend=a!==ub.NONE,this._blendMode=a},Kd.polygonOffset.get=function(){return this._polygonOffset},Kd.polygonOffset.set=function(a){this.offsets=!!a,this._polygonOffset=a},Jd.for2d=function(){var a=new Jd;return a.depthTest=!1,a.blend=!0,a},Object.defineProperties(Jd.prototype,Kd);var Ld=function(a){function b(c,d,e){var f=Fd.from(c||b.defaultVertexSrc,d||b.defaultFragmentSrc);a.call(this,f,e),this.padding=0,this.resolution=Sa.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0,this.legacy=!!this.program.attributeData.aTextureCoord,this.state=new Jd}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={blendMode:{configurable:!0}},d={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};return b.prototype.apply=function(a,b,c,d,e){a.applyFilter(this,b,c,d,e)},c.blendMode.get=function(){return this.state.blendMode},c.blendMode.set=function(a){this.state.blendMode=a},d.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},d.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},Object.defineProperties(b.prototype,c),Object.defineProperties(b,d),b}(Hd);Ld.SOURCE_KEY_MAP={};var Md="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",Nd="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",Od=new Zb,Pd=function(a,b){this._texture=a,this.mapCoord=new Zb,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._updateID=-1,this.clampOffset=0,this.clampMargin=void 0===b?.5:b,this.isSimple=!1},Qd={texture:{configurable:!0}};Qd.texture.get=function(){return this._texture},Qd.texture.set=function(a){this._texture=a,this._updateID=-1},Pd.prototype.multiplyUvs=function(a,b){void 0===b&&(b=a);for(var c=this.mapCoord,d=0;d<a.length;d+=2){var e=a[d],f=a[d+1];b[d]=e*c.a+f*c.c+c.tx,b[d+1]=e*c.b+f*c.d+c.ty}return b},Pd.prototype.update=function(a){var b=this._texture;if(!b||!b.valid)return!1;if(!a&&this._updateID===b._updateID)return!1;this._updateID=b._updateID;var c=b._uvs;this.mapCoord.set(c.x1-c.x0,c.y1-c.y0,c.x3-c.x0,c.y3-c.y0,c.x0,c.y0);var d=b.orig,e=b.trim;e&&(Od.set(d.width/e.width,0,0,d.height/e.height,-e.x/e.width,-e.y/e.height),this.mapCoord.append(Od));var f=b.baseTexture,g=this.uClampFrame,h=this.clampMargin/f.resolution,i=this.clampOffset;return g[0]=(b._frame.x+h+i)/f.width,g[1]=(b._frame.y+h+i)/f.height,g[2]=(b._frame.x+b._frame.width-h+i)/f.width,g[3]=(b._frame.y+b._frame.height-h+i)/f.height,this.uClampOffset[0]=i/f.realWidth,this.uClampOffset[1]=i/f.realHeight,this.isSimple=b._frame.width===f.width&&b._frame.height===f.height&&0===b.rotate,!0},Object.defineProperties(Pd.prototype,Qd);var Rd=function(a){function b(b){var c=new Zb;a.call(this,Md,Nd),b.renderable=!1,this.maskSprite=b,this.maskMatrix=c}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.apply=function(a,b,c,d){var e=this.maskSprite,f=this.maskSprite.texture;f.valid&&(f.transform||(f.transform=new Pd(f,0)),f.transform.update(),this.uniforms.npmAlpha=f.baseTexture.premultiplyAlpha?0:1,this.uniforms.mask=f,this.uniforms.otherMatrix=a.calculateSpriteMatrix(this.maskMatrix,e).prepend(f.transform.mapCoord),this.uniforms.alpha=e.worldAlpha,this.uniforms.maskClamp=f.transform.uClampFrame,a.applyFilter(this,b,c,d))},b}(Ld),Sd=function(a){function b(b){a.call(this,b),this.scissor=!1,this.scissorData=null,this.scissorRenderTarget=null,this.enableScissor=!1,this.alphaMaskPool=[],this.alphaMaskIndex=0}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.push=function(a,b){if(b.isSprite)this.pushSpriteMask(a,b);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencil.stencilMaskStack.length&&b.isFastRect()){var c=b.worldTransform,d=Math.atan2(c.b,c.a);(d=Math.round(d*(180/Math.PI)))%90?this.pushStencilMask(b):this.pushScissorMask(a,b)}else this.pushStencilMask(b)},b.prototype.pop=function(a,b){b.isSprite?this.popSpriteMask(a,b):this.enableScissor&&!this.renderer.stencil.stencilMaskStack.length?this.popScissorMask(a,b):this.popStencilMask(a,b)},b.prototype.pushSpriteMask=function(a,b){var c=this.alphaMaskPool[this.alphaMaskIndex];c||(c=this.alphaMaskPool[this.alphaMaskIndex]=[new Rd(b)]),c[0].resolution=this.renderer.resolution,c[0].maskSprite=b;var d=a.filterArea;a.filterArea=b.getBounds(!0),this.renderer.filter.push(a,c),a.filterArea=d,this.alphaMaskIndex++},b.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},b.prototype.pushStencilMask=function(a){this.renderer.batch.flush(),this.renderer.stencil.pushStencil(a)},b.prototype.popStencilMask=function(){this.renderer.stencil.popStencil()},b.prototype.pushScissorMask=function(a,b){b.renderable=!0;var c=this.renderer._activeRenderTarget,d=b.getBounds();d.fit(c.size),b.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var e=this.renderer.resolution;this.renderer.gl.scissor(d.x*e,(c.root?c.size.height-d.y-d.height:d.y)*e,d.width*e,d.height*e),this.scissorRenderTarget=c,this.scissorData=b,this.scissor=!0},b.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var a=this.renderer.gl;a.disable(a.SCISSOR_TEST)},b}(Rc),Td=function(a){function b(b){a.call(this,b),this.stencilMaskStack=[]}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.setMaskStack=function(a){var b=this.renderer.gl;a.length!==this.stencilMaskStack.length&&(0===a.length?b.disable(b.STENCIL_TEST):b.enable(b.STENCIL_TEST)),this.stencilMaskStack=a},b.prototype.pushStencil=function(a){var b=this.renderer.gl,c=this.stencilMaskStack.length;0===c&&b.enable(b.STENCIL_TEST),this.stencilMaskStack.push(a),b.colorMask(!1,!1,!1,!1),b.stencilFunc(b.EQUAL,c,this._getBitwiseMask()),b.stencilOp(b.KEEP,b.KEEP,b.INCR),a.renderable=!0,a.render(this.renderer),this.renderer.batch.flush(),a.renderable=!1,this._useCurrent()},b.prototype.popStencil=function(){var a=this.renderer.gl,b=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(a.disable(a.STENCIL_TEST),a.clear(a.STENCIL_BUFFER_BIT),a.clearStencil(0)):(a.colorMask(!1,!1,!1,!1),a.stencilOp(a.KEEP,a.KEEP,a.DECR),b.renderable=!0,b.render(this.renderer),this.renderer.batch.flush(),b.renderable=!1,this._useCurrent())},b.prototype._useCurrent=function(){var a=this.renderer.gl;a.colorMask(!0,!0,!0,!0),a.stencilFunc(a.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),a.stencilOp(a.KEEP,a.KEEP,a.KEEP)},b.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},b.prototype.destroy=function(){a.prototype.destroy.call(this,this),this.stencilMaskStack=null},b}(Rc),Ud=function(a){function b(b){a.call(this,b),this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Zb,this.transform=null}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.update=function(a,b,c,d){this.destinationFrame=a||this.destinationFrame||this.defaultFrame,this.sourceFrame=b||this.sourceFrame||a,this.calculateProjection(this.destinationFrame,this.sourceFrame,c,d),this.transform&&this.projectionMatrix.append(this.transform);var e=this.renderer;e.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,e.globalUniforms.update(),e.shader.shader&&e.shader.syncUniformGroup(e.shader.shader.uniforms.globals)},b.prototype.calculateProjection=function(a,b,c,d){var e=this.projectionMatrix;d?(e.a=1/a.width*2*c,e.d=-1/a.height*2*c,e.tx=-1-b.x*e.a,e.ty=1-b.y*e.d):(e.a=1/a.width*2*c,e.d=1/a.height*2*c,e.tx=-1-b.x*e.a,e.ty=-1-b.y*e.d)},b.prototype.setTransform=function(){},b}(Rc),Vd=new ic,Wd=function(a){function b(b){a.call(this,b),this.clearColor=b._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new ic,this.destinationFrame=new ic}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.bind=function(a,b,c){void 0===a&&(a=null),this.current=a;var d,e=this.renderer;if(a){var f=a.baseTexture;d=f.resolution,c||(Vd.width=f.realWidth,Vd.height=f.realHeight,c=Vd),b||(b=c),this.renderer.framebuffer.bind(f.framebuffer,c),this.renderer.projection.update(c,b,d,!1),this.renderer.stencil.setMaskStack(f.stencilMaskStack)}else d=this.renderer.resolution,c||(Vd.width=e.width,Vd.height=e.height,c=Vd),b||(b=c),e.framebuffer.bind(null,c),this.renderer.projection.update(c,b,d,!0),this.renderer.stencil.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(b),this.destinationFrame.x=c.x/d,this.destinationFrame.y=c.y/d,this.destinationFrame.width=c.width/d,this.destinationFrame.height=c.height/d,b===c&&this.sourceFrame.copyFrom(this.destinationFrame)},b.prototype.clear=function(a){a=this.current?a||this.current.baseTexture.clearColor:a||this.clearColor,this.renderer.framebuffer.clear(a[0],a[1],a[2],a[3])},b.prototype.resize=function(){this.bind(null)},b.prototype.reset=function(){this.bind(null)},b}(Rc),Xd=function(a,b){this.program=a,this.uniformData=b,this.uniformGroups={}};Xd.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null};var Yd=0,Zd=function(a){function b(b){a.call(this,b),this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this.id=Yd++}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof pd)return pd;try{var a=new Function("param1","param2","param3","return param1[param2] === param3;");pd=!0===a({a:"b"},"a","b")}catch(a){pd=!1}return pd}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},b.prototype.contextChange=function(a){this.gl=a},b.prototype.bind=function(a,b){a.uniforms.globals=this.renderer.globalUniforms;var c=a.program,d=c.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(a);return this.shader=a,this.program!==c&&(this.program=c,this.gl.useProgram(d.program)),b||this.syncUniformGroup(a.uniformGroup),d},b.prototype.setUniforms=function(a){var b=this.shader.program,c=b.glPrograms[this.renderer.CONTEXT_UID];b.syncUniforms(c.uniformData,a,this.renderer)},b.prototype.syncUniformGroup=function(a){var b=this.getglProgram();a["static"]&&a.dirtyId===b.uniformGroups[a.id]||(b.uniformGroups[a.id]=a.dirtyId,this.syncUniforms(a,b))},b.prototype.syncUniforms=function(a,b){(a.syncUniforms[this.shader.program.id]||this.createSyncGroups(a))(b.uniformData,a.uniforms,this.renderer)},b.prototype.createSyncGroups=function(a){var b=this.getSignature(a,this.shader.program.uniformData);return this.cache[b]||(this.cache[b]=function(a,b){var c=0,d="var v = null;\n    var cv = null\n    var gl = renderer.gl";for(var e in a.uniforms){var f=b[e];f?"float"===f.type&&1===f.size?d+="\n            if(uv."+e+" !== ud."+e+".value)\n            {\n                ud."+e+".value = uv."+e+"\n                gl.uniform1f(ud."+e+".location, uv."+e+")\n            }\n":"sampler2D"!==f.type&&"samplerCube"!==f.type&&"sampler2DArray"!==f.type||1!==f.size||f.isArray?d+="mat3"===f.type&&1===f.size?void 0!==a.uniforms[e].a?"\n                gl.uniformMatrix3fv(ud."+e+".location, false, uv."+e+".toArray(true));\n                \n":"\n                gl.uniformMatrix3fv(ud."+e+".location, false, uv."+e+");\n                \n":"vec2"===f.type&&1===f.size?void 0!==a.uniforms[e].x?"\n                cv = ud."+e+".value;\n                v = uv."+e+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud."+e+".location, v.x, v.y);\n                }\n":"\n                cv = ud."+e+".value;\n                v = uv."+e+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud."+e+".location, v[0], v[1]);\n                }\n                \n":"vec4"===f.type&&1===f.size?void 0!==a.uniforms[e].width?"\n                cv = ud."+e+".value;\n                v = uv."+e+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud."+e+".location, v.x, v.y, v.width, v.height)\n                }\n":"\n                cv = ud."+e+".value;\n                v = uv."+e+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud."+e+".location, v[0], v[1], v[2], v[3])\n                }\n                \n":"\n            cv = ud."+e+".value;\n            v = uv."+e+";\n            "+(1===f.size?Ad:Bd)[f.type].replace("location","ud."+e+".location")+";\n":(d+="\n            renderer.texture.bind(uv."+e+", "+c+");\n\n            if(ud."+e+".value !== "+c+")\n            {\n                ud."+e+".value = "+c+";\n                gl.uniform1i(ud."+e+".location, "+c+");\n; // eslint-disable-line max-len\n            }\n",c++):a.uniforms[e].group&&(d+="\n                    renderer.shader.syncUniformGroup(uv."+e+");\n                ")}return new Function("ud","uv","renderer",d)}(a,this.shader.program.uniformData)),a.syncUniforms[this.shader.program.id]=this.cache[b],a.syncUniforms[this.shader.program.id]},b.prototype.getSignature=function(a,b){var c=a.uniforms,d=[];for(var e in c)d.push(e),b[e]&&d.push(b[e].type);return d.join("-")},b.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},b.prototype.generateShader=function(a){var b=this.gl,c=a.program,d={};for(var e in c.attributeData)d[e]=c.attributeData[e].location;var f=aa(b,c.vertexSrc,c.fragmentSrc,d),g={};for(var h in c.uniformData){var i=c.uniformData[h];g[h]={location:b.getUniformLocation(f,h),value:ca(i.type,i.size)}}var j=new Xd(f,g);return c.glPrograms[this.renderer.CONTEXT_UID]=j,j},b.prototype.reset=function(){this.program=null,this.shader=null},b.prototype.destroy=function(){this.destroyed=!0},b}(Rc),$d=0,_d=1,ae=2,be=3,ce=4,de=function(a){function b(b){a.call(this,b),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ub.NONE,this._blendEq=!1,this.map=[],this.map[$d]=this.setBlend,this.map[_d]=this.setOffset,this.map[ae]=this.setCullFace,this.map[be]=this.setDepthTest,this.map[ce]=this.setFrontFace,this.checks=[],this.defaultState=new Jd,this.defaultState.blend=!0,this.defaultState.depth=!0}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.contextChange=function(a){this.gl=a,this.blendModes=function(a,b){return void 0===b&&(b=[]),b[ub.NORMAL]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[ub.ADD]=[a.ONE,a.ONE],b[ub.MULTIPLY]=[a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA],b[ub.SCREEN]=[a.ONE,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE_MINUS_SRC_ALPHA],b[ub.OVERLAY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[ub.DARKEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[ub.LIGHTEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[ub.COLOR_DODGE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[ub.COLOR_BURN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[ub.HARD_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[ub.SOFT_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[ub.DIFFERENCE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[ub.EXCLUSION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[ub.HUE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[ub.SATURATION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[ub.COLOR]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[ub.LUMINOSITY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],b[ub.NONE]=[0,0],b[ub.NORMAL_NPM]=[a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA],b[ub.ADD_NPM]=[a.SRC_ALPHA,a.ONE,a.ONE,a.ONE],b[ub.SCREEN_NPM]=[a.SRC_ALPHA,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE_MINUS_SRC_ALPHA],b[ub.SRC_IN]=[a.DST_ALPHA,a.ZERO],b[ub.SRC_OUT]=[a.ONE_MINUS_DST_ALPHA,a.ZERO],b[ub.SRC_ATOP]=[a.DST_ALPHA,a.ONE_MINUS_SRC_ALPHA],b[ub.DST_OVER]=[a.ONE_MINUS_DST_ALPHA,a.ONE],b[ub.DST_IN]=[a.ZERO,a.SRC_ALPHA],b[ub.DST_OUT]=[a.ZERO,a.ONE_MINUS_SRC_ALPHA],b[ub.DST_ATOP]=[a.ONE_MINUS_DST_ALPHA,a.SRC_ALPHA],b[ub.SUBTRACT]=[a.ONE,a.ONE,a.ONE,a.ONE,a.FUNC_REVERSE_SUBTRACT,a.FUNC_ADD],b}(a),this.setState(this.defaultState),this.reset()},b.prototype.setState=function(a){if(a=a||this.defaultState,this.stateId!==a.data){for(var b=this.stateId^a.data,c=0;b;)1&b&&this.map[c].call(this,!!(a.data&1<<c)),b>>=1,c++;this.stateId=a.data}for(var d=0;d<this.checks.length;d++)this.checks[d](this,a)},b.prototype.forceState=function(a){a=a||this.defaultState;for(var b=0;b<this.map.length;b++)this.map[b].call(this,!!(a.data&1<<b));for(var c=0;c<this.checks.length;c++)this.checks[c](this,a);this.stateId=a.data},b.prototype.setBlend=function(a){this.updateCheck(b.checkBlendMode,a),this.gl[a?"enable":"disable"](this.gl.BLEND)},b.prototype.setOffset=function(a){this.updateCheck(b.checkPolygonOffset,a),this.gl[a?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},b.prototype.setDepthTest=function(a){this.gl[a?"enable":"disable"](this.gl.DEPTH_TEST)},b.prototype.setCullFace=function(a){this.gl[a?"enable":"disable"](this.gl.CULL_FACE)},b.prototype.setFrontFace=function(a){this.gl.frontFace(this.gl[a?"CW":"CCW"])},b.prototype.setBlendMode=function(a){if(a!==this.blendMode){this.blendMode=a;var b=this.blendModes[a],c=this.gl;2===b.length?c.blendFunc(b[0],b[1]):c.blendFuncSeparate(b[0],b[1],b[2],b[3]),6===b.length?(this._blendEq=!0,c.blendEquationSeparate(b[4],b[5])):this._blendEq&&(this._blendEq=!1,c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD))}},b.prototype.setPolygonOffset=function(a,b){this.gl.polygonOffset(a,b)},b.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(0),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},b.prototype.updateCheck=function(a,b){var c=this.checks.indexOf(a);b&&-1===c?this.checks.push(a):b||-1===c||this.checks.splice(c,1)},b.checkBlendMode=function(a,b){a.setBlendMode(b.blendMode)},b.checkPolygonOffset=function(a,b){a.setPolygonOffset(b.polygonOffset,0)},b}(Rc),ee=function(a){function b(b){a.call(this,b),this.count=0,this.checkCount=0,this.maxIdle=Sa.GC_MAX_IDLE,this.checkCountMax=Sa.GC_MAX_CHECK_COUNT,this.mode=Sa.GC_MODE}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.postrender=function(){this.count++,this.mode!==Cb.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},b.prototype.run=function(){for(var a=this.renderer.texture,b=a.managedTextures,c=!1,d=0;d<b.length;d++){var e=b[d];!e.framebuffer&&this.count-e.touched>this.maxIdle&&(a.destroyTexture(e,!0),b[d]=null,c=!0)}if(c){for(var f=0,g=0;g<b.length;g++)null!==b[g]&&(b[f++]=b[g]);b.length=f}},b.prototype.unload=function(a){var b=this.renderer.textureSystem;a._texture&&a._texture._glRenderTargets&&b.destroyTexture(a._texture);for(var c=a.children.length-1;c>=0;c--)this.unload(a.children[c])},b}(Rc),fe=function(a){this.texture=a,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071},ge=function(a){function b(b){a.call(this,b),this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Kc}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.contextChange=function(){var a=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var b=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=b;for(var c=0;b>c;c++)this.boundTextures[c]=null;this.emptyTextures={};var d=new fe(a.createTexture());a.bindTexture(a.TEXTURE_2D,d.texture),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[a.TEXTURE_2D]=d,this.emptyTextures[a.TEXTURE_CUBE_MAP]=new fe(a.createTexture()),a.bindTexture(a.TEXTURE_CUBE_MAP,this.emptyTextures[a.TEXTURE_CUBE_MAP].texture);for(var e=0;6>e;e++)a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,null);a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MIN_FILTER,a.LINEAR);for(var f=0;f<this.boundTextures.length;f++)this.bind(null,f)},b.prototype.bind=function(a,b){void 0===b&&(b=0);var c=this.gl;if(a){if((a=a.baseTexture||a).valid){a.touched=this.renderer.textureGC.count;var d=a._glTextures[this.CONTEXT_UID]||this.initTexture(a);this.currentLocation!==b&&(this.currentLocation=b,c.activeTexture(c.TEXTURE0+b)),this.boundTextures[b]!==a&&c.bindTexture(a.target,d.texture),d.dirtyId!==a.dirtyId&&this.updateTexture(a),this.boundTextures[b]=a}}else this.currentLocation!==b&&(this.currentLocation=b,c.activeTexture(c.TEXTURE0+b)),c.bindTexture(c.TEXTURE_2D,this.emptyTextures[c.TEXTURE_2D].texture),this.boundTextures[b]=null},b.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var a=0;a<this.boundTextures.length;a++)this.boundTextures[a]=this.unknownTexture;
},b.prototype.unbind=function(a){var b=this.gl,c=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var d=0;d<c.length;d++)c[d]===this.unknownTexture&&this.bind(null,d)}for(var e=0;e<c.length;e++)c[e]===a&&(this.currentLocation!==e&&(b.activeTexture(b.TEXTURE0+e),this.currentLocation=e),b.bindTexture(b.TEXTURE_2D,this.emptyTextures[a.target].texture),c[e]=null)},b.prototype.initTexture=function(a){var b=new fe(this.gl.createTexture());return b.dirtyId=-1,a._glTextures[this.CONTEXT_UID]=b,this.managedTextures.push(a),a.on("dispose",this.destroyTexture,this),b},b.prototype.updateTexture=function(a){var b=a._glTextures[this.CONTEXT_UID],c=this.renderer;if(a.resource&&a.resource.upload(c,a,b));else{var d=a.realWidth,e=a.realHeight,f=c.gl;(b.width!==d||b.height!==e||b.dirtyId<0)&&(b.width=d,b.height=e,f.texImage2D(a.target,0,a.format,d,e,0,a.format,a.type,null))}a.dirtyStyleId!==b.dirtyStyleId&&this.updateTextureStyle(a),b.dirtyId=a.dirtyId},b.prototype.destroyTexture=function(a,b){var c=this.gl;if((a=a.baseTexture||a)._glTextures[this.CONTEXT_UID]&&(this.unbind(a),c.deleteTexture(a._glTextures[this.CONTEXT_UID].texture),a.off("dispose",this.destroyTexture,this),delete a._glTextures[this.CONTEXT_UID],!b)){var d=this.managedTextures.indexOf(a);-1!==d&&N(this.managedTextures,d,1)}},b.prototype.updateTextureStyle=function(a){var b=a._glTextures[this.CONTEXT_UID];b&&(a.mipmap!==Bb.POW2&&2===this.webGLVersion||a.isPowerOfTwo?(b.mipmap=a.mipmap>=1,b.wrapMode=a.wrapMode):(b.mipmap=0,b.wrapMode=Ab.CLAMP),a.resource&&a.resource.style(this.renderer,a,b)||this.setStyle(a,b),b.dirtyStyleId=a.dirtyStyleId)},b.prototype.setStyle=function(a,b){var c=this.gl;b.mipmap&&c.generateMipmap(a.target),c.texParameteri(a.target,c.TEXTURE_WRAP_S,b.wrapMode),c.texParameteri(a.target,c.TEXTURE_WRAP_T,b.wrapMode),b.mipmap?c.texParameteri(a.target,c.TEXTURE_MIN_FILTER,a.scaleMode?c.LINEAR_MIPMAP_LINEAR:c.NEAREST_MIPMAP_NEAREST):c.texParameteri(a.target,c.TEXTURE_MIN_FILTER,a.scaleMode?c.LINEAR:c.NEAREST),c.texParameteri(a.target,c.TEXTURE_MAG_FILTER,a.scaleMode?c.LINEAR:c.NEAREST)},b}(Rc),he={FilterSystem:ld,BatchSystem:nd,ContextSystem:rd,FramebufferSystem:sd,GeometrySystem:vd,MaskSystem:Sd,StencilSystem:Td,ProjectionSystem:Ud,RenderTextureSystem:Wd,ShaderSystem:Zd,StateSystem:de,TextureGCSystem:ee,TextureSystem:ge},ie=new Zb,je=function(a){function b(b,c){a.call(this),(c=Object.assign({},Sa.RENDER_OPTIONS,c)).roundPixels&&(Sa.ROUND_PIXELS=c.roundPixels,W("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),this.options=c,this.type=tb.UNKNOWN,this.screen=new ic(0,0,c.width,c.height),this.view=c.view||document.createElement("canvas"),this.resolution=c.resolution||Sa.RESOLUTION,this.transparent=c.transparent,this.autoDensity=c.autoDensity||c.autoResize||!1,this.preserveDrawingBuffer=c.preserveDrawingBuffer,this.clearBeforeRender=c.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,0],this._backgroundColorString="#000000",this.backgroundColor=c.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent=new rc,this._lastObjectRendered=this._tempDisplayObjectParent,this.plugins={}}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={width:{configurable:!0},height:{configurable:!0},backgroundColor:{configurable:!0}};return b.prototype.initPlugins=function(a){for(var b in a)this.plugins[b]=new a[b](this)},c.width.get=function(){return this.view.width},c.height.get=function(){return this.view.height},b.prototype.resize=function(a,b){this.screen.width=a,this.screen.height=b,this.view.width=a*this.resolution,this.view.height=b*this.resolution,this.autoDensity&&(this.view.style.width=a+"px",this.view.style.height=b+"px")},b.prototype.generateTexture=function(a,b,c,d){0===(d=d||a.getLocalBounds()).width&&(d.width=1),0===d.height&&(d.height=1);var e=Zc.create(0|d.width,0|d.height,b,c);return ie.tx=-d.x,ie.ty=-d.y,this.render(a,e,!1,ie,!!a.parent),e},b.prototype.destroy=function(a){for(var b in this.plugins)this.plugins[b].destroy(),this.plugins[b]=null;a&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.plugins=null,this.type=tb.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoDensity=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},c.backgroundColor.get=function(){return this._backgroundColor},c.backgroundColor.set=function(a){this._backgroundColor=a,this._backgroundColorString=G(a),F(a,this._backgroundColorRgba)},Object.defineProperties(b.prototype,c),b}(Ta),ke=function(a){function b(c){void 0===c&&(c={}),a.call(this,"WebGL",c),c=this.options,this.type=tb.WEBGL,this.gl=null,this.CONTEXT_UID=0,this.runners={destroy:new vc("destroy"),contextChange:new vc("contextChange",1),reset:new vc("reset"),update:new vc("update"),postrender:new vc("postrender"),prerender:new vc("prerender"),resize:new vc("resize",2)},this.globalUniforms=new jd({projectionMatrix:new Zb},!0),this.addSystem(Sd,"mask").addSystem(rd,"context").addSystem(de,"state").addSystem(Zd,"shader").addSystem(ge,"texture").addSystem(vd,"geometry").addSystem(sd,"framebuffer").addSystem(Td,"stencil").addSystem(Ud,"projection").addSystem(ee,"textureGC").addSystem(ld,"filter").addSystem(Wd,"renderTexture").addSystem(nd,"batch"),this.initPlugins(b.__plugins),c.context?this.context.initFromContext(c.context):this.context.initFromOptions({alpha:this.transparent,antialias:c.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:c.preserveDrawingBuffer,powerPreference:this.options.powerPreference}),this.renderingToScreen=!0,D(2===this.context.webGLVersion?"WebGL 2":"WebGL 1"),this.resize(this.options.width,this.options.height)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.create=function(a){if(E())return new b(a);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},b.prototype.addSystem=function(a,b){b||(b=a.name);var c=new a(this);if(this[b])throw new Error('Whoops! The name "'+b+'" is already in use');for(var d in this[b]=c,this.runners)this.runners[d].add(c);return this},b.prototype.render=function(a,b,c,d,e){if(this.renderingToScreen=!b,this.runners.prerender.run(),this.emit("prerender"),this.projection.transform=d,!this.context.isLost){if(b||(this._lastObjectRendered=a),!e){var f=a.parent;a.parent=this._tempDisplayObjectParent,a.updateTransform(),a.parent=f}this.renderTexture.bind(b),this.batch.currentRenderer.start(),(void 0!==c?c:this.clearBeforeRender)&&this.renderTexture.clear(),a.render(this),this.batch.currentRenderer.flush(),b&&b.baseTexture.update(),this.runners.postrender.run(),this.projection.transform=null,this.emit("postrender")}},b.prototype.resize=function(b,c){a.prototype.resize.call(this,b,c),this.runners.resize.run(b,c)},b.prototype.reset=function(){return this.runners.reset.run(),this},b.prototype.clear=function(){this.framebuffer.bind(),this.framebuffer.clear()},b.prototype.destroy=function(b){this.runners.destroy.run(),a.prototype.destroy.call(this,b),this.gl=null},b.registerPlugin=function(a,c){b.__plugins=b.__plugins||{},b.__plugins[a]=c},b}(je),le="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",me="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",ne=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.from=function(a,c){return new b(new Nc(a,c))},b}(Kc),oe=function(a){function b(b){void 0===b&&(b=!1),a.call(this),this._buffer=new ad(null,b,!1),this._indexBuffer=new ad(null,b,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,yb.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,yb.FLOAT).addAttribute("aColor",this._buffer,4,!0,yb.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,yb.FLOAT).addIndex(this._indexBuffer)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(fd),pe=function(){this.textures=[],this.ids=[],this.blend=0,this.textureCount=0,this.start=0,this.size=0,this.type=4},qe=function(a){this.vertices=new ArrayBuffer(a),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)};qe.prototype.destroy=function(){this.vertices=null,this.float32View=null,this.uint32View=null};var re="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",se=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","%forloop%","gl_FragColor = color * vColor;","}"].join("\n"),te={},ue={},ve=function(a){function b(b){a.call(this,b),this.vertSize=6,this.vertByteSize=4*this.vertSize,this.size=8e3,this.currentSize=0,this.currentIndexSize=0,this.attributeBuffers={},this.aBuffers={},this.iBuffers={},this.onlySprites=!1,this.shader=null,this.currentIndex=0,this.groups=[];for(var c=0;c<this.size/4;c++)this.groups[c]=new pe;this.elements=[],this.vaos=[],this.vaoMax=2,this.vertexCount=0,this.renderer.on("prerender",this.onPrerender,this),this.state=Jd.for2d()}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.contextChange=function(){var a=this.renderer.gl;Sa.PREFER_ENV===sb.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),Sa.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=ia(this.MAX_TEXTURES,a)),this.shader=la(0,this.MAX_TEXTURES);for(var b=0;b<this.vaoMax;b++)this.vaos[b]=new oe},b.prototype.onPrerender=function(){this.vertexCount=0},b.prototype.render=function(a){a._texture.valid&&(this.currentSize+a.vertexData.length/2>this.size&&this.flush(),this.elements[this.currentIndex++]=a,this.currentSize+=a.vertexData.length/2,this.currentIndexSize+=a.indices.length)},b.prototype.getIndexBuffer=function(a){var b=Q(Math.ceil(a/12)),c=S(b),d=12*b;this.iBuffers.length<=c&&(this.iBuffers.length=c+1);var e=this.iBuffers[c];return e||(this.iBuffers[c]=e=new Uint16Array(d)),e},b.prototype.getAttributeBuffer=function(a){var b=Q(Math.ceil(a/8)),c=S(b),d=8*b;this.aBuffers.length<=c&&(this.iBuffers.length=c+1);var e=this.aBuffers[d];return e||(this.aBuffers[d]=e=new qe(d*this.vertByteSize)),e},b.prototype.flush=function(){if(0!==this.currentSize){var a,b,c=this.renderer.gl,d=this.MAX_TEXTURES,e=this.getAttributeBuffer(this.currentSize),f=this.getIndexBuffer(this.currentIndexSize),g=this.elements,h=this.groups,i=e.float32View,j=e.uint32View,k=this.renderer.textureGC.count,l=0,m=0,n=0,o=0,p=h[0],q=-1;p.textureCount=0,p.start=0,p.blend=q;var r,s=++Kc._globalBatch;for(r=0;r<this.currentIndex;++r){var t=g[r];g[r]=null,a=t._texture.baseTexture;var u=Hb[a.premultiplyAlpha?1:0][t.blendMode];q!==u&&(q=u,b=null,o=d,s++),b!==a&&(b=a,a._batchEnabled!==s&&(o===d&&(s++,o=0,p.size=m-p.start,(p=h[n++]).textureCount=0,p.blend=q,p.start=m),a.touched=k,a._batchEnabled=s,a._id=o,p.textures[p.textureCount++]=a,o++)),this.packGeometry(t,i,j,f,l,m),l+=t.vertexData.length/2*this.vertSize,m+=t.indices.length}Kc._globalBatch=s,p.size=m-p.start,Sa.CAN_UPLOAD_SAME_BUFFER?(this.vaos[this.vertexCount]._buffer.update(e.vertices,0),this.vaos[this.vertexCount]._indexBuffer.update(f,0),this.renderer.geometry.updateBuffers()):(this.vaoMax<=this.vertexCount&&(this.vaoMax++,this.vaos[this.vertexCount]=new oe),this.vaos[this.vertexCount]._buffer.update(e.vertices,0),this.vaos[this.vertexCount]._indexBuffer.update(f,0),this.renderer.geometry.bind(this.vaos[this.vertexCount]),this.renderer.geometry.updateBuffers(),this.vertexCount++);var v=this.renderer.texture,w=this.renderer.state;for(r=0;n>r;r++){for(var x=h[r],y=x.textureCount,z=0;y>z;z++)v.bind(x.textures[z],z),x.textures[z]=null;w.setBlendMode(x.blend),c.drawElements(x.type,x.size,c.UNSIGNED_SHORT,2*x.start)}this.currentIndex=0,this.currentSize=0,this.currentIndexSize=0}},b.prototype.packGeometry=function(a,b,c,d,e,f){for(var g=e/this.vertSize,h=a.uvs,i=a.indices,j=a.vertexData,k=a._texture.baseTexture._id,l=Math.min(a.worldAlpha,1),m=1>l&&a._texture.baseTexture.premultiplyAlpha?K(a._tintRGB,l):a._tintRGB+(255*l<<24),n=0;n<j.length;n+=2)b[e++]=j[n],b[e++]=j[n+1],b[e++]=h[n],b[e++]=h[n+1],c[e++]=m,b[e++]=k;for(var o=0;o<i.length;o++)d[f++]=g+i[o]},b.prototype.start=function(){this.renderer.state.setState(this.state),this.renderer.shader.bind(this.shader),Sa.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this.vaos[this.vertexCount])},b.prototype.stop=function(){this.flush()},b.prototype.destroy=function(){for(var b=0;b<this.vaoMax;b++)this.vaos[b]&&this.vaos[b].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),this.shader&&(this.shader.destroy(),this.shader=null),this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null,a.prototype.destroy.call(this)},b}(md),we=new ic,xe=function(a){this.renderer=a,a.extract=this};xe.prototype.image=function(a,b,c){var d=new Image;return d.src=this.base64(a,b,c),d},xe.prototype.base64=function(a,b,c){return this.canvas(a).toDataURL(b,c)},xe.prototype.canvas=function(a){var b,c,d,e=this.renderer,f=!1,g=!1;a&&(a instanceof Zc?d=a:(d=this.renderer.generateTexture(a),g=!0)),d?(b=d.baseTexture.resolution,c=d.frame,f=!1,e.renderTexture.bind(d)):(b=this.renderer.resolution,f=!0,(c=we).width=this.renderer.width,c.height=this.renderer.height,e.renderTexture.bind(null));var h=c.width*b,i=c.height*b,j=new Mb(h,i,1),k=new Uint8Array(4*h*i),l=e.gl;l.readPixels(c.x*b,c.y*b,h,i,l.RGBA,l.UNSIGNED_BYTE,k);var m=j.context.getImageData(0,0,h,i);return m.data.set(k),j.context.putImageData(m,0,0),f&&(j.context.scale(1,-1),j.context.drawImage(j.canvas,0,-i)),g&&d.destroy(!0),j.canvas},xe.prototype.pixels=function(a){var b,c,d,e=this.renderer,f=!1;a&&(a instanceof Zc?d=a:(d=this.renderer.generateTexture(a),f=!0)),d?(b=d.baseTexture.resolution,c=d.frame,e.renderTexture.bind(d)):(b=e.resolution,(c=we).width=e.width,c.height=e.height,e.renderTexture.bind(null));var g=c.width*b,h=c.height*b,i=new Uint8Array(4*g*h),j=e.gl;return j.readPixels(c.x*b,c.y*b,g,h,j.RGBA,j.UNSIGNED_BYTE,i),f&&d.destroy(!0),i},xe.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null};var ye={Extract:xe},ze=function(){this.global=new Sb,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0},Ae={pointerId:{configurable:!0}};Ae.pointerId.get=function(){return this.identifier},ze.prototype.getLocalPosition=function(a,b,c){return a.worldTransform.applyInverse(c||this.global,b)},ze.prototype.copyEvent=function(a){a.isPrimary&&(this.isPrimary=!0),this.button=a.button,this.buttons=Number.isInteger(a.buttons)?a.buttons:a.which,this.width=a.width,this.height=a.height,this.tiltX=a.tiltX,this.tiltY=a.tiltY,this.pointerType=a.pointerType,this.pressure=a.pressure,this.rotationAngle=a.rotationAngle,this.twist=a.twist||0,this.tangentialPressure=a.tangentialPressure||0},ze.prototype.reset=function(){this.isPrimary=!1},Object.defineProperties(ze.prototype,Ae);var Be=function(){this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null};Be.prototype.stopPropagation=function(){this.stopped=!0},Be.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null};var Ce=function Sg(a){this._pointerId=a,this._flags=Sg.FLAGS.NONE},De={pointerId:{configurable:!0},flags:{configurable:!0},none:{configurable:!0},over:{configurable:!0},rightDown:{configurable:!0},leftDown:{configurable:!0}};Ce.prototype._doSet=function(a,b){this._flags=b?this._flags|a:this._flags&~a},De.pointerId.get=function(){return this._pointerId},De.flags.get=function(){return this._flags},De.flags.set=function(a){this._flags=a},De.none.get=function(){return this._flags===this.constructor.FLAGS.NONE},De.over.get=function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},De.over.set=function(a){this._doSet(this.constructor.FLAGS.OVER,a)},De.rightDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},De.rightDown.set=function(a){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,a)},De.leftDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},De.leftDown.set=function(a){this._doSet(this.constructor.FLAGS.LEFT_DOWN,a)},Object.defineProperties(Ce.prototype,De),Ce.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});var Ee={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(a){a?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};qc.mixin(Ee);var Fe=1,Ge={target:null,data:{global:null}},He=function(a){function b(b,c){a.call(this),c=c||{},this.renderer=b,this.autoPreventDefault=void 0===c.autoPreventDefault||c.autoPreventDefault,this.interactionFrequency=c.interactionFrequency||10,this.mouse=new ze,this.mouse.identifier=Fe,this.mouse.global.set(-999999),this.activeInteractionData={},this.activeInteractionData[Fe]=this.mouse,this.interactionDataPool=[],this.eventData=new Be,this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.mouseOverRenderer=!1,this.supportsTouchEvents="ontouchstart"in window,this.supportsPointerEvents=!!window.PointerEvent,this.onPointerUp=this.onPointerUp.bind(this),this.processPointerUp=this.processPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.processPointerCancel=this.processPointerCancel.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.processPointerDown=this.processPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.processPointerMove=this.processPointerMove.bind(this),this.onPointerOut=this.onPointerOut.bind(this),this.processPointerOverOut=this.processPointerOverOut.bind(this),this.onPointerOver=this.onPointerOver.bind(this),this.cursorStyles={"default":"inherit",pointer:"pointer"},this.currentCursorMode=null,this.cursor=null,this._tempPoint=new Sb,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.hitTest=function(a,b){return Ge.target=null,Ge.data.global=a,b||(b=this.renderer._lastObjectRendered),this.processInteractive(Ge,b,null,!0),Ge.target},b.prototype.setTargetElement=function(a,b){void 0===b&&(b=1),this.removeEvents(),this.interactionDOMElement=a,this.resolution=b,this.addEvents()},b.prototype.addEvents=function(){this.interactionDOMElement&&(zc.system.add(this.update,this,xc.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},b.prototype.removeEvents=function(){this.interactionDOMElement&&(zc.system.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},b.prototype.update=function(a){if(this._deltaTime+=a,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var b in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(b)){var c=this.activeInteractionData[b];if(c.originalEvent&&"touch"!==c.pointerType){var d=this.configureInteractionEventForDOMEvent(this.eventData,c.originalEvent,c);this.processInteractive(d,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},b.prototype.setCursorMode=function(a){if(a=a||"default",this.currentCursorMode!==a){this.currentCursorMode=a;var b=this.cursorStyles[a];if(b)switch(typeof b){case"string":this.interactionDOMElement.style.cursor=b;break;case"function":b(a);break;case"object":Object.assign(this.interactionDOMElement.style,b)}else"string"!=typeof a||Object.prototype.hasOwnProperty.call(this.cursorStyles,a)||(this.interactionDOMElement.style.cursor=a)}},b.prototype.dispatchEvent=function(a,b,c){c.stopped||(c.currentTarget=a,c.type=b,a.emit(b,c),a[b]&&a[b](c))},b.prototype.mapPositionToPoint=function(a,b,c){var d;d=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var e=1/this.resolution;a.x=(b-d.left)*(this.interactionDOMElement.width/d.width)*e,a.y=(c-d.top)*(this.interactionDOMElement.height/d.height)*e},b.prototype.processInteractive=function(a,b,c,d,e){if(!b||!b.visible)return!1;var f=a.data.global,g=!1,h=e=b.interactive||e,i=!0;if(b.hitArea?(d&&(b.worldTransform.applyInverse(f,this._tempPoint),b.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?g=!0:(d=!1,i=!1)),h=!1):b._mask&&d&&(b._mask.containsPoint&&b._mask.containsPoint(f)||(d=!1)),i&&b.interactiveChildren&&b.children)for(var j=b.children,k=j.length-1;k>=0;k--){var l=j[k],m=this.processInteractive(a,l,c,d,h);if(m){if(!l.parent)continue;h=!1,m&&(a.target&&(d=!1),g=!0)}}return e&&(d&&!a.target&&!b.hitArea&&b.containsPoint&&b.containsPoint(f)&&(g=!0),b.interactive&&(g&&!a.target&&(a.target=b),c&&c(a,b,!!g))),g},b.prototype.onPointerDown=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType){var b=this.normalizeToPointerData(a);this.autoPreventDefault&&b[0].isNormalized&&(a.cancelable||!("cancelable"in a))&&a.preventDefault();for(var c=b.length,d=0;c>d;d++){var e=b[d],f=this.getInteractionDataForPointerId(e),g=this.configureInteractionEventForDOMEvent(this.eventData,e,f);if(g.data.originalEvent=a,this.processInteractive(g,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",g),"touch"===e.pointerType)this.emit("touchstart",g);else if("mouse"===e.pointerType||"pen"===e.pointerType){var h=2===e.button;this.emit(h?"rightdown":"mousedown",this.eventData)}}}},b.prototype.processPointerDown=function(a,b,c){var d=a.data,e=a.data.identifier;if(c)if(b.trackedPointers[e]||(b.trackedPointers[e]=new Ce(e)),this.dispatchEvent(b,"pointerdown",a),"touch"===d.pointerType)this.dispatchEvent(b,"touchstart",a);else if("mouse"===d.pointerType||"pen"===d.pointerType){var f=2===d.button;f?b.trackedPointers[e].rightDown=!0:b.trackedPointers[e].leftDown=!0,this.dispatchEvent(b,f?"rightdown":"mousedown",a)}},b.prototype.onPointerComplete=function(a,b,c){for(var d=this.normalizeToPointerData(a),e=d.length,f=a.target!==this.interactionDOMElement?"outside":"",g=0;e>g;g++){var h=d[g],i=this.getInteractionDataForPointerId(h),j=this.configureInteractionEventForDOMEvent(this.eventData,h,i);if(j.data.originalEvent=a,this.processInteractive(j,this.renderer._lastObjectRendered,c,b||!f),this.emit(b?"pointercancel":"pointerup"+f,j),"mouse"===h.pointerType||"pen"===h.pointerType){var k=2===h.button;this.emit(k?"rightup"+f:"mouseup"+f,j)}else"touch"===h.pointerType&&(this.emit(b?"touchcancel":"touchend"+f,j),this.releaseInteractionDataForPointerId(h.pointerId,i))}},b.prototype.onPointerCancel=function(a){this.supportsTouchEvents&&"touch"===a.pointerType||this.onPointerComplete(a,!0,this.processPointerCancel)},b.prototype.processPointerCancel=function(a,b){var c=a.data,d=a.data.identifier;void 0!==b.trackedPointers[d]&&(delete b.trackedPointers[d],this.dispatchEvent(b,"pointercancel",a),"touch"===c.pointerType&&this.dispatchEvent(b,"touchcancel",a))},b.prototype.onPointerUp=function(a){this.supportsTouchEvents&&"touch"===a.pointerType||this.onPointerComplete(a,!1,this.processPointerUp)},b.prototype.processPointerUp=function(a,b,c){var d=a.data,e=a.data.identifier,f=b.trackedPointers[e],g="touch"===d.pointerType,h="mouse"===d.pointerType||"pen"===d.pointerType,i=!1;if(h){var j=2===d.button,k=Ce.FLAGS,l=j?k.RIGHT_DOWN:k.LEFT_DOWN,m=void 0!==f&&f.flags&l;c?(this.dispatchEvent(b,j?"rightup":"mouseup",a),m&&(this.dispatchEvent(b,j?"rightclick":"click",a),i=!0)):m&&this.dispatchEvent(b,j?"rightupoutside":"mouseupoutside",a),f&&(j?f.rightDown=!1:f.leftDown=!1)}c?(this.dispatchEvent(b,"pointerup",a),g&&this.dispatchEvent(b,"touchend",a),f&&(h&&!i||this.dispatchEvent(b,"pointertap",a),g&&(this.dispatchEvent(b,"tap",a),f.over=!1))):f&&(this.dispatchEvent(b,"pointerupoutside",a),g&&this.dispatchEvent(b,"touchendoutside",a)),f&&f.none&&delete b.trackedPointers[e]},b.prototype.onPointerMove=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType){var b=this.normalizeToPointerData(a);"mouse"!==b[0].pointerType&&"pen"!==b[0].pointerType||(this.didMove=!0,this.cursor=null);for(var c=b.length,d=0;c>d;d++){var e=b[d],f=this.getInteractionDataForPointerId(e),g=this.configureInteractionEventForDOMEvent(this.eventData,e,f);g.data.originalEvent=a;var h="touch"!==e.pointerType||this.moveWhenInside;this.processInteractive(g,this.renderer._lastObjectRendered,this.processPointerMove,h),this.emit("pointermove",g),"touch"===e.pointerType&&this.emit("touchmove",g),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mousemove",g)}"mouse"===b[0].pointerType&&this.setCursorMode(this.cursor)}},b.prototype.processPointerMove=function(a,b,c){var d=a.data,e="touch"===d.pointerType,f="mouse"===d.pointerType||"pen"===d.pointerType;f&&this.processPointerOverOut(a,b,c),this.moveWhenInside&&!c||(this.dispatchEvent(b,"pointermove",a),e&&this.dispatchEvent(b,"touchmove",a),f&&this.dispatchEvent(b,"mousemove",a))},b.prototype.onPointerOut=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType){var b=this.normalizeToPointerData(a)[0];"mouse"===b.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var c=this.getInteractionDataForPointerId(b),d=this.configureInteractionEventForDOMEvent(this.eventData,b,c);d.data.originalEvent=b,this.processInteractive(d,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",d),"mouse"===b.pointerType||"pen"===b.pointerType?this.emit("mouseout",d):this.releaseInteractionDataForPointerId(c.identifier)}},b.prototype.processPointerOverOut=function(a,b,c){var d=a.data,e=a.data.identifier,f="mouse"===d.pointerType||"pen"===d.pointerType,g=b.trackedPointers[e];c&&!g&&(g=b.trackedPointers[e]=new Ce(e)),void 0!==g&&(c&&this.mouseOverRenderer?(g.over||(g.over=!0,this.dispatchEvent(b,"pointerover",a),f&&this.dispatchEvent(b,"mouseover",a)),f&&null===this.cursor&&(this.cursor=b.cursor)):g.over&&(g.over=!1,this.dispatchEvent(b,"pointerout",this.eventData),f&&this.dispatchEvent(b,"mouseout",a),g.none&&delete b.trackedPointers[e]))},b.prototype.onPointerOver=function(a){var b=this.normalizeToPointerData(a)[0],c=this.getInteractionDataForPointerId(b),d=this.configureInteractionEventForDOMEvent(this.eventData,b,c);d.data.originalEvent=b,"mouse"===b.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",d),"mouse"!==b.pointerType&&"pen"!==b.pointerType||this.emit("mouseover",d)},b.prototype.getInteractionDataForPointerId=function(a){var b,c=a.pointerId;return c===Fe||"mouse"===a.pointerType?b=this.mouse:this.activeInteractionData[c]?b=this.activeInteractionData[c]:((b=this.interactionDataPool.pop()||new ze).identifier=c,this.activeInteractionData[c]=b),b.copyEvent(a),b},b.prototype.releaseInteractionDataForPointerId=function(a){var b=this.activeInteractionData[a];b&&(delete this.activeInteractionData[a],b.reset(),this.interactionDataPool.push(b))},b.prototype.configureInteractionEventForDOMEvent=function(a,b,c){return a.data=c,this.mapPositionToPoint(c.global,b.clientX,b.clientY),"touch"===b.pointerType&&(b.globalX=c.global.x,b.globalY=c.global.y),c.originalEvent=b,a.reset(),a},b.prototype.normalizeToPointerData=function(a){var b=[];if(this.supportsTouchEvents&&a instanceof TouchEvent)for(var c=0,d=a.changedTouches.length;d>c;c++){
var e=a.changedTouches[c];void 0===e.button&&(e.button=a.touches.length?1:0),void 0===e.buttons&&(e.buttons=a.touches.length?1:0),void 0===e.isPrimary&&(e.isPrimary=1===a.touches.length&&"touchstart"===a.type),void 0===e.width&&(e.width=e.radiusX||1),void 0===e.height&&(e.height=e.radiusY||1),void 0===e.tiltX&&(e.tiltX=0),void 0===e.tiltY&&(e.tiltY=0),void 0===e.pointerType&&(e.pointerType="touch"),void 0===e.pointerId&&(e.pointerId=e.identifier||0),void 0===e.pressure&&(e.pressure=e.force||.5),void 0===e.twist&&(e.twist=0),void 0===e.tangentialPressure&&(e.tangentialPressure=0),void 0===e.layerX&&(e.layerX=e.offsetX=e.clientX),void 0===e.layerY&&(e.layerY=e.offsetY=e.clientY),e.isNormalized=!0,b.push(e)}else!(a instanceof MouseEvent)||this.supportsPointerEvents&&a instanceof window.PointerEvent?b.push(a):(void 0===a.isPrimary&&(a.isPrimary=!0),void 0===a.width&&(a.width=1),void 0===a.height&&(a.height=1),void 0===a.tiltX&&(a.tiltX=0),void 0===a.tiltY&&(a.tiltY=0),void 0===a.pointerType&&(a.pointerType="mouse"),void 0===a.pointerId&&(a.pointerId=Fe),void 0===a.pressure&&(a.pressure=.5),void 0===a.twist&&(a.twist=0),void 0===a.tangentialPressure&&(a.tangentialPressure=0),a.isNormalized=!0,b.push(a));return b},b.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},b}(Ta),Ie={InteractionData:ze,InteractionEvent:Be,InteractionManager:He,InteractionTrackingData:Ce,interactiveTarget:Ee},Je={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,_segmentsCount:function(a,b){if(void 0===b&&(b=20),!this.adaptive)return b;var c=Math.ceil(a/this.maxLength);return c<this.minSegments?c=this.minSegments:c>this.maxSegments&&(c=this.maxSegments),c}},Ke=function(){this.reset()};Ke.prototype.clone=function(){var a=new Ke;return a.color=this.color,a.alpha=this.alpha,a.texture=this.texture,a.matrix=this.matrix,a.visible=this.visible,a},Ke.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Yc.WHITE,this.matrix=null,this.visible=!1},Ke.prototype.destroy=function(){this.texture=null,this.matrix=null};var Le=function(a,b,c,d){void 0===b&&(b=null),void 0===c&&(c=null),void 0===d&&(d=null),this.shape=a,this.lineStyle=c,this.fillStyle=b,this.matrix=d,this.type=a.type,this.points=[],this.holes=[]};Le.prototype.clone=function(){return new Le(this.shape,this.fillStyle,this.lineStyle,this.matrix)},Le.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null};var Me={build:function(a){var b,c,d=a.shape,e=a.points,f=d.x,g=d.y;if(e.length=0,a.type===Yb.CIRC?(b=d.radius,c=d.radius):(b=d.width,c=d.height),0!==b&&0!==c){var h=Math.floor(30*Math.sqrt(d.radius))||Math.floor(15*Math.sqrt(d.width+d.height));h/=2.3;for(var i=2*Math.PI/h,j=0;h>j;j++)e.push(f+Math.sin(-i*j)*b,g+Math.cos(-i*j)*c);e.push(e[0],e[1])}},triangulate:function(a,b){var c=a.points,d=b.points,e=b.indices,f=d.length/2,g=f;d.push(a.shape.x,a.shape.y);for(var h=0;h<c.length;h+=2)d.push(c[h],c[h+1]),e.push(f++,g,f)}},Ne={build:function(a){a.points=a.shape.points.slice()},triangulate:function(a,b){var c=a.points,d=a.holes,e=b.points,f=b.indices;if(c.length>=6){for(var g=[],h=0;h<d.length;h++){var i=d[h];g.push(c.length/2),c=c.concat(i.points)}var j=Ua(c,g,2);if(!j)return;for(var k=e.length/2,l=0;l<j.length;l+=3)f.push(j[l]+k),f.push(j[l+1]+k),f.push(j[l+2]+k);for(var m=0;m<c.length;m++)e.push(c[m])}}},Oe={build:function(a){var b=a.shape,c=a.points,d=b.x,e=b.y,f=b.width,g=b.height,h=b.radius;c.length=0,oa(d,e+h,d,e,d+h,e,c),oa(d+f-h,e,d+f,e,d+f,e+h,c),oa(d+f,e+g-h,d+f,e+g,d+f-h,e+g,c),oa(d+h,e+g,d,e+g,d,e+g-h,c)},triangulate:function(a,b){for(var c=a.points,d=b.points,e=b.indices,f=d.length/2,g=Ua(c,null,2),h=0,i=g.length;i>h;h+=3)e.push(g[h]+f),e.push(g[h+1]+f),e.push(g[h+2]+f);for(var j=0,k=c.length;k>j;j++)d.push(c[j],c[++j])}},Pe=[],Qe=[],Re={};Re[Yb.POLY]=Ne,Re[Yb.CIRC]=Me,Re[Yb.ELIP]=Me,Re[Yb.RECT]={build:function(a){var b=a.shape,c=b.x,d=b.y,e=b.width,f=b.height,g=a.points;g.length=0,g.push(c,d,c+e,d,c+e,d+f,c,d+f)},triangulate:function(a,b){var c=a.points,d=b.points,e=d.length/2;d.push(c[0],c[1],c[2],c[3],c[6],c[7],c[4],c[5]),b.indices.push(e,e+1,e+2,e+1,e+2,e+3)}},Re[Yb.RREC]=Oe;var Se=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},Te=function(a){function b(){a.call(this),this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.dirty=0,this.batchDirty=-1,this.cacheDirty=-1,this.clearDirty=0,this.drawCalls=[],this.batches=[],this.shapeIndex=0,this._bounds=new pc,this.boundsDirty=-1,this.boundsPadding=0,this.batchable=!1,this.indicesUint16=null,this.uvsFloat32=null}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={bounds:{configurable:!0}};return c.bounds.get=function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},b.prototype.clear=function(){if(this.graphicsData.length>0){this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.batchDirty++,this.graphicsData.length=0,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var a=0;a<this.drawCalls.length;a++)this.drawCalls[a].textures.length=0,Qe.push(this.drawCalls[a]);this.drawCalls.length=0;for(var b=0;b<this.batches.length;b++){var c=this.batches[b];c.start=0,c.attribStart=0,c.style=null,Pe.push(c)}this.batches.length=0}return this},b.prototype.drawShape=function(a,b,c,d){var e=new Le(a,b,c,d);return this.graphicsData.push(e),this.dirty++,this},b.prototype.drawHole=function(a,b){if(!this.graphicsData.length)return null;var c=new Le(a,null,null,b),d=this.graphicsData[this.graphicsData.length-1];return c.lineStyle=d.lineStyle,d.holes.push(c),this.dirty++,c},b.prototype.destroy=function(b){a.prototype.destroy.call(this,b);for(var c=0;c<this.graphicsData.length;++c)this.graphicsData[c].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},b.prototype.containsPoint=function(a){for(var b=this.graphicsData,c=0;c<b.length;++c){var d=b[c];if(d.fillStyle.visible&&d.shape&&d.shape.contains(a.x,a.y)){if(d.holes)for(var e=0;e<d.holes.length;e++)if(d.holes[e].shape.contains(a.x,a.y))return!1;return!0}}return!1},b.prototype.updateBatches=function(){if(this.dirty!==this.cacheDirty&&0!==this.graphicsData.length){if(this.dirty!==this.cacheDirty)for(var a=0;a<this.graphicsData.length;a++){var b=this.graphicsData[a];if(b.fillStyle&&!b.fillStyle.texture.baseTexture.valid)return;if(b.lineStyle&&!b.lineStyle.texture.baseTexture.valid)return}this.cacheDirty=this.dirty;var c=this.uvs,d=this.batches.pop()||Pe.pop()||new Se;d.style=d.style||this.graphicsData[0].fillStyle||this.graphicsData[0].lineStyle;var e=d.style.texture.baseTexture,f=d.style.color+d.style.alpha;this.batches.push(d);for(var g=this.shapeIndex;g<this.graphicsData.length;g++){this.shapeIndex++;var h=this.graphicsData[g],i=Re[h.type],j=h.fillStyle,k=h.lineStyle;i.build(h),h.matrix&&this.transformPoints(h.points,h.matrix);for(var l=0;2>l;l++){var m=0===l?j:k;if(m.visible){var n=m.texture.baseTexture;if(e!==n||m.color+m.alpha!==f){n.wrapMode=10497,e=n,f=m.color+m.alpha;var o=this.indices.length,p=this.points.length/2;d.size=o-d.start,d.attribSize=p-d.attribStart,d.size>0&&(d=Pe.pop()||new Se,this.batches.push(d)),d.style=m,d.start=o,d.attribStart=p}var q=this.points.length/2;if(0===l)h.holes.length?(this.processHoles(h.holes),Ne.triangulate(h,this)):i.triangulate(h,this);else{ma(h,this);for(var r=0;r<h.holes.length;r++)ma(h.holes[r],this)}var s=this.points.length/2-q;this.addUvs(this.points,c,m.texture,q,s,m.matrix)}}}var t=this.indices.length,u=this.points.length/2;if(d.size=t-d.start,d.attribSize=u-d.attribStart,this.indicesUint16=new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var v=0;v<this.batches.length;v++)for(var w=this.batches[v],x=0;x<w.size;x++){var y=w.start+x;this.indicesUint16[y]=this.indicesUint16[y]-w.attribStart}}else this.buildDrawCalls()}},b.prototype.isBatchable=function(){for(var a=this.batches,c=0;c<a.length;c++)if(a[c].style["native"])return!1;return this.points.length<2*b.BATCHABLE_SIZE},b.prototype.buildDrawCalls=function(){for(var a=++Kc._globalBatch,b=0;b<this.drawCalls.length;b++)this.drawCalls[b].textures.length=0,Qe.push(this.drawCalls[b]);this.drawCalls.length=0;var c=this.uvs,d=this.colors,e=this.textureIds,f=Qe.pop()||new pe;f.textureCount=0,f.start=0,f.size=0,f.type=vb.TRIANGLES;var g=0,h=null,i=0,j=!1,k=vb.TRIANGLES,l=0;this.drawCalls.push(f);for(var m=0;m<this.batches.length;m++){var n=this.batches[m],o=n.style,p=o.texture.baseTexture;j!==o["native"]&&(k=(j=o["native"])?vb.LINES:vb.TRIANGLES,h=null,g=8,a++),h!==p&&(h=p,p._batchEnabled!==a&&(8===g&&(a++,g=0,f.size>0&&(f=Qe.pop()||new pe,this.drawCalls.push(f)),f.start=l,f.size=0,f.textureCount=0,f.type=k),p.touched=1,p._batchEnabled=a,p._id=g,p.wrapMode=10497,f.textures[f.textureCount++]=p,g++)),f.size+=n.size,l+=n.size,i=p._id,this.addColors(d,o.color,o.alpha,n.attribSize),this.addTextureIds(e,i,n.attribSize)}Kc._globalBatch=a;for(var q=this.points,r=new ArrayBuffer(3*q.length*4),s=new Float32Array(r),t=new Uint32Array(r),u=0,v=0;v<q.length/2;v++)s[u++]=q[2*v],s[u++]=q[2*v+1],s[u++]=c[2*v],s[u++]=c[2*v+1],t[u++]=d[v],s[u++]=e[v];this._buffer.update(r),this._indexBuffer.update(this.indicesUint16)},b.prototype.processHoles=function(a){for(var b=0;b<a.length;b++){var c=a[b];Re[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix)}},b.prototype.calculateBounds=function(){var a=1/0,b=-1/0,c=1/0,d=-1/0;if(this.graphicsData.length)for(var e=null,f=0,g=0,h=0,i=0,j=0;j<this.graphicsData.length;j++){var k=this.graphicsData[j],l=k.type,m=k.lineStyle?k.lineStyle.width:0;if(e=k.shape,l===Yb.RECT||l===Yb.RREC)f=e.x-m/2,g=e.y-m/2,a=a>f?f:a,b=f+(h=e.width+m)>b?f+h:b,c=c>g?g:c,d=g+(i=e.height+m)>d?g+i:d;else if(l===Yb.CIRC)f=e.x,g=e.y,a=f-(h=e.radius+m/2)<a?f-h:a,b=f+h>b?f+h:b,c=g-(i=e.radius+m/2)<c?g-i:c,d=g+i>d?g+i:d;else if(l===Yb.ELIP)f=e.x,g=e.y,a=f-(h=e.width+m/2)<a?f-h:a,b=f+h>b?f+h:b,c=g-(i=e.height+m/2)<c?g-i:c,d=g+i>d?g+i:d;else for(var n=e.points,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0;w+2<n.length;w+=2)f=n[w],g=n[w+1],o=n[w+2],p=n[w+3],q=Math.abs(o-f),r=Math.abs(p-g),i=m,(h=Math.sqrt(q*q+r*r))<1e-9||(a=(u=(o+f)/2)-(s=(i/h*r+q)/2)<a?u-s:a,b=u+s>b?u+s:b,c=(v=(p+g)/2)-(t=(i/h*q+r)/2)<c?v-t:c,d=v+t>d?v+t:d)}else a=0,b=0,c=0,d=0;var x=this.boundsPadding;this._bounds.minX=a-x,this._bounds.maxX=b+x,this._bounds.minY=c-x,this._bounds.maxY=d+x},b.prototype.transformPoints=function(a,b){for(var c=0;c<a.length/2;c++){var d=a[2*c],e=a[2*c+1];a[2*c]=b.a*d+b.c*e+b.tx,a[2*c+1]=b.b*d+b.d*e+b.ty}},b.prototype.addColors=function(a,b,c,d){for(var e=K((b>>16)+(65280&b)+((255&b)<<16),c);d-->0;)a.push(e)},b.prototype.addTextureIds=function(a,b,c){for(;c-->0;)a.push(b)},b.prototype.addUvs=function(a,b,c,d,e,f){for(var g=0,h=b.length,i=c.frame;e>g;){var j=a[2*(d+g)],k=a[2*(d+g)+1];if(f){var l=f.a*j+f.c*k+f.tx;k=f.b*j+f.d*k+f.ty,j=l}g++,b.push(j/i.width,k/i.height)}var m=c.baseTexture;(i.width<m.width||i.height<m.height)&&this.adjustUvs(b,c,h,e)},b.prototype.adjustUvs=function(a,b,c,d){for(var e=b.baseTexture,f=c+2*d,g=b.frame,h=g.width/e.width,i=g.height/e.height,j=g.x/g.width,k=g.y/g.height,l=Math.floor(a[c]+1e-6),m=Math.floor(a[c+1]+1e-6),n=c+2;f>n;n+=2)l=Math.min(l,Math.floor(a[n]+1e-6)),m=Math.min(m,Math.floor(a[n+1]+1e-6));j-=l,k-=m;for(var o=c;f>o;o+=2)a[o]=(a[o]+j)*h,a[o+1]=(a[o+1]+k)*i},Object.defineProperties(b.prototype,c),b}(oe);Te.BATCHABLE_SIZE=100;var Ue=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.clone=function(){var a=new b;return a.color=this.color,a.alpha=this.alpha,a.texture=this.texture,a.matrix=this.matrix,a.visible=this.visible,a.width=this.width,a.alignment=this.alignment,a["native"]=this["native"],a},b.prototype.reset=function(){a.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this["native"]=!1},b}(Ke),Ve=function(){};Ve.curveLength=function(a,b,c,d,e,f,g,h){for(var i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=a,u=b,v=1;10>=v;++v)r=t-(p=(o=(n=(m=1-(j=v/10))*m)*m)*a+3*n*j*c+3*m*(k=j*j)*e+(l=k*j)*g),s=u-(q=o*b+3*n*j*d+3*m*k*f+l*h),t=p,u=q,i+=Math.sqrt(r*r+s*s);return i},Ve.curveTo=function(a,b,c,d,e,f,g){var h=g[g.length-2],i=g[g.length-1];g.length-=2;var j=Je._segmentsCount(Ve.curveLength(h,i,a,b,c,d,e,f)),k=0,l=0,m=0,n=0,o=0;g.push(h,i);for(var p=1,q=0;j>=p;++p)m=(l=(k=1-(q=p/j))*k)*k,o=(n=q*q)*q,g.push(m*h+3*l*q*a+3*k*n*c+o*e,m*i+3*l*q*b+3*k*n*d+o*f)};var We=function(){};We.curveLength=function(a,b,c,d,e,f){var g=a-2*c+e,h=b-2*d+f,i=2*c-2*a,j=2*d-2*b,k=4*(g*g+h*h),l=4*(g*i+h*j),m=i*i+j*j,n=2*Math.sqrt(k+l+m),o=Math.sqrt(k),p=2*k*o,q=2*Math.sqrt(m),r=l/o;return(p*n+o*l*(n-q)+(4*m*k-l*l)*Math.log((2*o+r+n)/(r+q)))/(4*p)},We.curveTo=function(a,b,c,d,e){for(var f=e[e.length-2],g=e[e.length-1],h=Je._segmentsCount(We.curveLength(f,g,a,b,c,d)),i=0,j=0,k=1;h>=k;++k){var l=k/h;i=f+(a-f)*l,j=g+(b-g)*l,e.push(i+(a+(c-a)*l-i)*l,j+(b+(d-b)*l-j)*l)}};var Xe=function(){};Xe.curveTo=function(a,b,c,d,e,f){var g=f[f.length-2],h=f[f.length-1]-b,i=g-a,j=d-b,k=c-a,l=Math.abs(h*k-i*j);if(1e-8>l||0===e)return f[f.length-2]===a&&f[f.length-1]===b||f.push(a,b),null;var m=h*h+i*i,n=j*j+k*k,o=h*j+i*k,p=e*Math.sqrt(m)/l,q=e*Math.sqrt(n)/l,r=p*o/m,s=q*o/n,t=p*k+q*i,u=p*j+q*h,v=i*(q+r),w=h*(q+r),x=k*(p+s),y=j*(p+s);return{cx:t+a,cy:u+b,radius:e,startAngle:Math.atan2(w-u,v-t),endAngle:Math.atan2(y-u,x-t),anticlockwise:i*j>k*h}},Xe.arc=function(a,b,c,d,e,f,g,h,i){for(var j=g-f,k=Je._segmentsCount(Math.abs(j)*e,40*Math.ceil(Math.abs(j)/Vb)),l=j/(2*k),m=2*l,n=Math.cos(l),o=Math.sin(l),p=k-1,q=p%1/p,r=0;p>=r;++r){var s=l+f+m*(r+q*r),t=Math.cos(s),u=-Math.sin(s);i.push((n*t+o*u)*e+c,(n*-u+o*t)*e+d)}};var Ye=function(a){function b(b,c,d,e,f,g){f=f||e/2;for(var h=-1*Math.PI/2+g,i=2*d,j=Vb/i,k=[],l=0;i>l;l++){var m=l%2?f:e,n=l*j+h;k.push(b+m*Math.cos(n),c+m*Math.sin(n))}a.call(this,k)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(nc),Ze=new Float32Array(3),$e=null,_e=function(a){function b(b){void 0===b&&(b=null),a.call(this),this.geometry=b||new Te,this.geometry.refCount++,this.shader=null,this.state=Jd.for2d(),this._fillStyle=new Ke,this._lineStyle=new Ue,this._matrix=null,this._holeMode=!1,this.currentPath=null,this.batches=[],this.batchTint=-1,this.vertexData=null,this._transformID=-1,this.batchDirty=-1,this.tint=16777215,this.blendMode=ub.NORMAL}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={blendMode:{configurable:!0},tint:{configurable:!0},fill:{configurable:!0},line:{configurable:!0}};return b.prototype.clone=function(){return this.finishPoly(),new b(this.geometry)},c.blendMode.set=function(a){this.state.blendMode=a},c.blendMode.get=function(){return this.state.blendMode},c.tint.get=function(){return this._tint},c.tint.set=function(a){this._tint=a},c.fill.get=function(){return this._fillStyle},c.line.get=function(){return this._lineStyle},b.prototype.lineStyle=function(a,b,c,d,e){return void 0===a&&(a=0),void 0===b&&(b=0),void 0===c&&(c=1),void 0===d&&(d=.5),void 0===e&&(e=!1),this.lineTextureStyle(a,Yc.WHITE,b,c,null,d,e),this},b.prototype.lineTextureStyle=function(a,b,c,d,e,f,g){void 0===a&&(a=0),void 0===b&&(b=Yc.WHITE),void 0===c&&(c=16777215),void 0===d&&(d=1),void 0===e&&(e=null),void 0===f&&(f=.5),void 0===g&&(g=!1),this.currentPath&&this.startPoly();var h=a>0&&d>0;return h?(e&&(e=e.clone()).invert(),Object.assign(this._lineStyle,{color:c,width:a,alpha:d,matrix:e,texture:b,alignment:f,"native":g,visible:h})):this._lineStyle.reset(),this},b.prototype.startPoly=function(){if(this.currentPath){var a=this.currentPath.points,b=this.currentPath.points.length;b>2&&(this.drawShape(this.currentPath),this.currentPath=new nc,this.currentPath.closeStroke=!1,this.currentPath.points.push(a[b-2],a[b-1]))}else this.currentPath=new nc,this.currentPath.closeStroke=!1},b.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},b.prototype.moveTo=function(a,b){return this.startPoly(),this.currentPath.points[0]=a,this.currentPath.points[1]=b,this},b.prototype.lineTo=function(a,b){this.currentPath||this.moveTo(0,0);var c=this.currentPath.points,d=c[c.length-2],e=c[c.length-1];return d===a&&e===b||c.push(a,b),this},b.prototype._initCurve=function(a,b){void 0===a&&(a=0),void 0===b&&(b=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[a,b]):this.moveTo(a,b)},b.prototype.quadraticCurveTo=function(a,b,c,d){this._initCurve();var e=this.currentPath.points;return 0===e.length&&this.moveTo(0,0),We.curveTo(a,b,c,d,e),this},b.prototype.bezierCurveTo=function(a,b,c,d,e,f){return this._initCurve(),Ve.curveTo(a,b,c,d,e,f,this.currentPath.points),this},b.prototype.arcTo=function(a,b,c,d,e){this._initCurve(a,b);var f=this.currentPath.points,g=Xe.curveTo(a,b,c,d,e,f);if(g){var h=g.cx,i=g.cy,j=g.radius,k=g.startAngle,l=g.endAngle,m=g.anticlockwise;this.arc(h,i,j,k,l,m)}return this},b.prototype.arc=function(a,b,c,d,e,f){if(void 0===f&&(f=!1),d===e)return this;if(!f&&d>=e?e+=Vb:f&&e>=d&&(d+=Vb),0===e-d)return this;var g=a+Math.cos(d)*c,h=b+Math.sin(d)*c,i=this.currentPath?this.currentPath.points:null;if(i){var j=Math.abs(i[i.length-2]-g),k=Math.abs(i[i.length-1]-h);.001>j&&.001>k||i.push(g,h)}else this.moveTo(g,h),i=this.currentPath.points;return Xe.arc(g,h,a,b,c,d,e,f,i),this},b.prototype.beginFill=function(a,b){return void 0===a&&(a=0),void 0===b&&(b=1),this.beginTextureFill(Yc.WHITE,a,b)},b.prototype.beginTextureFill=function(a,b,c,d){void 0===a&&(a=Yc.WHITE),void 0===b&&(b=16777215),void 0===c&&(c=1),void 0===d&&(d=null),this.currentPath&&this.startPoly();var e=c>0;return e?(d&&(d=d.clone()).invert(),Object.assign(this._fillStyle,{color:b,alpha:c,texture:a,matrix:d,visible:e})):this._fillStyle.reset(),this},b.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},b.prototype.drawRect=function(a,b,c,d){return this.drawShape(new ic(a,b,c,d))},b.prototype.drawRoundedRect=function(a,b,c,d,e){return this.drawShape(new oc(a,b,c,d,e))},b.prototype.drawCircle=function(a,b,c){return this.drawShape(new lc(a,b,c))},b.prototype.drawEllipse=function(a,b,c,d){return this.drawShape(new mc(a,b,c,d))},b.prototype.drawPolygon=function(a){var b=arguments,c=a,d=!0;if(c.points&&(d=c.closeStroke,c=c.points),!Array.isArray(c)){c=new Array(arguments.length);for(var e=0;e<c.length;++e)c[e]=b[e]}var f=new nc(c);return f.closeStroke=d,this.drawShape(f),this},b.prototype.drawShape=function(a){return this._holeMode?this.geometry.drawHole(a,this._matrix):this.geometry.drawShape(a,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},b.prototype.drawStar=function(a,b,c,d,e,f){return void 0===f&&(f=0),this.drawPolygon(new Ye(a,b,c,d,e,f))},b.prototype.clear=function(){return this.geometry.clear(),this._matrix=null,this._holeMode=!1,this.currentPath=null,this._spriteRect=null,this},b.prototype.isFastRect=function(){return!1},b.prototype._render=function(a){this.finishPoly();var b=this.geometry;if(b.updateBatches(),b.batchable){if(this.batchDirty!==b.batchDirty){this.batches=[],this.batchTint=-1,this._transformID=-1,this.batchDirty=b.batchDirty,this.vertexData=new Float32Array(b.points);for(var c=this.blendMode,d=0;d<b.batches.length;d++){var e=b.batches[d],f=e.style.color,g=new Float32Array(this.vertexData.buffer,4*e.attribStart*2,2*e.attribSize),h=new Float32Array(b.uvsFloat32.buffer,4*e.attribStart*2,2*e.attribSize),i={vertexData:g,blendMode:c,indices:new Uint16Array(b.indicesUint16.buffer,2*e.start,e.size),uvs:h,_batchRGB:F(f),_tintRGB:f,_texture:e.style.texture,alpha:e.style.alpha,worldAlpha:1};this.batches[d]=i}}if(a.batch.setObjectRenderer(a.plugins.batch),this.batches.length){this.calculateVertices(),this.calculateTints();for(var j=0;j<this.batches.length;j++){var k=this.batches[j];k.worldAlpha=this.worldAlpha*k.alpha,a.plugins.batch.render(k)}}}else{if(a.batch.flush(),!this.shader){if(!$e){for(var l=new Int32Array(16),m=0;16>m;m++)l[m]=m;var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Zb,"default":jd.from({uSamplers:l},!0)},o=a.plugins.batch.shader.program;$e=new Hd(o,n)}this.shader=$e}var p=this.shader.uniforms;p.translationMatrix=this.transform.worldTransform;var q=this.tint,r=this.worldAlpha;p.tint[0]=(q>>16&255)/255*r,p.tint[1]=(q>>8&255)/255*r,p.tint[2]=(255&q)/255*r,p.tint[3]=r,a.shader.bind(this.shader),a.geometry.bind(b,this.shader),a.state.setState(this.state);for(var s=0;s<b.drawCalls.length;s++){for(var t=b.drawCalls[s],u=t.textureCount,v=0;u>v;v++)a.texture.bind(t.textures[v],v);a.geometry.draw(t.type,t.size,t.start)}}},b.prototype._calculateBounds=function(){this.finishPoly();var a=this.geometry.bounds;this._bounds.addFrame(this.transform,a.minX,a.minY,a.maxX,a.maxY)},b.prototype.containsPoint=function(a){return this.worldTransform.applyInverse(a,b._TEMP_POINT),this.geometry.containsPoint(b._TEMP_POINT)},b.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var a=F(this.tint,Ze),b=0;b<this.batches.length;b++){var c=this.batches[b],d=c._batchRGB,e=(a[0]*d[0]*255<<16)+(a[1]*d[1]*255<<8)+(0|a[2]*d[2]*255);c._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)}}},b.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var a=this.transform.worldTransform,b=a.a,c=a.b,d=a.c,e=a.d,f=a.tx,g=a.ty,h=this.geometry.points,i=this.vertexData,j=0,k=0;k<h.length;k+=2){var l=h[k],m=h[k+1];i[j++]=b*l+d*m+f,i[j++]=e*m+c*l+g}}},b.prototype.closePath=function(){var a=this.currentPath;return a&&(a.closeStroke=!0),this},b.prototype.setMatrix=function(a){return this._matrix=a,this},b.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},b.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},b.prototype.destroy=function(b){a.prototype.destroy.call(this,b),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,a.prototype.destroy.call(this,b)},Object.defineProperties(b.prototype,c),b}(rc);_e._TEMP_POINT=new Sb;var af=new Sb,bf=new Uint16Array([0,1,2,0,2,3]),cf=function(a){function b(b){a.call(this),this._anchor=new Tb(this._onAnchorUpdate,this,b?b.defaultAnchor.x:0,b?b.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=ub.NORMAL,this.shader=null,this._cachedTint=16777215,this.uvs=null,this.texture=b||Yc.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=bf,this.size=4,this.start=0,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Sa.ROUND_PIXELS}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={roundPixels:{configurable:!0},width:{configurable:!0},height:{configurable:!0},anchor:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return b.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this._width&&(this.scale.x=P(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=P(this.scale.y)*this._height/this._texture.orig.height)},b.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},b.prototype.calculateVertices=function(){var a=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==a._updateID){this._transformID=this.transform._worldID,this._textureID=a._updateID;var b=this.transform.worldTransform,c=b.a,d=b.b,e=b.c,f=b.d,g=b.tx,h=b.ty,i=this.vertexData,j=a.trim,k=a.orig,l=this._anchor,m=0,n=0,o=0,p=0;if(j?(m=(n=j.x-l._x*k.width)+j.width,o=(p=j.y-l._y*k.height)+j.height):(m=(n=-l._x*k.width)+k.width,o=(p=-l._y*k.height)+k.height),i[0]=c*n+e*p+g,i[1]=f*p+d*n+h,i[2]=c*m+e*p+g,i[3]=f*p+d*m+h,i[4]=c*m+e*o+g,i[5]=f*o+d*m+h,i[6]=c*n+e*o+g,i[7]=f*o+d*n+h,this._roundPixels)for(var q=0;8>q;q++)i[q]=Math.round(i[q])}},b.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var a=this._texture,b=this.vertexTrimmedData,c=a.orig,d=this._anchor,e=this.transform.worldTransform,f=e.a,g=e.b,h=e.c,i=e.d,j=e.tx,k=e.ty,l=-d._x*c.width,m=l+c.width,n=-d._y*c.height,o=n+c.height;b[0]=f*l+h*n+j,b[1]=i*n+g*l+k,b[2]=f*m+h*n+j,b[3]=i*n+g*m+k,b[4]=f*m+h*o+j,b[5]=i*o+g*m+k,b[6]=f*l+h*o+j,b[7]=i*o+g*l+k},b.prototype._render=function(a){this.calculateVertices(),a.batch.setObjectRenderer(a.plugins[this.pluginName]),a.plugins[this.pluginName].render(this)},b.prototype._calculateBounds=function(){var a=this._texture.trim,b=this._texture.orig;!a||a.width===b.width&&a.height===b.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},b.prototype.getLocalBounds=function(b){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),b||(this._localBoundsRect||(this._localBoundsRect=new ic),b=this._localBoundsRect),this._bounds.getRectangle(b)):a.prototype.getLocalBounds.call(this,b)},b.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,af);var b=this._texture.orig.width,c=this._texture.orig.height,d=-b*this.anchor.x,e=0;return af.x>=d&&af.x<d+b&&(e=-c*this.anchor.y,af.y>=e&&af.y<e+c)},b.prototype.destroy=function(b){if(a.prototype.destroy.call(this,b),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof b?b:b&&b.texture){var c="boolean"==typeof b?b:b&&b.baseTexture;this._texture.destroy(!!c)}this._texture=null,this.shader=null},b.from=function(a,c){return new b(a instanceof Yc?a:Yc.from(a,c))},c.roundPixels.set=function(a){this._roundPixels!==a&&(this._transformID=-1),this._roundPixels=a},c.roundPixels.get=function(){return this._roundPixels},c.width.get=function(){return Math.abs(this.scale.x)*this._texture.orig.width},c.width.set=function(a){var b=P(this.scale.x)||1;this.scale.x=b*a/this._texture.orig.width,this._width=a},c.height.get=function(){return Math.abs(this.scale.y)*this._texture.orig.height},c.height.set=function(a){var b=P(this.scale.y)||1;this.scale.y=b*a/this._texture.orig.height,this._height=a},c.anchor.get=function(){return this._anchor},c.anchor.set=function(a){this._anchor.copyFrom(a)},c.tint.get=function(){return this._tint},c.tint.set=function(a){this._tint=a,this._tintRGB=(a>>16)+(65280&a)+((255&a)<<16)},c.texture.get=function(){return this._texture},c.texture.set=function(a){this._texture!==a&&(this._texture=a||Yc.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,a&&(a.baseTexture.valid?this._onTextureUpdate():a.once("update",this._onTextureUpdate,this)))},Object.defineProperties(b.prototype,c),b}(rc),df={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},ef={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:df.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},ff=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],gf=function(a){this.styleID=0,this.reset(),ra(this,a,a)},hf={align:{configurable:!0},breakWords:{configurable:!0},dropShadow:{configurable:!0},dropShadowAlpha:{configurable:!0},dropShadowAngle:{configurable:!0},dropShadowBlur:{configurable:!0},dropShadowColor:{configurable:!0},dropShadowDistance:{configurable:!0},fill:{configurable:!0},fillGradientType:{configurable:!0},fillGradientStops:{configurable:!0},fontFamily:{configurable:!0},fontSize:{configurable:!0},fontStyle:{configurable:!0},fontVariant:{configurable:!0},fontWeight:{configurable:!0},letterSpacing:{configurable:!0},lineHeight:{configurable:!0},leading:{configurable:!0},lineJoin:{configurable:!0},miterLimit:{configurable:!0},padding:{configurable:!0},stroke:{configurable:!0},strokeThickness:{configurable:!0},textBaseline:{configurable:!0},trim:{configurable:!0},whiteSpace:{configurable:!0},wordWrap:{configurable:!0},wordWrapWidth:{configurable:!0}};gf.prototype.clone=function(){var a={};return ra(a,this,ef),new gf(a)},gf.prototype.reset=function(){ra(this,ef,ef)},hf.align.get=function(){return this._align},hf.align.set=function(a){this._align!==a&&(this._align=a,this.styleID++)},hf.breakWords.get=function(){return this._breakWords},hf.breakWords.set=function(a){this._breakWords!==a&&(this._breakWords=a,this.styleID++)},hf.dropShadow.get=function(){return this._dropShadow},hf.dropShadow.set=function(a){this._dropShadow!==a&&(this._dropShadow=a,this.styleID++)},hf.dropShadowAlpha.get=function(){return this._dropShadowAlpha},hf.dropShadowAlpha.set=function(a){this._dropShadowAlpha!==a&&(this._dropShadowAlpha=a,this.styleID++)},hf.dropShadowAngle.get=function(){return this._dropShadowAngle},hf.dropShadowAngle.set=function(a){this._dropShadowAngle!==a&&(this._dropShadowAngle=a,this.styleID++)},hf.dropShadowBlur.get=function(){return this._dropShadowBlur},hf.dropShadowBlur.set=function(a){this._dropShadowBlur!==a&&(this._dropShadowBlur=a,this.styleID++)},hf.dropShadowColor.get=function(){return this._dropShadowColor},hf.dropShadowColor.set=function(a){var b=qa(a);this._dropShadowColor!==b&&(this._dropShadowColor=b,this.styleID++)},hf.dropShadowDistance.get=function(){return this._dropShadowDistance},hf.dropShadowDistance.set=function(a){this._dropShadowDistance!==a&&(this._dropShadowDistance=a,this.styleID++)},hf.fill.get=function(){return this._fill},hf.fill.set=function(a){var b=qa(a);this._fill!==b&&(this._fill=b,this.styleID++)},hf.fillGradientType.get=function(){return this._fillGradientType},hf.fillGradientType.set=function(a){this._fillGradientType!==a&&(this._fillGradientType=a,this.styleID++)},hf.fillGradientStops.get=function(){return this._fillGradientStops},hf.fillGradientStops.set=function(a){(function(a,b){if(!Array.isArray(a)||!Array.isArray(b))return!1;if(a.length!==b.length)return!1;
for(var c=0;c<a.length;++c)if(a[c]!==b[c])return!1;return!0})(this._fillGradientStops,a)||(this._fillGradientStops=a,this.styleID++)},hf.fontFamily.get=function(){return this._fontFamily},hf.fontFamily.set=function(a){this.fontFamily!==a&&(this._fontFamily=a,this.styleID++)},hf.fontSize.get=function(){return this._fontSize},hf.fontSize.set=function(a){this._fontSize!==a&&(this._fontSize=a,this.styleID++)},hf.fontStyle.get=function(){return this._fontStyle},hf.fontStyle.set=function(a){this._fontStyle!==a&&(this._fontStyle=a,this.styleID++)},hf.fontVariant.get=function(){return this._fontVariant},hf.fontVariant.set=function(a){this._fontVariant!==a&&(this._fontVariant=a,this.styleID++)},hf.fontWeight.get=function(){return this._fontWeight},hf.fontWeight.set=function(a){this._fontWeight!==a&&(this._fontWeight=a,this.styleID++)},hf.letterSpacing.get=function(){return this._letterSpacing},hf.letterSpacing.set=function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.styleID++)},hf.lineHeight.get=function(){return this._lineHeight},hf.lineHeight.set=function(a){this._lineHeight!==a&&(this._lineHeight=a,this.styleID++)},hf.leading.get=function(){return this._leading},hf.leading.set=function(a){this._leading!==a&&(this._leading=a,this.styleID++)},hf.lineJoin.get=function(){return this._lineJoin},hf.lineJoin.set=function(a){this._lineJoin!==a&&(this._lineJoin=a,this.styleID++)},hf.miterLimit.get=function(){return this._miterLimit},hf.miterLimit.set=function(a){this._miterLimit!==a&&(this._miterLimit=a,this.styleID++)},hf.padding.get=function(){return this._padding},hf.padding.set=function(a){this._padding!==a&&(this._padding=a,this.styleID++)},hf.stroke.get=function(){return this._stroke},hf.stroke.set=function(a){var b=qa(a);this._stroke!==b&&(this._stroke=b,this.styleID++)},hf.strokeThickness.get=function(){return this._strokeThickness},hf.strokeThickness.set=function(a){this._strokeThickness!==a&&(this._strokeThickness=a,this.styleID++)},hf.textBaseline.get=function(){return this._textBaseline},hf.textBaseline.set=function(a){this._textBaseline!==a&&(this._textBaseline=a,this.styleID++)},hf.trim.get=function(){return this._trim},hf.trim.set=function(a){this._trim!==a&&(this._trim=a,this.styleID++)},hf.whiteSpace.get=function(){return this._whiteSpace},hf.whiteSpace.set=function(a){this._whiteSpace!==a&&(this._whiteSpace=a,this.styleID++)},hf.wordWrap.get=function(){return this._wordWrap},hf.wordWrap.set=function(a){this._wordWrap!==a&&(this._wordWrap=a,this.styleID++)},hf.wordWrapWidth.get=function(){return this._wordWrapWidth},hf.wordWrapWidth.set=function(a){this._wordWrapWidth!==a&&(this._wordWrapWidth=a,this.styleID++)},gf.prototype.toFontString=function(){var a="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,b=this.fontFamily;Array.isArray(this.fontFamily)||(b=this.fontFamily.split(","));for(var c=b.length-1;c>=0;c--){var d=b[c].trim();!/([\"\'])[^\'\"]+\1/.test(d)&&ff.indexOf(d)<0&&(d='"'+d+'"'),b[c]=d}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+a+" "+b.join(",")},Object.defineProperties(gf.prototype,hf);var jf=function(a,b,c,d,e,f,g,h,i){this.text=a,this.style=b,this.width=c,this.height=d,this.lines=e,this.lineWidths=f,this.lineHeight=g,this.maxLineWidth=h,this.fontProperties=i};jf.measureText=function(a,b,c,d){void 0===d&&(d=jf._canvas),c=null==c?b.wordWrap:c;var e=b.toFontString(),f=jf.measureFont(e);0===f.fontSize&&(f.fontSize=b.fontSize,f.ascent=b.fontSize);var g=d.getContext("2d");g.font=e;for(var h=(c?jf.wordWrap(a,b,d):a).split(/(?:\r\n|\r|\n)/),i=new Array(h.length),j=0,k=0;k<h.length;k++){var l=g.measureText(h[k]).width+(h[k].length-1)*b.letterSpacing;i[k]=l,j=Math.max(j,l)}var m=j+b.strokeThickness;b.dropShadow&&(m+=b.dropShadowDistance);var n=b.lineHeight||f.fontSize+b.strokeThickness,o=Math.max(n,f.fontSize+b.strokeThickness)+(h.length-1)*(n+b.leading);return b.dropShadow&&(o+=b.dropShadowDistance),new jf(a,b,m,o,h,i,n+b.leading,j,f)},jf.wordWrap=function(a,b,c){void 0===c&&(c=jf._canvas);for(var d=c.getContext("2d"),e=0,f="",g="",h={},i=b.letterSpacing,j=b.whiteSpace,k=jf.collapseSpaces(j),l=jf.collapseNewlines(j),m=!k,n=b.wordWrapWidth+i,o=jf.tokenize(a),p=0;p<o.length;p++){var q=o[p];if(jf.isNewline(q)){if(!l){g+=jf.addLine(f),m=!k,f="",e=0;continue}q=" "}if(k){var r=jf.isBreakingSpace(q),s=jf.isBreakingSpace(f[f.length-1]);if(r&&s)continue}var t=jf.getFromCache(q,i,h,d);if(t>n)if(""!==f&&(g+=jf.addLine(f),f="",e=0),jf.canBreakWords(q,b.breakWords))for(var u=q.split(""),v=0;v<u.length;v++){for(var w=u[v],x=1;u[v+x];){var y=u[v+x],z=w[w.length-1];if(jf.canBreakChars(z,y,q,v,b.breakWords))break;w+=y,x++}v+=w.length-1;var A=jf.getFromCache(w,i,h,d);A+e>n&&(g+=jf.addLine(f),m=!1,f="",e=0),f+=w,e+=A}else{f.length>0&&(g+=jf.addLine(f),f="",e=0);var B=p===o.length-1;g+=jf.addLine(q,!B),m=!1,f="",e=0}else t+e>n&&(m=!1,g+=jf.addLine(f),f="",e=0),(f.length>0||!jf.isBreakingSpace(q)||m)&&(f+=q,e+=t)}return g+=jf.addLine(f,!1)},jf.addLine=function(a,b){return void 0===b&&(b=!0),a=jf.trimRight(a),a=b?a+"\n":a},jf.getFromCache=function(a,b,c,d){var e=c[a];if(void 0===e){var f=a.length*b;e=d.measureText(a).width+f,c[a]=e}return e},jf.collapseSpaces=function(a){return"normal"===a||"pre-line"===a},jf.collapseNewlines=function(a){return"normal"===a},jf.trimRight=function(a){if("string"!=typeof a)return"";for(var b=a.length-1;b>=0;b--){var c=a[b];if(!jf.isBreakingSpace(c))break;a=a.slice(0,-1)}return a},jf.isNewline=function(a){return"string"==typeof a&&jf._newlines.indexOf(a.charCodeAt(0))>=0},jf.isBreakingSpace=function(a){return"string"==typeof a&&jf._breakingSpaces.indexOf(a.charCodeAt(0))>=0},jf.tokenize=function(a){var b=[],c="";if("string"!=typeof a)return b;for(var d=0;d<a.length;d++){var e=a[d];jf.isBreakingSpace(e)||jf.isNewline(e)?(""!==c&&(b.push(c),c=""),b.push(e)):c+=e}return""!==c&&b.push(c),b},jf.canBreakWords=function(a,b){return b},jf.canBreakChars=function(a,b,c,d,e){return!0},jf.measureFont=function(a){if(jf._fonts[a])return jf._fonts[a];var b={},c=jf._canvas,d=jf._context;d.font=a;var e=jf.METRICS_STRING+jf.BASELINE_SYMBOL,f=Math.ceil(d.measureText(e).width),g=Math.ceil(d.measureText(jf.BASELINE_SYMBOL).width),h=2*g;g=g*jf.BASELINE_MULTIPLIER|0,c.width=f,c.height=h,d.fillStyle="#f00",d.fillRect(0,0,f,h),d.font=a,d.textBaseline="alphabetic",d.fillStyle="#000",d.fillText(e,0,g);var i=d.getImageData(0,0,f,h).data,j=i.length,k=4*f,l=0,m=0,n=!1;for(l=0;g>l;++l){for(var o=0;k>o;o+=4)if(255!==i[m+o]){n=!0;break}if(n)break;m+=k}for(b.ascent=g-l,m=j-k,n=!1,l=h;l>g;--l){for(var p=0;k>p;p+=4)if(255!==i[m+p]){n=!0;break}if(n)break;m-=k}return b.descent=l-g,b.fontSize=b.ascent+b.descent,jf._fonts[a]=b,b},jf.clearMetrics=function(a){void 0===a&&(a=""),a?delete jf._fonts[a]:jf._fonts={}};var kf=document.createElement("canvas");kf.width=kf.height=10,jf._canvas=kf,jf._context=kf.getContext("2d"),jf._fonts={},jf.METRICS_STRING="|ÉqÅ",jf.BASELINE_SYMBOL="M",jf.BASELINE_MULTIPLIER=1.4,jf._newlines=[10,13],jf._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var lf={texture:!0,children:!1,baseTexture:!0},mf=function(a){function b(b,c,d){(d=d||document.createElement("canvas")).width=3,d.height=3;var e=Yc.from(d);e.orig=new ic,e.trim=new ic,a.call(this,e),this.canvas=d,this.context=this.canvas.getContext("2d"),this._resolution=Sa.RESOLUTION,this._autoResolution=!0,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=b,this.style=c,this.localStyleID=-1}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={width:{configurable:!0},height:{configurable:!0},style:{configurable:!0},text:{configurable:!0},resolution:{configurable:!0}};return b.prototype.updateText=function(a){var b=this._style;if(this.localStyleID!==b.styleID&&(this.dirty=!0,this.localStyleID=b.styleID),this.dirty||!a){this._font=this._style.toFontString();var c,d,e=this.context,f=jf.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),g=f.width,h=f.height,i=f.lines,j=f.lineHeight,k=f.lineWidths,l=f.maxLineWidth,m=f.fontProperties;if(this.canvas.width=Math.ceil((Math.max(1,g)+2*b.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,h)+2*b.padding)*this._resolution),e.scale(this._resolution,this._resolution),e.clearRect(0,0,this.canvas.width,this.canvas.height),e.font=this._font,e.strokeStyle=b.stroke,e.lineWidth=b.strokeThickness,e.textBaseline=b.textBaseline,e.lineJoin=b.lineJoin,e.miterLimit=b.miterLimit,b.dropShadow){var n=b.dropShadowColor,o=F("number"==typeof n?n:H(n));e.shadowColor="rgba("+255*o[0]+","+255*o[1]+","+255*o[2]+","+b.dropShadowAlpha+")",e.shadowBlur=b.dropShadowBlur,e.shadowOffsetX=Math.cos(b.dropShadowAngle)*b.dropShadowDistance,e.shadowOffsetY=Math.sin(b.dropShadowAngle)*b.dropShadowDistance}else e.shadowColor=0,e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;e.fillStyle=this._generateFillStyle(b,i);for(var p=0;p<i.length;p++)c=b.strokeThickness/2,d=b.strokeThickness/2+p*j+m.ascent,"right"===b.align?c+=l-k[p]:"center"===b.align&&(c+=(l-k[p])/2),b.stroke&&b.strokeThickness&&this.drawLetterSpacing(i[p],c+b.padding,d+b.padding,!0),b.fill&&this.drawLetterSpacing(i[p],c+b.padding,d+b.padding);this.updateTexture()}},b.prototype.drawLetterSpacing=function(a,b,c,d){void 0===d&&(d=!1);var e=this._style.letterSpacing;if(0!==e)for(var f=b,g=Array.from?Array.from(a):a.split(""),h=0;h<g.length;++h){var i=g[h];d?this.context.strokeText(i,f,c):this.context.fillText(i,f,c),f+=this.context.measureText(i).width+e}else d?this.context.strokeText(a,b,c):this.context.fillText(a,b,c)},b.prototype.updateTexture=function(){var a=this.canvas;if(this._style.trim){var b=T(a);b.data&&(a.width=b.width,a.height=b.height,this.context.putImageData(b.data,0,0))}var c=this._texture,d=this._style,e=d.trim?0:d.padding,f=c.baseTexture;c.trim.width=c._frame.width=a.width/this._resolution,c.trim.height=c._frame.height=a.height/this._resolution,c.trim.x=-e,c.trim.y=-e,c.orig.width=c._frame.width-2*e,c.orig.height=c._frame.height-2*e,this._onTextureUpdate(),f.setRealSize(a.width,a.height,this._resolution),this.dirty=!1},b.prototype.render=function(b){this._autoResolution&&this._resolution!==b.resolution&&(this._resolution=b.resolution,this.dirty=!0),this.updateText(!0),a.prototype.render.call(this,b)},b.prototype._renderCanvas=function(b){this._autoResolution&&this._resolution!==b.resolution&&(this._resolution=b.resolution,this.dirty=!0),this.updateText(!0),a.prototype._renderCanvas.call(this,b)},b.prototype.getLocalBounds=function(b){return this.updateText(!0),a.prototype.getLocalBounds.call(this,b)},b.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},b.prototype._onStyleChange=function(){this.dirty=!0},b.prototype._generateFillStyle=function(a,b){if(!Array.isArray(a.fill))return a.fill;var c,d,e,f,g=this.canvas.width/this._resolution,h=this.canvas.height/this._resolution,i=a.fill.slice(),j=a.fillGradientStops.slice();if(!j.length)for(var k=i.length+1,l=1;k>l;++l)j.push(l/k);if(i.unshift(a.fill[0]),j.unshift(0),i.push(a.fill[a.fill.length-1]),j.push(1),a.fillGradientType===df.LINEAR_VERTICAL){c=this.context.createLinearGradient(g/2,0,g/2,h),d=(i.length+1)*b.length,e=0;for(var m=0;m<b.length;m++){e+=1;for(var n=0;n<i.length;n++)f="number"==typeof j[n]?j[n]/b.length+m/b.length:e/d,c.addColorStop(f,i[n]),e++}}else{c=this.context.createLinearGradient(0,h/2,g,h/2),d=i.length+1,e=1;for(var o=0;o<i.length;o++)f="number"==typeof j[o]?j[o]:e/d,c.addColorStop(f,i[o]),e++}return c},b.prototype.destroy=function(b){"boolean"==typeof b&&(b={children:b}),b=Object.assign({},lf,b),a.prototype.destroy.call(this,b),this.context=null,this.canvas=null,this._style=null},c.width.get=function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},c.width.set=function(a){this.updateText(!0);var b=P(this.scale.x)||1;this.scale.x=b*a/this._texture.orig.width,this._width=a},c.height.get=function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},c.height.set=function(a){this.updateText(!0);var b=P(this.scale.y)||1;this.scale.y=b*a/this._texture.orig.height,this._height=a},c.style.get=function(){return this._style},c.style.set=function(a){a=a||{},this._style=a instanceof gf?a:new gf(a),this.localStyleID=-1,this.dirty=!0},c.text.get=function(){return this._text},c.text.set=function(a){a=String(null==a?"":a),this._text!==a&&(this._text=a,this.dirty=!0)},c.resolution.get=function(){return this._resolution},c.resolution.set=function(a){this._autoResolution=!1,this._resolution!==a&&(this._resolution=a,this.dirty=!0)},Object.defineProperties(b.prototype,c),b}(cf);Sa.UPLOADS_PER_FRAME=4;var nf=function(a){this.maxItemsPerFrame=a,this.itemsLeft=0};nf.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},nf.prototype.allowedToUpload=function(){return this.itemsLeft-->0};var of=function(a){var b=this;this.limiter=new nf(Sa.UPLOADS_PER_FRAME),this.renderer=a,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){b.queue&&b.prepareItems()},this.registerFindHook(xa),this.registerFindHook(ya),this.registerFindHook(sa),this.registerFindHook(ta),this.registerFindHook(ua),this.registerUploadHook(va),this.registerUploadHook(wa)};of.prototype.upload=function(a,b){"function"==typeof a&&(b=a,a=null),a&&this.add(a),this.queue.length?(b&&this.completes.push(b),this.ticking||(this.ticking=!0,zc.system.addOnce(this.tick,this,xc.UTILITY))):b&&b()},of.prototype.tick=function(){setTimeout(this.delayedTick,0)},of.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var a=this.queue[0],b=!1;if(a&&!a._destroyed)for(var c=0,d=this.uploadHooks.length;d>c;c++)if(this.uploadHooks[c](this.uploadHookHelper,a)){this.queue.shift(),b=!0;break}b||this.queue.shift()}if(this.queue.length)zc.system.addOnce(this.tick,this,xc.UTILITY);else{this.ticking=!1;var e=this.completes.slice(0);this.completes.length=0;for(var f=0,g=e.length;g>f;f++)e[f]()}},of.prototype.registerFindHook=function(a){return a&&this.addHooks.push(a),this},of.prototype.registerUploadHook=function(a){return a&&this.uploadHooks.push(a),this},of.prototype.add=function(a){for(var b=0,c=this.addHooks.length;c>b&&!this.addHooks[b](a,this.queue);b++);if(a instanceof rc)for(var d=a.children.length-1;d>=0;d--)this.add(a.children[d]);return this},of.prototype.destroy=function(){this.ticking&&zc.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null};var pf=function(a){function b(b){a.call(this,b),this.uploadHookHelper=this.renderer,this.registerFindHook(Ba),this.registerUploadHook(za),this.registerUploadHook(Aa)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(of),qf=function(a){this.maxMilliseconds=a,this.frameStart=0};qf.prototype.beginFrame=function(){this.frameStart=Date.now()},qf.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};var rf={BasePrepare:of,CountLimiter:nf,Prepare:pf,TimeLimiter:qf},sf=function Tg(a){var b=this;a=Object.assign({forceCanvas:!1},a),this.renderer=ka(a),this.stage=new rc,Tg._plugins.forEach(function(c){c.init.call(b,a)})},tf={view:{configurable:!0},screen:{configurable:!0}};sf.registerPlugin=function(a){sf._plugins.push(a)},sf.prototype.render=function(){this.renderer.render(this.stage)},tf.view.get=function(){return this.renderer.view},tf.screen.get=function(){return this.renderer.screen},sf.prototype.destroy=function(a){var b=this,c=sf._plugins.slice(0);c.reverse(),c.forEach(function(a){a.destroy.call(b)}),this.stage.destroy(),this.stage=null,this.renderer.destroy(a),this.renderer=null,this._options=null},Object.defineProperties(sf.prototype,tf),sf._plugins=[];var uf=function(){};uf.init=function(a){var b=this;Object.defineProperty(this,"resizeTo",{set:function(a){window.removeEventListener("resize",this.resize),this._resizeTo=a,a&&(window.addEventListener("resize",this.resize),this.resize())},get:function(){return this._resizeTo}}),this.resize=function(){b._resizeTo&&(b._resizeTo===window?b.renderer.resize(window.innerWidth,window.innerHeight):b.renderer.resize(b._resizeTo.clientWidth,b._resizeTo.clientHeight))},this._resizeTo=null,this.resizeTo=a.resizeTo||null},uf.destroy=function(){this.resizeTo=null,this.resize=null},sf.registerPlugin(uf);var vf=c(function(a,b){function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){return a._head?(a._tail._next=b,b._prev=a._tail,a._tail=b):(a._head=b,a._tail=b),b._owner=a,b}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,d,e){void 0===d&&(d=!1),c(this,a),this._fn=b,this._once=d,this._thisArg=e,this._next=this._prev=this._owner=null}return e(a,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),a}(),g=function(){function a(){c(this,a),this._head=this._tail=void 0}return e(a,[{key:"handlers",value:function(){var a=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],b=this._head;if(a)return!!b;for(var c=[];b;)c.push(b),b=b._next;return c}},{key:"has",value:function(a){if(!(a instanceof f))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return a._owner===this}},{key:"dispatch",value:function(){var a=arguments,b=this._head;if(!b)return!1;for(;b;)b._once&&this.detach(b),b._fn.apply(b._thisArg,a),b=b._next;return!0}},{key:"add",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof a)throw new Error("MiniSignal#add(): First arg must be a Function.");return d(this,new f(a,!1,b))}},{key:"once",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof a)throw new Error("MiniSignal#once(): First arg must be a Function.");return d(this,new f(a,!0,b))}},{key:"detach",value:function(a){if(!(a instanceof f))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return a._owner!==this?this:(a._prev&&(a._prev._next=a._next),a._next&&(a._next._prev=a._prev),a===this._head?(this._head=a._next,null===a._next&&(this._tail=null)):a===this._tail&&(this._tail=a._prev,this._tail._next=null),a._owner=null,this)}},{key:"detachAll",value:function(){var a=this._head;if(!a)return this;for(this._head=this._tail=null;a;)a._owner=null,a=a._next;return this}}]),a}();g.MiniSignalBinding=f,b["default"]=g,a.exports=b["default"]}),wf=(b(vf),function(a,b){b=b||{};for(var c={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},d=c.parser[b.strictMode?"strict":"loose"].exec(a),e={},f=14;f--;)e[c.key[f]]=d[f]||"";return e[c.q.name]={},e[c.key[12]].replace(c.q.parser,function(a,b,d){b&&(e[c.q.name][b]=d)}),e}),xf=c(function(a,b){function c(){}function d(a){return function(){if(null===a)throw new Error("Callback was already called.");var b=a;a=null,b.apply(this,arguments)}}b.__esModule=!0,b.eachSeries=function(a,b,c,d){var e=0,f=a.length;!function g(h){h||e===f?c&&c(h):d?setTimeout(function(){b(a[e++],g)},1):b(a[e++],g)}()},b.queue=function(a,b){function e(a,b,d){if(null!=d&&"function"!=typeof d)throw new Error("task callback must be a function");if(h.started=!0,null==a&&h.idle())setTimeout(function(){return h.drain()},1);else{var e={data:a,callback:"function"==typeof d?d:c};b?h._tasks.unshift(e):h._tasks.push(e),setTimeout(function(){return h.process()},1)}}function f(a){return function(){g-=1,a.callback.apply(a,arguments),null!=arguments[0]&&h.error(arguments[0],a.data),g<=h.concurrency-h.buffer&&h.unsaturated(),h.idle()&&h.drain(),h.process()}}if(null==b)b=1;else if(0===b)throw new Error("Concurrency must not be zero");var g=0,h={_tasks:[],concurrency:b,saturated:c,unsaturated:c,buffer:b/4,empty:c,drain:c,error:c,started:!1,paused:!1,push:function(a,b){e(a,!1,b)},kill:function(){g=0,h.drain=c,h.started=!1,h._tasks=[]},unshift:function(a,b){e(a,!0,b)},process:function(){for(;!h.paused&&g<h.concurrency&&h._tasks.length;){var b=h._tasks.shift();0===h._tasks.length&&h.empty(),(g+=1)===h.concurrency&&h.saturated(),a(b.data,d(f(b)))}},length:function(){return h._tasks.length},running:function(){return g},idle:function(){return h._tasks.length+g===0},pause:function(){!0!==h.paused&&(h.paused=!0)},resume:function(){if(!1!==h.paused){h.paused=!1;for(var a=1;a<=h.concurrency;a++)h.process()}}};return h}}),yf=(b(xf),xf.eachSeries,xf.queue,c(function(a,b){function c(a){return a&&a.__esModule?a:{"default":a}}function d(){}function e(a,b,c){b&&0===b.indexOf(".")&&(b=b.substring(1)),b&&(a[b]=c)}function f(a){return a.toString().replace("object ","")}b.__esModule=!0,b.Resource=void 0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(wf),i=c(vf),j=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),k=null,l=b.Resource=function(){function a(b,c,e){if(function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),"string"!=typeof b||"string"!=typeof c)throw new Error("Both name and url are required for constructing a resource.");e=e||{},this._flags=0,this._setFlag(a.STATUS_FLAGS.DATA_URL,0===c.indexOf("data:")),this.name=b,this.url=c,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===e.crossOrigin?"anonymous":e.crossOrigin,this.timeout=e.timeout||0,this.loadType=e.loadType||this._determineLoadType(),this.xhrType=e.xhrType,this.metadata=e.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=a.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=d,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new i["default"],this.onProgress=new i["default"],this.onComplete=new i["default"],this.onAfterMiddleware=new i["default"]}return a.setExtensionLoadType=function(b,c){e(a._loadTypeMap,b,c)},a.setExtensionXhrType=function(b,c){e(a._xhrTypeMap,b,c)},a.prototype.complete=function(){this._clearEvents(),this._finish()},a.prototype.abort=function(b){if(!this.error){if(this.error=new Error(b),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=a.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},a.prototype.load=function(b){var c=this;if(!this.isLoading)if(this.isComplete)b&&setTimeout(function(){return b(c)},1);else switch(b&&this.onComplete.once(b),this._setFlag(a.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case a.LOAD_TYPE.IMAGE:this.type=a.TYPE.IMAGE,this._loadElement("image");break;case a.LOAD_TYPE.AUDIO:this.type=a.TYPE.AUDIO,this._loadSourceElement("audio");break;case a.LOAD_TYPE.VIDEO:this.type=a.TYPE.VIDEO,this._loadSourceElement("video");break;case a.LOAD_TYPE.XHR:default:j&&this.crossOrigin?this._loadXdr():this._loadXhr()}},a.prototype._hasFlag=function(a){return 0!=(this._flags&a)},a.prototype._setFlag=function(a,b){this._flags=b?this._flags|a:this._flags&~a},a.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},a.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(a.STATUS_FLAGS.COMPLETE,!0),this._setFlag(a.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},a.prototype._loadElement=function(a){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===a&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(a),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},a.prototype._loadSourceElement=function(a){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===a&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(a),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var b=this.metadata.mimeType,c=0;c<this.url.length;++c)this.data.appendChild(this._createSource(a,this.url[c],Array.isArray(b)?b[c]:b));else{var d=this.metadata.mimeType;this.data.appendChild(this._createSource(a,this.url,Array.isArray(d)?d[0]:d))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+a)},a.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var b=this.xhr=new XMLHttpRequest;b.open("GET",this.url,!0),b.timeout=this.timeout,this.xhrType===a.XHR_RESPONSE_TYPE.JSON||this.xhrType===a.XHR_RESPONSE_TYPE.DOCUMENT?b.responseType=a.XHR_RESPONSE_TYPE.TEXT:b.responseType=this.xhrType,b.addEventListener("error",this._boundXhrOnError,!1),b.addEventListener("timeout",this._boundXhrOnTimeout,!1),b.addEventListener("abort",this._boundXhrOnAbort,!1),b.addEventListener("progress",this._boundOnProgress,!1),b.addEventListener("load",this._boundXhrOnLoad,!1),b.send()},a.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XDomainRequest;a.timeout=this.timeout||5e3,a.onerror=this._boundXhrOnError,a.ontimeout=this._boundXhrOnTimeout,a.onprogress=this._boundOnProgress,a.onload=this._boundXhrOnLoad,a.open("GET",this.url,!0),setTimeout(function(){return a.send()},1)},a.prototype._createSource=function(a,b,c){c||(c=a+"/"+this._getExtension(b));var d=document.createElement("source");return d.src=b,d.type=c,d},a.prototype._onError=function(a){this.abort("Failed to load element using: "+a.target.nodeName)},a.prototype._onProgress=function(a){a&&a.lengthComputable&&this.onProgress.dispatch(this,a.loaded/a.total)},a.prototype._onTimeout=function(){this.abort("Load timed out.")},a.prototype._xhrOnError=function(){var a=this.xhr;this.abort(f(a)+" Request failed. Status: "+a.status+', text: "'+a.statusText+'"')},a.prototype._xhrOnTimeout=function(){var a=this.xhr;this.abort(f(a)+" Request timed out.")},a.prototype._xhrOnAbort=function(){var a=this.xhr;this.abort(f(a)+" Request was aborted by the user.")},a.prototype._xhrOnLoad=function(){var a=this.xhr,b="",c=void 0===a.status?200:a.status;if(""!==a.responseType&&"text"!==a.responseType&&void 0!==a.responseType||(b=a.responseText),0===c&&(b.length>0||a.responseType===d.XHR_RESPONSE_TYPE.BUFFER)?c=200:1223===c&&(c=204),2===(c/100|0)){if(this.xhrType===d.XHR_RESPONSE_TYPE.TEXT)this.data=b,this.type=d.TYPE.TEXT;else if(this.xhrType===d.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(b),this.type=d.TYPE.JSON}catch(d){return void this.abort("Error trying to parse loaded json: "+d)}else if(this.xhrType===d.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var e=new DOMParser;this.data=e.parseFromString(b,"text/xml")}else{var f=document.createElement("div");f.innerHTML=b,this.data=f}this.type=d.TYPE.XML}catch(d){return void this.abort("Error trying to parse loaded xml: "+d)}else this.data=a.response||b;this.complete()}else this.abort("["+a.status+"] "+a.statusText+": "+a.responseURL)},a.prototype._determineCrossOrigin=function(a,b){if(0===a.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";b=b||window.location,k||(k=document.createElement("a")),k.href=a;var c=!(a=h["default"](k.href,{strictMode:!0})).port&&""===b.port||a.port===b.port,d=a.protocol?a.protocol+":":"";return a.host===b.hostname&&c&&d===b.protocol?"":"anonymous"},a.prototype._determineXhrType=function(){return a._xhrTypeMap[this.extension]||a.XHR_RESPONSE_TYPE.TEXT},a.prototype._determineLoadType=function(){return a._loadTypeMap[this.extension]||a.LOAD_TYPE.XHR},a.prototype._getExtension=function(){var a=this.url,b="";if(this.isDataUrl){var c=a.indexOf("/");b=a.substring(c+1,a.indexOf(";",c))}else{var d=a.indexOf("?"),e=a.indexOf("#"),f=Math.min(d>-1?d:a.length,e>-1?e:a.length);b=(a=a.substring(0,f)).substring(a.lastIndexOf(".")+1)}return b.toLowerCase()},a.prototype._getMimeFromXhrType=function(b){switch(b){case a.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case a.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case a.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case a.XHR_RESPONSE_TYPE.JSON:return"application/json";case a.XHR_RESPONSE_TYPE.DEFAULT:case a.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},g(a,[{key:"isDataUrl",get:function(){return this._hasFlag(a.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(a.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(a.STATUS_FLAGS.LOADING)}}]),a}();l.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},l.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},l.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},l.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},l._loadTypeMap={gif:l.LOAD_TYPE.IMAGE,png:l.LOAD_TYPE.IMAGE,bmp:l.LOAD_TYPE.IMAGE,jpg:l.LOAD_TYPE.IMAGE,jpeg:l.LOAD_TYPE.IMAGE,tif:l.LOAD_TYPE.IMAGE,tiff:l.LOAD_TYPE.IMAGE,webp:l.LOAD_TYPE.IMAGE,tga:l.LOAD_TYPE.IMAGE,svg:l.LOAD_TYPE.IMAGE,
"svg+xml":l.LOAD_TYPE.IMAGE,mp3:l.LOAD_TYPE.AUDIO,ogg:l.LOAD_TYPE.AUDIO,wav:l.LOAD_TYPE.AUDIO,mp4:l.LOAD_TYPE.VIDEO,webm:l.LOAD_TYPE.VIDEO},l._xhrTypeMap={xhtml:l.XHR_RESPONSE_TYPE.DOCUMENT,html:l.XHR_RESPONSE_TYPE.DOCUMENT,htm:l.XHR_RESPONSE_TYPE.DOCUMENT,xml:l.XHR_RESPONSE_TYPE.DOCUMENT,tmx:l.XHR_RESPONSE_TYPE.DOCUMENT,svg:l.XHR_RESPONSE_TYPE.DOCUMENT,tsx:l.XHR_RESPONSE_TYPE.DOCUMENT,gif:l.XHR_RESPONSE_TYPE.BLOB,png:l.XHR_RESPONSE_TYPE.BLOB,bmp:l.XHR_RESPONSE_TYPE.BLOB,jpg:l.XHR_RESPONSE_TYPE.BLOB,jpeg:l.XHR_RESPONSE_TYPE.BLOB,tif:l.XHR_RESPONSE_TYPE.BLOB,tiff:l.XHR_RESPONSE_TYPE.BLOB,webp:l.XHR_RESPONSE_TYPE.BLOB,tga:l.XHR_RESPONSE_TYPE.BLOB,json:l.XHR_RESPONSE_TYPE.JSON,text:l.XHR_RESPONSE_TYPE.TEXT,txt:l.XHR_RESPONSE_TYPE.TEXT,ttf:l.XHR_RESPONSE_TYPE.BUFFER,otf:l.XHR_RESPONSE_TYPE.BUFFER},l.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",a.exports["default"]=l})),zf=(b(yf),yf.Resource,c(function(a,b){function c(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0,b.Loader=void 0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(vf),g=c(wf),h=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}(xf),i=/(#[\w-]+)?$/,j=b.Loader=function(){function a(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.baseUrl=c,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(a,c){return b._loadResource(a,c)},this._queue=h.queue(this._boundLoadResource,d),this._queue.pause(),this.resources={},this.onProgress=new f["default"],this.onError=new f["default"],this.onLoad=new f["default"],this.onStart=new f["default"],this.onComplete=new f["default"];for(var e=0;e<a._defaultBeforeMiddleware.length;++e)this.pre(a._defaultBeforeMiddleware[e]);for(var g=0;g<a._defaultAfterMiddleware.length;++g)this.use(a._defaultAfterMiddleware[g])}return a.prototype.add=function(a,b,c,e){if(Array.isArray(a)){for(var f=0;f<a.length;++f)this.add(a[f]);return this}if("object"===(void 0===a?"undefined":d(a))&&(e=b||a.callback||a.onComplete,c=a,b=a.url,a=a.name||a.key||a.url),"string"!=typeof b&&(e=c,c=b,b=a),"string"!=typeof b)throw new Error("No url passed to add resource to loader.");if("function"==typeof c&&(e=c,c=null),this.loading&&(!c||!c.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[a])throw new Error('Resource named "'+a+'" already exists.');if(b=this._prepareUrl(b),this.resources[a]=new yf.Resource(a,b,c),"function"==typeof e&&this.resources[a].onAfterMiddleware.once(e),this.loading){for(var g=c.parentResource,h=[],i=0;i<g.children.length;++i)g.children[i].isComplete||h.push(g.children[i]);var j=g.progressChunk*(h.length+1)/(h.length+2);g.children.push(this.resources[a]),g.progressChunk=j;for(var k=0;k<h.length;++k)h[k].progressChunk=j;this.resources[a].progressChunk=j}return this._queue.push(this.resources[a]),this},a.prototype.pre=function(a){return this._beforeMiddleware.push(a),this},a.prototype.use=function(a){return this._afterMiddleware.push(a),this},a.prototype.reset=function(){for(var a in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var b=this.resources[a];b._onLoadBinding&&b._onLoadBinding.detach(),b.isLoading&&b.abort()}return this.resources={},this},a.prototype.load=function(a){if("function"==typeof a&&this.onComplete.once(a),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var b=100/this._queue._tasks.length,c=0;c<this._queue._tasks.length;++c)this._queue._tasks[c].data.progressChunk=b;this._onStart(),this._queue.resume()}return this},a.prototype._prepareUrl=function(a){var b=g["default"](a,{strictMode:!0}),c=void 0;if(c=b.protocol||!b.path||0===a.indexOf("//")?a:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==a.charAt(0)?this.baseUrl+"/"+a:this.baseUrl+a,this.defaultQueryString){var d=i.exec(c)[0];c+=-1!==(c=c.substr(0,c.length-d.length)).indexOf("?")?"&"+this.defaultQueryString:"?"+this.defaultQueryString,c+=d}return c},a.prototype._loadResource=function(a,b){var c=this;a._dequeue=b,h.eachSeries(this._beforeMiddleware,function(b,d){b.call(c,a,function(){d(a.isComplete?{}:null)})},function(){a.isComplete?c._onLoad(a):(a._onLoadBinding=a.onComplete.once(c._onLoad,c),a.load())},!0)},a.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},a.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},a.prototype._onLoad=function(a){var b=this;a._onLoadBinding=null,this._resourcesParsing.push(a),a._dequeue(),h.eachSeries(this._afterMiddleware,function(c,d){c.call(b,a,d)},function(){a.onAfterMiddleware.dispatch(a),b.progress=Math.min(100,b.progress+a.progressChunk),b.onProgress.dispatch(b,a),a.error?b.onError.dispatch(a.error,b,a):b.onLoad.dispatch(b,a),b._resourcesParsing.splice(b._resourcesParsing.indexOf(a),1),b._queue.idle()&&0===b._resourcesParsing.length&&b._onComplete()},!0)},e(a,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(a){this._queue.concurrency=a}}]),a}();j._defaultBeforeMiddleware=[],j._defaultAfterMiddleware=[],j.pre=function(a){return j._defaultBeforeMiddleware.push(a),j},j.use=function(a){return j._defaultAfterMiddleware.push(a),j}})),Af=(b(zf),zf.Loader,c(function(a,b){function c(a){for(var b="",c=0;c<a.length;){for(var e=[0,0,0],f=[0,0,0,0],g=0;g<e.length;++g)c<a.length?e[g]=255&a.charCodeAt(c++):e[g]=0;switch(f[0]=e[0]>>2,f[1]=(3&e[0])<<4|e[1]>>4,f[2]=(15&e[1])<<2|e[2]>>6,f[3]=63&e[2],c-(a.length-1)){case 2:f[3]=64,f[2]=64;break;case 1:f[3]=64}for(var h=0;h<f.length;++h)b+=d.charAt(f[h])}return b}b.__esModule=!0,b.encodeBinary=c;var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.exports["default"]=c})),Bf=(b(Af),Af.encodeBinary,zf.Loader),Cf=yf.Resource;Bf.Resource=Cf,Bf.async=xf,Bf.encodeBinary=Af,Bf.base64=Af;var Df=Bf,Ef=Bf,Ff=Bf,Gf=Df.Resource;Df.Loader=Ef,Df["default"]=Ff;var Hf=function(a,b){b=b||{};for(var c={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},d=c.parser[b.strictMode?"strict":"loose"].exec(a),e={},f=14;f--;)e[c.key[f]]=d[f]||"";return e[c.q.name]={},e[c.key[12]].replace(c.q.parser,function(a,b,d){b&&(e[c.q.name][b]=d)}),e},If=Da(function(a,b){function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){return a._head?(a._tail._next=b,b._prev=a._tail,a._tail=b):(a._head=b,a._tail=b),b._owner=a,b}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,d,e){void 0===d&&(d=!1),c(this,a),this._fn=b,this._once=d,this._thisArg=e,this._next=this._prev=this._owner=null}return e(a,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),a}(),g=function(){function a(){c(this,a),this._head=this._tail=void 0}return e(a,[{key:"handlers",value:function(){var a=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],b=this._head;if(a)return!!b;for(var c=[];b;)c.push(b),b=b._next;return c}},{key:"has",value:function(a){if(!(a instanceof f))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return a._owner===this}},{key:"dispatch",value:function(){var a=arguments,b=this._head;if(!b)return!1;for(;b;)b._once&&this.detach(b),b._fn.apply(b._thisArg,a),b=b._next;return!0}},{key:"add",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof a)throw new Error("MiniSignal#add(): First arg must be a Function.");return d(this,new f(a,!1,b))}},{key:"once",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof a)throw new Error("MiniSignal#once(): First arg must be a Function.");return d(this,new f(a,!0,b))}},{key:"detach",value:function(a){if(!(a instanceof f))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return a._owner!==this?this:(a._prev&&(a._prev._next=a._next),a._next&&(a._next._prev=a._prev),a===this._head?(this._head=a._next,null===a._next&&(this._tail=null)):a===this._tail&&(this._tail=a._prev,this._tail._next=null),a._owner=null,this)}},{key:"detachAll",value:function(){var a=this._head;if(!a)return this;for(this._head=this._tail=null;a;)a._owner=null,a=a._next;return this}}]),a}();g.MiniSignalBinding=f,b["default"]=g,a.exports=b["default"]});Ca(If);var Jf=Da(function(a,b){function c(a){return a&&a.__esModule?a:{"default":a}}function d(){}function e(a,b,c){b&&0===b.indexOf(".")&&(b=b.substring(1)),b&&(a[b]=c)}function f(a){return a.toString().replace("object ","")}b.__esModule=!0,b.Resource=void 0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(Hf),i=c(If),j=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),k=null,l=b.Resource=function(){function a(b,c,e){if(function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),"string"!=typeof b||"string"!=typeof c)throw new Error("Both name and url are required for constructing a resource.");e=e||{},this._flags=0,this._setFlag(a.STATUS_FLAGS.DATA_URL,0===c.indexOf("data:")),this.name=b,this.url=c,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===e.crossOrigin?"anonymous":e.crossOrigin,this.timeout=e.timeout||0,this.loadType=e.loadType||this._determineLoadType(),this.xhrType=e.xhrType,this.metadata=e.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=a.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=d,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new i["default"],this.onProgress=new i["default"],this.onComplete=new i["default"],this.onAfterMiddleware=new i["default"]}return a.setExtensionLoadType=function(b,c){e(a._loadTypeMap,b,c)},a.setExtensionXhrType=function(b,c){e(a._xhrTypeMap,b,c)},a.prototype.complete=function(){this._clearEvents(),this._finish()},a.prototype.abort=function(b){if(!this.error){if(this.error=new Error(b),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=a.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},a.prototype.load=function(b){var c=this;if(!this.isLoading)if(this.isComplete)b&&setTimeout(function(){return b(c)},1);else switch(b&&this.onComplete.once(b),this._setFlag(a.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case a.LOAD_TYPE.IMAGE:this.type=a.TYPE.IMAGE,this._loadElement("image");break;case a.LOAD_TYPE.AUDIO:this.type=a.TYPE.AUDIO,this._loadSourceElement("audio");break;case a.LOAD_TYPE.VIDEO:this.type=a.TYPE.VIDEO,this._loadSourceElement("video");break;case a.LOAD_TYPE.XHR:default:j&&this.crossOrigin?this._loadXdr():this._loadXhr()}},a.prototype._hasFlag=function(a){return 0!=(this._flags&a)},a.prototype._setFlag=function(a,b){this._flags=b?this._flags|a:this._flags&~a},a.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},a.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(a.STATUS_FLAGS.COMPLETE,!0),this._setFlag(a.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},a.prototype._loadElement=function(a){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===a&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(a),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},a.prototype._loadSourceElement=function(a){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===a&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(a),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var b=this.metadata.mimeType,c=0;c<this.url.length;++c)this.data.appendChild(this._createSource(a,this.url[c],Array.isArray(b)?b[c]:b));else{var d=this.metadata.mimeType;this.data.appendChild(this._createSource(a,this.url,Array.isArray(d)?d[0]:d))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+a)},a.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var b=this.xhr=new XMLHttpRequest;b.open("GET",this.url,!0),b.timeout=this.timeout,this.xhrType===a.XHR_RESPONSE_TYPE.JSON||this.xhrType===a.XHR_RESPONSE_TYPE.DOCUMENT?b.responseType=a.XHR_RESPONSE_TYPE.TEXT:b.responseType=this.xhrType,b.addEventListener("error",this._boundXhrOnError,!1),b.addEventListener("timeout",this._boundXhrOnTimeout,!1),b.addEventListener("abort",this._boundXhrOnAbort,!1),b.addEventListener("progress",this._boundOnProgress,!1),b.addEventListener("load",this._boundXhrOnLoad,!1),b.send()},a.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XDomainRequest;a.timeout=this.timeout||5e3,a.onerror=this._boundXhrOnError,a.ontimeout=this._boundXhrOnTimeout,a.onprogress=this._boundOnProgress,a.onload=this._boundXhrOnLoad,a.open("GET",this.url,!0),setTimeout(function(){return a.send()},1)},a.prototype._createSource=function(a,b,c){c||(c=a+"/"+this._getExtension(b));var d=document.createElement("source");return d.src=b,d.type=c,d},a.prototype._onError=function(a){this.abort("Failed to load element using: "+a.target.nodeName)},a.prototype._onProgress=function(a){a&&a.lengthComputable&&this.onProgress.dispatch(this,a.loaded/a.total)},a.prototype._onTimeout=function(){this.abort("Load timed out.")},a.prototype._xhrOnError=function(){var a=this.xhr;this.abort(f(a)+" Request failed. Status: "+a.status+', text: "'+a.statusText+'"')},a.prototype._xhrOnTimeout=function(){var a=this.xhr;this.abort(f(a)+" Request timed out.")},a.prototype._xhrOnAbort=function(){var a=this.xhr;this.abort(f(a)+" Request was aborted by the user.")},a.prototype._xhrOnLoad=function(){var a=this.xhr,b="",c=void 0===a.status?200:a.status;if(""!==a.responseType&&"text"!==a.responseType&&void 0!==a.responseType||(b=a.responseText),0===c&&(b.length>0||a.responseType===d.XHR_RESPONSE_TYPE.BUFFER)?c=200:1223===c&&(c=204),2===(c/100|0)){if(this.xhrType===d.XHR_RESPONSE_TYPE.TEXT)this.data=b,this.type=d.TYPE.TEXT;else if(this.xhrType===d.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(b),this.type=d.TYPE.JSON}catch(d){return void this.abort("Error trying to parse loaded json: "+d)}else if(this.xhrType===d.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var e=new DOMParser;this.data=e.parseFromString(b,"text/xml")}else{var f=document.createElement("div");f.innerHTML=b,this.data=f}this.type=d.TYPE.XML}catch(d){return void this.abort("Error trying to parse loaded xml: "+d)}else this.data=a.response||b;this.complete()}else this.abort("["+a.status+"] "+a.statusText+": "+a.responseURL)},a.prototype._determineCrossOrigin=function(a,b){if(0===a.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";b=b||window.location,k||(k=document.createElement("a")),k.href=a;var c=!(a=h["default"](k.href,{strictMode:!0})).port&&""===b.port||a.port===b.port,d=a.protocol?a.protocol+":":"";return a.host===b.hostname&&c&&d===b.protocol?"":"anonymous"},a.prototype._determineXhrType=function(){return a._xhrTypeMap[this.extension]||a.XHR_RESPONSE_TYPE.TEXT},a.prototype._determineLoadType=function(){return a._loadTypeMap[this.extension]||a.LOAD_TYPE.XHR},a.prototype._getExtension=function(){var a=this.url,b="";if(this.isDataUrl){var c=a.indexOf("/");b=a.substring(c+1,a.indexOf(";",c))}else{var d=a.indexOf("?"),e=a.indexOf("#"),f=Math.min(d>-1?d:a.length,e>-1?e:a.length);b=(a=a.substring(0,f)).substring(a.lastIndexOf(".")+1)}return b.toLowerCase()},a.prototype._getMimeFromXhrType=function(b){switch(b){case a.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case a.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case a.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case a.XHR_RESPONSE_TYPE.JSON:return"application/json";case a.XHR_RESPONSE_TYPE.DEFAULT:case a.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},g(a,[{key:"isDataUrl",get:function(){return this._hasFlag(a.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(a.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(a.STATUS_FLAGS.LOADING)}}]),a}();l.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},l.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},l.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},l.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},l._loadTypeMap={gif:l.LOAD_TYPE.IMAGE,png:l.LOAD_TYPE.IMAGE,bmp:l.LOAD_TYPE.IMAGE,jpg:l.LOAD_TYPE.IMAGE,jpeg:l.LOAD_TYPE.IMAGE,tif:l.LOAD_TYPE.IMAGE,tiff:l.LOAD_TYPE.IMAGE,webp:l.LOAD_TYPE.IMAGE,tga:l.LOAD_TYPE.IMAGE,svg:l.LOAD_TYPE.IMAGE,"svg+xml":l.LOAD_TYPE.IMAGE,mp3:l.LOAD_TYPE.AUDIO,ogg:l.LOAD_TYPE.AUDIO,wav:l.LOAD_TYPE.AUDIO,mp4:l.LOAD_TYPE.VIDEO,webm:l.LOAD_TYPE.VIDEO},l._xhrTypeMap={xhtml:l.XHR_RESPONSE_TYPE.DOCUMENT,html:l.XHR_RESPONSE_TYPE.DOCUMENT,htm:l.XHR_RESPONSE_TYPE.DOCUMENT,xml:l.XHR_RESPONSE_TYPE.DOCUMENT,tmx:l.XHR_RESPONSE_TYPE.DOCUMENT,svg:l.XHR_RESPONSE_TYPE.DOCUMENT,tsx:l.XHR_RESPONSE_TYPE.DOCUMENT,gif:l.XHR_RESPONSE_TYPE.BLOB,png:l.XHR_RESPONSE_TYPE.BLOB,bmp:l.XHR_RESPONSE_TYPE.BLOB,jpg:l.XHR_RESPONSE_TYPE.BLOB,jpeg:l.XHR_RESPONSE_TYPE.BLOB,tif:l.XHR_RESPONSE_TYPE.BLOB,tiff:l.XHR_RESPONSE_TYPE.BLOB,webp:l.XHR_RESPONSE_TYPE.BLOB,tga:l.XHR_RESPONSE_TYPE.BLOB,json:l.XHR_RESPONSE_TYPE.JSON,text:l.XHR_RESPONSE_TYPE.TEXT,txt:l.XHR_RESPONSE_TYPE.TEXT,ttf:l.XHR_RESPONSE_TYPE.BUFFER,otf:l.XHR_RESPONSE_TYPE.BUFFER},l.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",a.exports["default"]=l});Ca(Jf),Jf.Resource;var Kf=Da(function(a,b){function c(a){for(var b="",c=0;c<a.length;){for(var e=[0,0,0],f=[0,0,0,0],g=0;g<e.length;++g)c<a.length?e[g]=255&a.charCodeAt(c++):e[g]=0;switch(f[0]=e[0]>>2,f[1]=(3&e[0])<<4|e[1]>>4,f[2]=(15&e[1])<<2|e[2]>>6,f[3]=63&e[2],c-(a.length-1)){case 2:f[3]=64,f[2]=64;break;case 1:f[3]=64}for(var h=0;h<f.length;++h)b+=d.charAt(f[h])}return b}b.__esModule=!0,b.encodeBinary=c;var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.exports["default"]=c});Ca(Kf),Kf.encodeBinary;var Lf=Da(function(a,b){b.__esModule=!0,b.blobMiddlewareFactory=function(){return function(a,b){if(a.data){if(a.xhr&&a.xhrType===Jf.Resource.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof a.data){if(0===a.data.type.indexOf("image")){var d=c.createObjectURL(a.data);return a.blob=a.data,a.data=new Image,a.data.src=d,a.type=Jf.Resource.TYPE.IMAGE,void(a.data.onload=function(){c.revokeObjectURL(d),a.data.onload=null,b()})}}else{var e=a.xhr.getResponseHeader("content-type");if(e&&0===e.indexOf("image"))return a.data=new Image,a.data.src="data:"+e+";base64,"+Kf.encodeBinary(a.xhr.responseText),a.type=Jf.Resource.TYPE.IMAGE,void(a.data.onload=function(){a.data.onload=null,b()})}b()}else b()}};var c=window.URL||window.webkitURL});Ca(Lf);var Mf=Lf.blobMiddlewareFactory,Nf=function(){};Nf.use=function(a,b){a.data&&a.type===Gf.TYPE.IMAGE&&(a.texture=Yc.fromLoader(a.data,a.url,a.name)),b()};var Of=function(a){function b(c,d){var e=this;a.call(this,c,d),Ta.call(this);for(var f=0;f<b._plugins.length;++f){var g=b._plugins[f],h=g.pre,i=g.use;h&&this.pre(h),i&&this.use(i)}this.onStart.add(function(a){return e.emit("start",a)}),this.onProgress.add(function(a,b){return e.emit("progress",a,b)}),this.onError.add(function(a,b,c){return e.emit("error",a,b,c)}),this.onLoad.add(function(a,b){return e.emit("load",a,b)}),this.onComplete.add(function(a,b){return e.emit("complete",a,b)}),this._protected=!1}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={shared:{configurable:!0}};return b.prototype.destroy=function(){this._protected||(this.removeAllListeners(),this.reset())},c.shared.get=function(){var a=b._shared;return a||((a=new b)._protected=!0,b._shared=a),a},Object.defineProperties(b,c),b}(Df);Object.assign(Of.prototype,Ta.prototype),Of._plugins=[],Of.registerPlugin=function(a){return Of._plugins.push(a),a.add&&a.add(),Of},Of.registerPlugin({use:Mf()}),Of.registerPlugin(Nf);var Pf=function(){};Pf.init=function(a){a=Object.assign({sharedLoader:!1},a),this.loader=a.sharedLoader?Of.shared:new Of},Pf.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};var Qf=Gf,Rf=function(a){function b(b,c,d,e){void 0===b&&(b=1500),void 0===d&&(d=16384),void 0===e&&(e=!1),a.call(this),d>16384&&(d=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=b,this._batchSize=d,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=ub.NORMAL,this.autoResize=e,this.roundPixels=!0,this.baseTexture=null,this.setProperties(c),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={tint:{configurable:!0}};return b.prototype.setProperties=function(a){a&&(this._properties[0]="vertices"in a||"scale"in a?!!a.vertices||!!a.scale:this._properties[0],this._properties[1]="position"in a?!!a.position:this._properties[1],this._properties[2]="rotation"in a?!!a.rotation:this._properties[2],this._properties[3]="uvs"in a?!!a.uvs:this._properties[3],this._properties[4]="tint"in a||"alpha"in a?!!a.tint||!!a.alpha:this._properties[4])},b.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},c.tint.get=function(){return this._tint},c.tint.set=function(a){this._tint=a,F(a,this.tintRgb)},b.prototype.render=function(a){var b=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return b.onChildrenChange(0)})),a.batch.setObjectRenderer(a.plugins.particle),a.plugins.particle.render(this))},b.prototype.onChildrenChange=function(a){for(var b=Math.floor(a/this._batchSize);this._bufferUpdateIDs.length<b;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[b]=++this._updateID},b.prototype.dispose=function(){if(this._buffers){for(var a=0;a<this._buffers.length;++a)this._buffers[a].destroy();this._buffers=null}},b.prototype.destroy=function(b){a.prototype.destroy.call(this,b),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},Object.defineProperties(b.prototype,c),b}(rc),Sf=function(a,b,c){this.geometry=new fd,this.indexBuffer=null,this.size=c,this.dynamicProperties=[],this.staticProperties=[];for(var d=0;d<a.length;++d){var e=a[d];e={attributeName:e.attributeName,size:e.size,uploadFunction:e.uploadFunction,type:e.type||yb.FLOAT,offset:e.offset},b[d]?this.dynamicProperties.push(e):this.staticProperties.push(e)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()};Sf.prototype.initBuffers=function(){var a=this.geometry,b=0;this.indexBuffer=new ad(M(this.size),!0,!0),a.addIndex(this.indexBuffer),this.dynamicStride=0;for(var c=0;c<this.dynamicProperties.length;++c){var d=this.dynamicProperties[c];d.offset=b,b+=d.size,this.dynamicStride+=d.size}var e=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(e),this.dynamicDataUint32=new Uint32Array(e),this.dynamicBuffer=new ad(this.dynamicData,!1,!1);var f=0;this.staticStride=0;for(var g=0;g<this.staticProperties.length;++g){var h=this.staticProperties[g];h.offset=f,f+=h.size,this.staticStride+=h.size}var i=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(i),this.staticDataUint32=new Uint32Array(i),this.staticBuffer=new ad(this.staticData,!0,!1);for(var j=0;j<this.dynamicProperties.length;++j){var k=this.dynamicProperties[j];a.addAttribute(k.attributeName,this.dynamicBuffer,0,k.type===yb.UNSIGNED_BYTE,k.type,4*this.dynamicStride,4*k.offset)}for(var l=0;l<this.staticProperties.length;++l){var m=this.staticProperties[l];a.addAttribute(m.attributeName,this.staticBuffer,0,m.type===yb.UNSIGNED_BYTE,m.type,4*this.staticStride,4*m.offset)}},Sf.prototype.uploadDynamic=function(a,b,c){for(var d=0;d<this.dynamicProperties.length;d++){var e=this.dynamicProperties[d];e.uploadFunction(a,b,c,e.type===yb.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,e.offset)}this.dynamicBuffer._updateID++},Sf.prototype.uploadStatic=function(a,b,c){for(var d=0;d<this.staticProperties.length;d++){var e=this.staticProperties[d];e.uploadFunction(a,b,c,e.type===yb.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,e.offset)}this.staticBuffer._updateID++},Sf.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()};var Tf="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",Uf="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",Vf=function(a){function b(b){a.call(this,b),this.shader=null,this.properties=null,this.tempMatrix=new Zb,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:yb.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Hd.from(Tf,Uf,{})}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(a){var b=a.children,c=a._maxSize,d=a._batchSize,e=this.renderer,f=b.length;if(0!==f){f>c&&!a.autoResize&&(f=c);var g=a._buffers;g||(g=a._buffers=this.generateBuffers(a));var h=b[0]._texture.baseTexture;this.renderer.state.setBlendMode(I(a.blendMode,h.premultiplyAlpha));var i=e.gl,j=a.worldTransform.copyTo(this.tempMatrix);j.prepend(e.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=j.toArray(!0),this.shader.uniforms.uColor=J(a.tintRgb,a.worldAlpha,this.shader.uniforms.uColor,h.premultiplyAlpha),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);for(var k=!1,l=0,m=0;f>l;l+=d,m+=1){var n=f-l;n>d&&(n=d),m>=g.length&&g.push(this._generateOneMoreBuffer(a));var o=g[m];o.uploadDynamic(b,l,n);var p=a._bufferUpdateIDs[m]||0;(k=k||o._updateID<p)&&(o._updateID=a._updateID,o.uploadStatic(b,l,n)),e.geometry.bind(o.geometry),i.drawElements(i.TRIANGLES,6*n,i.UNSIGNED_SHORT,0)}}},b.prototype.generateBuffers=function(a){for(var b=[],c=a._maxSize,d=a._batchSize,e=a._properties,f=0;c>f;f+=d)b.push(new Sf(this.properties,e,d));return b},b.prototype._generateOneMoreBuffer=function(a){var b=a._batchSize,c=a._properties;return new Sf(this.properties,c,b)},b.prototype.uploadVertices=function(a,b,c,d,e,f){for(var g=0,h=0,i=0,j=0,k=0;c>k;++k){var l=a[b+k],m=l._texture,n=l.scale.x,o=l.scale.y,p=m.trim,q=m.orig;p?(g=(h=p.x-l.anchor.x*q.width)+p.width,i=(j=p.y-l.anchor.y*q.height)+p.height):(g=q.width*(1-l.anchor.x),h=q.width*-l.anchor.x,i=q.height*(1-l.anchor.y),j=q.height*-l.anchor.y),d[f]=h*n,d[f+1]=j*o,d[f+e]=g*n,d[f+e+1]=j*o,d[f+2*e]=g*n,d[f+2*e+1]=i*o,d[f+3*e]=h*n,d[f+3*e+1]=i*o,f+=4*e}},b.prototype.uploadPosition=function(a,b,c,d,e,f){
for(var g=0;c>g;g++){var h=a[b+g].position;d[f]=h.x,d[f+1]=h.y,d[f+e]=h.x,d[f+e+1]=h.y,d[f+2*e]=h.x,d[f+2*e+1]=h.y,d[f+3*e]=h.x,d[f+3*e+1]=h.y,f+=4*e}},b.prototype.uploadRotation=function(a,b,c,d,e,f){for(var g=0;c>g;g++){var h=a[b+g].rotation;d[f]=h,d[f+e]=h,d[f+2*e]=h,d[f+3*e]=h,f+=4*e}},b.prototype.uploadUvs=function(a,b,c,d,e,f){for(var g=0;c>g;++g){var h=a[b+g]._texture._uvs;h?(d[f]=h.x0,d[f+1]=h.y0,d[f+e]=h.x1,d[f+e+1]=h.y1,d[f+2*e]=h.x2,d[f+2*e+1]=h.y2,d[f+3*e]=h.x3,d[f+3*e+1]=h.y3,f+=4*e):(d[f]=0,d[f+1]=0,d[f+e]=0,d[f+e+1]=0,d[f+2*e]=0,d[f+2*e+1]=0,d[f+3*e]=0,d[f+3*e+1]=0,f+=4*e)}},b.prototype.uploadTint=function(a,b,c,d,e,f){for(var g=0;c>g;++g){var h=a[b+g],i=h._texture.baseTexture.premultiplyAlpha,j=h.alpha,k=1>j&&i?K(h._tintRGB,j):h._tintRGB+(255*j<<24);d[f]=k,d[f+e]=k,d[f+2*e]=k,d[f+3*e]=k,f+=4*e}},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},b}(md),Wf=function(a,b,c){void 0===c&&(c=null),this.baseTexture=a,this.textures={},this.animations={},this.data=b,this.resolution=this._updateResolution(c||(this.baseTexture.resource?this.baseTexture.resource.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null},Xf={BATCH_SIZE:{configurable:!0}};Xf.BATCH_SIZE.get=function(){return 1e3},Wf.prototype._updateResolution=function(a){var b=this.data.meta.scale,c=V(a,null);return null===c&&(c=void 0!==b?parseFloat(b):1),1!==c&&this.baseTexture.setResolution(c),c},Wf.prototype.parse=function(a){this._batchIndex=0,this._callback=a,this._frameKeys.length<=Wf.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},Wf.prototype._processFrames=function(a){for(var b=a,c=Wf.BATCH_SIZE;c>b-a&&b<this._frameKeys.length;){var d=this._frameKeys[b],e=this._frames[d],f=e.frame;if(f){var g=null,h=null,i=!1!==e.trimmed&&e.sourceSize?e.sourceSize:e.frame,j=new ic(0,0,Math.floor(i.w)/this.resolution,Math.floor(i.h)/this.resolution);g=e.rotated?new ic(Math.floor(f.x)/this.resolution,Math.floor(f.y)/this.resolution,Math.floor(f.h)/this.resolution,Math.floor(f.w)/this.resolution):new ic(Math.floor(f.x)/this.resolution,Math.floor(f.y)/this.resolution,Math.floor(f.w)/this.resolution,Math.floor(f.h)/this.resolution),!1!==e.trimmed&&e.spriteSourceSize&&(h=new ic(Math.floor(e.spriteSourceSize.x)/this.resolution,Math.floor(e.spriteSourceSize.y)/this.resolution,Math.floor(f.w)/this.resolution,Math.floor(f.h)/this.resolution)),this.textures[d]=new Yc(this.baseTexture,g,j,h,e.rotated?2:0,e.anchor),Yc.addToCache(this.textures[d],d)}b++}},Wf.prototype._processAnimations=function(){var a=this.data.animations||{};for(var b in a){this.animations[b]=[];for(var c=0;c<a[b].length;c++){var d=a[b][c];this.animations[b].push(this.textures[d])}}},Wf.prototype._parseComplete=function(){var a=this._callback;this._callback=null,this._batchIndex=0,a.call(this,this.textures)},Wf.prototype._nextBatch=function(){var a=this;this._processFrames(this._batchIndex*Wf.BATCH_SIZE),this._batchIndex++,setTimeout(function(){a._batchIndex*Wf.BATCH_SIZE<a._frameKeys.length?a._nextBatch():(a._processAnimations(),a._parseComplete())},0)},Wf.prototype.destroy=function(a){for(var b in void 0===a&&(a=!1),this.textures)this.textures[b].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,a&&this.baseTexture.destroy(),this.baseTexture=null},Object.defineProperties(Wf,Xf);var Yf=function(){};Yf.use=function(a,b){var c=a.name+"_image";if(a.data&&a.type===Qf.TYPE.JSON&&a.data.frames&&!this.resources[c]){var d={crossOrigin:a.crossOrigin,metadata:a.metadata.imageMetadata,parentResource:a},e=Yf.getResourcePath(a,this.baseUrl);this.add(c,e,d,function(c){if(c.error)b(c.error);else{var d=new Wf(c.texture.baseTexture,a.data,a.url);d.parse(function(){a.spritesheet=d,a.textures=d.textures,b()})}})}else b()},Yf.getResourcePath=function(a,b){return a.isDataUrl?a.data.meta.image:rb.resolve(a.url.replace(b,""),a.data.meta.image)};var Zf=new Sb,$f=function(a){function b(b,c,d){void 0===c&&(c=100),void 0===d&&(d=100),a.call(this,b),this.tileTransform=new gc,this._width=c,this._height=d,this._canvasPattern=null,this.uvMatrix=b.uvMatrix||new Pd(b),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={clampMargin:{configurable:!0},tileScale:{configurable:!0},tilePosition:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return c.clampMargin.get=function(){return this.uvMatrix.clampMargin},c.clampMargin.set=function(a){this.uvMatrix.clampMargin=a,this.uvMatrix.update(!0)},c.tileScale.get=function(){return this.tileTransform.scale},c.tileScale.set=function(a){this.tileTransform.scale.copyFrom(a)},c.tilePosition.get=function(){return this.tileTransform.position},c.tilePosition.set=function(a){this.tileTransform.position.copyFrom(a)},b.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},b.prototype._render=function(a){var b=this._texture;b&&b.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),a.batch.setObjectRenderer(a.plugins[this.pluginName]),a.plugins[this.pluginName].render(this))},b.prototype._calculateBounds=function(){var a=this._width*-this._anchor._x,b=this._height*-this._anchor._y,c=this._width*(1-this._anchor._x),d=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,a,b,c,d)},b.prototype.getLocalBounds=function(b){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),b||(this._localBoundsRect||(this._localBoundsRect=new ic),b=this._localBoundsRect),this._bounds.getRectangle(b)):a.prototype.getLocalBounds.call(this,b)},b.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,Zf);var b=this._width,c=this._height,d=-b*this.anchor._x;if(Zf.x>=d&&Zf.x<d+b){var e=-c*this.anchor._y;if(Zf.y>=e&&Zf.y<e+c)return!0}return!1},b.prototype.destroy=function(b){a.prototype.destroy.call(this,b),this.tileTransform=null,this.uvMatrix=null},b.from=function(a,c,d){return new b(Yc.from(a),c,d)},b.fromFrame=function(a,c,d){var e=Kb[a];if(!e)throw new Error('The frameId "'+a+'" does not exist in the texture cache '+this);return new b(e,c,d)},b.fromImage=function(a,c,d,e){return e&&"object"!=typeof e&&(e={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),new b(Yc.from(a,e),c,d)},c.width.get=function(){return this._width},c.width.set=function(a){this._width=a},c.height.get=function(){return this._height},c.height.set=function(a){this._height=a},Object.defineProperties(b.prototype,c),b}(cf),_f="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",ag="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n",bg="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",cg=new Zb,dg=function(a){function b(b){a.call(this,b);var c={globals:this.renderer.globalUniforms};this.shader=Hd.from(_f,ag,c),this.simpleShader=Hd.from(_f,bg,c),this.quad=new hd}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.render=function(a){var b=this.renderer,c=this.quad,d=c.vertices;d[0]=d[6]=a._width*-a.anchor.x,d[1]=d[3]=a._height*-a.anchor.y,d[2]=d[4]=a._width*(1-a.anchor.x),d[5]=d[7]=a._height*(1-a.anchor.y),a.uvRespectAnchor&&((d=c.uvs)[0]=d[6]=-a.anchor.x,d[1]=d[3]=-a.anchor.y,d[2]=d[4]=1-a.anchor.x,d[5]=d[7]=1-a.anchor.y),c.invalidate();var e=a._texture,f=e.baseTexture,g=a.tileTransform.localTransform,h=a.uvMatrix,i=f.isPowerOfTwo&&e.frame.width===f.width&&e.frame.height===f.height;i&&(f._glTextures[b.CONTEXT_UID]?i=f.wrapMode!==Ab.CLAMP:f.wrapMode===Ab.CLAMP&&(f.wrapMode=Ab.REPEAT));var j=i?this.simpleShader:this.shader,k=e.width,l=e.height,m=a._width,n=a._height;cg.set(g.a*k/m,g.b*k/n,g.c*l/m,g.d*l/n,g.tx/m,g.ty/n),cg.invert(),i?cg.prepend(h.mapCoord):(j.uniforms.uMapCoord=h.mapCoord.toArray(!0),j.uniforms.uClampFrame=h.uClampFrame,j.uniforms.uClampOffset=h.uClampOffset),j.uniforms.uTransform=cg.toArray(!0),j.uniforms.uColor=L(a.tint,a.worldAlpha,j.uniforms.uColor,f.premultiplyAlpha),j.uniforms.translationMatrix=a.transform.worldTransform.toArray(!0),j.uniforms.uSampler=e,b.shader.bind(j),b.geometry.bind(c),b.state.setBlendMode(I(a.blendMode,f.premultiplyAlpha)),b.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},b}(md),eg=function(a){function b(b,c){var d=this;void 0===c&&(c={}),a.call(this),this._textWidth=0,this._textHeight=0,this._glyphs=[],this._font={tint:void 0!==c.tint?c.tint:16777215,align:c.align||"left",name:null,size:0},this.font=c.font,this._text=b,this._maxWidth=0,this._maxLineHeight=0,this._letterSpacing=0,this._anchor=new Tb(function(){d.dirty=!0},this,0,0),this.dirty=!1,this.roundPixels=Sa.ROUND_PIXELS,this.updateText()}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={tint:{configurable:!0},align:{configurable:!0},anchor:{configurable:!0},font:{configurable:!0},text:{configurable:!0},maxWidth:{configurable:!0},maxLineHeight:{configurable:!0},textWidth:{configurable:!0},letterSpacing:{configurable:!0},textHeight:{configurable:!0}};return b.prototype.updateText=function(){for(var a=b.fonts[this._font.name],c=this._font.size/a.size,d=new Sb,e=[],f=[],g=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",h=g.length,i=this._maxWidth*a.size/this._font.size,j=null,k=0,l=0,m=0,n=-1,o=0,p=0,q=0,r=0;h>r;r++){var s=g.charCodeAt(r),t=g.charAt(r);if(/(?:\s)/.test(t)&&(n=r,o=k),"\r"!==t&&"\n"!==t){var u=a.chars[s];u&&(j&&u.kerning[j]&&(d.x+=u.kerning[j]),e.push({texture:u.texture,line:m,charCode:s,position:new Sb(d.x+u.xOffset+this._letterSpacing/2,d.y+u.yOffset)}),d.x+=u.xAdvance+this._letterSpacing,k=d.x,q=Math.max(q,u.yOffset+u.texture.height),j=s,-1!==n&&i>0&&d.x>i&&(N(e,1+n-++p,1+r-n),r=n,n=-1,f.push(o),l=Math.max(l,o),m++,d.x=0,d.y+=a.lineHeight,j=null))}else f.push(k),l=Math.max(l,k),++m,++p,d.x=0,d.y+=a.lineHeight,j=null}var v=g.charAt(g.length-1);"\r"!==v&&"\n"!==v&&(/(?:\s)/.test(v)&&(k=o),f.push(k),l=Math.max(l,k));for(var w=[],x=0;m>=x;x++){var y=0;"right"===this._font.align?y=l-f[x]:"center"===this._font.align&&(y=(l-f[x])/2),w.push(y)}for(var z=e.length,A=this.tint,B=0;z>B;B++){var C=this._glyphs[B];C?C.texture=e[B].texture:((C=new cf(e[B].texture)).roundPixels=this.roundPixels,this._glyphs.push(C)),C.position.x=(e[B].position.x+w[e[B].line])*c,C.position.y=e[B].position.y*c,C.scale.x=C.scale.y=c,C.tint=A,C.parent||this.addChild(C)}for(var D=z;D<this._glyphs.length;++D)this.removeChild(this._glyphs[D]);if(this._textWidth=l*c,this._textHeight=(d.y+a.lineHeight)*c,0!==this.anchor.x||0!==this.anchor.y)for(var E=0;z>E;E++)this._glyphs[E].x-=this._textWidth*this.anchor.x,this._glyphs[E].y-=this._textHeight*this.anchor.y;this._maxLineHeight=q*c},b.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},b.prototype.getLocalBounds=function(){return this.validate(),a.prototype.getLocalBounds.call(this)},b.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},c.tint.get=function(){return this._font.tint},c.tint.set=function(a){this._font.tint="number"==typeof a&&a>=0?a:16777215,this.dirty=!0},c.align.get=function(){return this._font.align},c.align.set=function(a){this._font.align=a||"left",this.dirty=!0},c.anchor.get=function(){return this._anchor},c.anchor.set=function(a){"number"==typeof a?this._anchor.set(a):this._anchor.copyFrom(a)},c.font.get=function(){return this._font},c.font.set=function(a){a&&("string"==typeof a?(a=a.split(" "),this._font.name=1===a.length?a[0]:a.slice(1).join(" "),this._font.size=a.length>=2?parseInt(a[0],10):b.fonts[this._font.name].size):(this._font.name=a.name,this._font.size="number"==typeof a.size?a.size:parseInt(a.size,10)),this.dirty=!0)},c.text.get=function(){return this._text},c.text.set=function(a){a=String(null==a?"":a),this._text!==a&&(this._text=a,this.dirty=!0)},c.maxWidth.get=function(){return this._maxWidth},c.maxWidth.set=function(a){this._maxWidth!==a&&(this._maxWidth=a,this.dirty=!0)},c.maxLineHeight.get=function(){return this.validate(),this._maxLineHeight},c.textWidth.get=function(){return this.validate(),this._textWidth},c.letterSpacing.get=function(){return this._letterSpacing},c.letterSpacing.set=function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.dirty=!0)},c.textHeight.get=function(){return this.validate(),this._textHeight},b.registerFont=function(a,c){var d={},e=a.getElementsByTagName("info")[0],f=a.getElementsByTagName("common")[0],g=a.getElementsByTagName("page"),h=V(g[0].getAttribute("file"),Sa.RESOLUTION),i={};d.font=e.getAttribute("face"),d.size=parseInt(e.getAttribute("size"),10),d.lineHeight=parseInt(f.getAttribute("lineHeight"),10)/h,d.chars={},c instanceof Yc&&(c=[c]);for(var j=0;j<g.length;j++){var k=g[j].getAttribute("id"),l=g[j].getAttribute("file");i[k]=c instanceof Array?c[j]:c[l]}for(var m=a.getElementsByTagName("char"),n=0;n<m.length;n++){var o=m[n],p=parseInt(o.getAttribute("id"),10),q=o.getAttribute("page")||0,r=new ic(parseInt(o.getAttribute("x"),10)/h+i[q].frame.x/h,parseInt(o.getAttribute("y"),10)/h+i[q].frame.y/h,parseInt(o.getAttribute("width"),10)/h,parseInt(o.getAttribute("height"),10)/h);d.chars[p]={xOffset:parseInt(o.getAttribute("xoffset"),10)/h,yOffset:parseInt(o.getAttribute("yoffset"),10)/h,xAdvance:parseInt(o.getAttribute("xadvance"),10)/h,kerning:{},texture:new Yc(i[q].baseTexture,r),page:q}}for(var s=a.getElementsByTagName("kerning"),t=0;t<s.length;t++){var u=s[t],v=parseInt(u.getAttribute("first"),10)/h,w=parseInt(u.getAttribute("second"),10)/h,x=parseInt(u.getAttribute("amount"),10)/h;d.chars[w]&&(d.chars[w].kerning[v]=x)}return b.fonts[d.font]=d,d},Object.defineProperties(b.prototype,c),b}(rc);eg.fonts={};var fg=function(){};fg.parse=function(a,b){a.bitmapFont=eg.registerFont(a.data,b)},fg.add=function(){Qf.setExtensionXhrType("fnt",Qf.XHR_RESPONSE_TYPE.DOCUMENT)},fg.dirname=function(a){var b=a.replace(/\/$/,"").replace(/\/[^\/]*$/,"");return b===a?".":""===b?"/":b},fg.use=function(a,b){if(a.data&&a.type===Qf.TYPE.XML)if(0!==a.data.getElementsByTagName("page").length&&0!==a.data.getElementsByTagName("info").length&&null!==a.data.getElementsByTagName("info")[0].getAttribute("face")){var c=a.isDataUrl?"":fg.dirname(a.url);a.isDataUrl&&("."===c&&(c=""),this.baseUrl&&c&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(c+="/")),(c=c.replace(this.baseUrl,""))&&"/"!==c.charAt(c.length-1)&&(c+="/");for(var d=a.data.getElementsByTagName("page"),e={},f=function(c){e[c.metadata.pageFile]=c.texture,Object.keys(e).length===d.length&&(fg.parse(a,e),b())},g=0;g<d.length;++g){var h=d[g].getAttribute("file"),i=c+h,j=!1;for(var k in this.resources){var l=this.resources[k];if(l.url===i){l.metadata.pageFile=h,l.texture?f(l):l.onAfterMiddleware.add(f),j=!0;break}}if(!j){var m={crossOrigin:a.crossOrigin,loadType:Qf.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:h},a.metadata.imageMetadata),parentResource:a};this.add(i,m,f)}}}else b();else b()};var gg="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",hg=function(a){function b(b){void 0===b&&(b=1),a.call(this,le,gg,{uAlpha:1}),this.alpha=b}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={alpha:{configurable:!0}};return c.alpha.get=function(){return this.uniforms.uAlpha},c.alpha.set=function(a){this.uniforms.uAlpha=a},Object.defineProperties(b.prototype,c),b}(Ld),ig="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n    \n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n    \n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n    \n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",jg={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},kg=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n"),lg=function(a){function b(b,c,d,e,f){var g=function(a,b){var c,d=Math.ceil(a/2),e=ig,f="";c=b?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var g=0;a>g;g++){var h=c.replace("%index%",g);f+=h=h.replace("%sampleIndex%",g-(d-1)+".0"),f+="\n"}return e=(e=e.replace("%blur%",f)).replace("%size%",a)}(f=f||5,b),h=function(a){for(var b,c=jg[a],d=c.length,e=kg,f="",g=0;a>g;g++){var h="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",g);b=g,g>=d&&(b=a-g-1),f+=h=h.replace("%value%",c[b]),f+="\n"}return e=(e=e.replace("%blur%",f)).replace("%size%",a)}(f);a.call(this,g,h),this.horizontal=b,this.resolution=e||Sa.RESOLUTION,this._quality=0,this.quality=d||4,this.blur=c||8}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={blur:{configurable:!0},quality:{configurable:!0}};return b.prototype.apply=function(a,b,c,d){if(c?this.horizontal?this.uniforms.strength=1/c.width*(c.width/b.width):this.uniforms.strength=1/c.height*(c.height/b.height):this.horizontal?this.uniforms.strength=1/a.renderer.width*(a.renderer.width/b.width):this.uniforms.strength=1/a.renderer.height*(a.renderer.height/b.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)a.applyFilter(this,b,c,d);else{var e=a.getFilterTexture(),f=a.renderer,g=b,h=e;this.state.blend=!1,a.applyFilter(this,g,h,!1);for(var i=1;i<this.passes-1;i++){f.renderTexture.bind(g,g.filterFrame),this.uniforms.uSampler=h;var j=h;h=g,g=j,f.shader.bind(this),f.geometry.draw(5)}this.state.blend=!0,a.applyFilter(this,h,c,d),a.returnFilterTexture(e)}},c.blur.get=function(){return this.strength},c.blur.set=function(a){this.padding=1+2*Math.abs(a),this.strength=a},c.quality.get=function(){return this._quality},c.quality.set=function(a){this._quality=a,this.passes=a},Object.defineProperties(b.prototype,c),b}(Ld),mg=function(a){function b(b,c,d,e){a.call(this),this.blurXFilter=new lg(!0,b,c,d,e),this.blurYFilter=new lg(!1,b,c,d,e),this.resolution=d||Sa.RESOLUTION,this.quality=c||4,this.blur=b||8,this.repeatEdgePixels=!1}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={blur:{configurable:!0},quality:{configurable:!0},blurX:{configurable:!0},blurY:{configurable:!0},blendMode:{configurable:!0},repeatEdgePixels:{configurable:!0}};return b.prototype.apply=function(a,b,c,d){var e=Math.abs(this.blurXFilter.strength),f=Math.abs(this.blurYFilter.strength);if(e&&f){var g=a.getFilterTexture();this.blurXFilter.apply(a,b,g,!0),this.blurYFilter.apply(a,g,c,d),a.returnFilterTexture(g)}else f?this.blurYFilter.apply(a,b,c,d):this.blurXFilter.apply(a,b,c,d)},b.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},c.blur.get=function(){return this.blurXFilter.blur},c.blur.set=function(a){this.blurXFilter.blur=this.blurYFilter.blur=a,this.updatePadding()},c.quality.get=function(){return this.blurXFilter.quality},c.quality.set=function(a){this.blurXFilter.quality=this.blurYFilter.quality=a},c.blurX.get=function(){return this.blurXFilter.blur},c.blurX.set=function(a){this.blurXFilter.blur=a,this.updatePadding()},c.blurY.get=function(){return this.blurYFilter.blur},c.blurY.set=function(a){this.blurYFilter.blur=a,this.updatePadding()},c.blendMode.get=function(){return this.blurYFilter.blendMode},c.blendMode.set=function(a){this.blurYFilter.blendMode=a},c.repeatEdgePixels.get=function(){return this._repeatEdgePixels},c.repeatEdgePixels.set=function(a){this._repeatEdgePixels=a,this.updatePadding()},Object.defineProperties(b.prototype,c),b}(Ld),ng="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",og=function(a){function b(){var b={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};a.call(this,me,ng,b),this.alpha=1}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={matrix:{configurable:!0},alpha:{configurable:!0}};return b.prototype._loadMatrix=function(a,b){void 0===b&&(b=!1);var c=a;b&&(this._multiply(c,this.uniforms.m,a),c=this._colorMatrix(c)),this.uniforms.m=c},b.prototype._multiply=function(a,b,c){return a[0]=b[0]*c[0]+b[1]*c[5]+b[2]*c[10]+b[3]*c[15],a[1]=b[0]*c[1]+b[1]*c[6]+b[2]*c[11]+b[3]*c[16],a[2]=b[0]*c[2]+b[1]*c[7]+b[2]*c[12]+b[3]*c[17],a[3]=b[0]*c[3]+b[1]*c[8]+b[2]*c[13]+b[3]*c[18],a[4]=b[0]*c[4]+b[1]*c[9]+b[2]*c[14]+b[3]*c[19]+b[4],a[5]=b[5]*c[0]+b[6]*c[5]+b[7]*c[10]+b[8]*c[15],a[6]=b[5]*c[1]+b[6]*c[6]+b[7]*c[11]+b[8]*c[16],a[7]=b[5]*c[2]+b[6]*c[7]+b[7]*c[12]+b[8]*c[17],a[8]=b[5]*c[3]+b[6]*c[8]+b[7]*c[13]+b[8]*c[18],a[9]=b[5]*c[4]+b[6]*c[9]+b[7]*c[14]+b[8]*c[19]+b[9],a[10]=b[10]*c[0]+b[11]*c[5]+b[12]*c[10]+b[13]*c[15],a[11]=b[10]*c[1]+b[11]*c[6]+b[12]*c[11]+b[13]*c[16],a[12]=b[10]*c[2]+b[11]*c[7]+b[12]*c[12]+b[13]*c[17],a[13]=b[10]*c[3]+b[11]*c[8]+b[12]*c[13]+b[13]*c[18],a[14]=b[10]*c[4]+b[11]*c[9]+b[12]*c[14]+b[13]*c[19]+b[14],a[15]=b[15]*c[0]+b[16]*c[5]+b[17]*c[10]+b[18]*c[15],a[16]=b[15]*c[1]+b[16]*c[6]+b[17]*c[11]+b[18]*c[16],a[17]=b[15]*c[2]+b[16]*c[7]+b[17]*c[12]+b[18]*c[17],a[18]=b[15]*c[3]+b[16]*c[8]+b[17]*c[13]+b[18]*c[18],a[19]=b[15]*c[4]+b[16]*c[9]+b[17]*c[14]+b[18]*c[19]+b[19],a},b.prototype._colorMatrix=function(a){var b=new Float32Array(a);return b[4]/=255,b[9]/=255,b[14]/=255,b[19]/=255,b},b.prototype.brightness=function(a,b){var c=[a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0];this._loadMatrix(c,b)},b.prototype.greyscale=function(a,b){var c=[a,a,a,0,0,a,a,a,0,0,a,a,a,0,0,0,0,0,1,0];this._loadMatrix(c,b)},b.prototype.blackAndWhite=function(a){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a)},b.prototype.hue=function(a,b){a=(a||0)/180*Math.PI;var c=Math.cos(a),d=Math.sin(a),e=1/3,f=Math.sqrt(e),g=[c+(1-c)*e,e*(1-c)-f*d,e*(1-c)+f*d,0,0,e*(1-c)+f*d,c+e*(1-c),e*(1-c)-f*d,0,0,e*(1-c)-f*d,e*(1-c)+f*d,c+e*(1-c),0,0,0,0,0,1,0];this._loadMatrix(g,b)},b.prototype.contrast=function(a,b){var c=(a||0)+1,d=-.5*(c-1),e=[c,0,0,0,d,0,c,0,0,d,0,0,c,0,d,0,0,0,1,0];this._loadMatrix(e,b)},b.prototype.saturate=function(a,b){void 0===a&&(a=0);var c=2*a/3+1,d=-.5*(c-1),e=[c,d,d,0,0,d,c,d,0,0,d,d,c,0,0,0,0,0,1,0];this._loadMatrix(e,b)},b.prototype.desaturate=function(){this.saturate(-1)},b.prototype.negative=function(a){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],a)},b.prototype.sepia=function(a){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a)},b.prototype.technicolor=function(a){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a)},b.prototype.polaroid=function(a){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a)},b.prototype.toBGR=function(a){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],a)},b.prototype.kodachrome=function(a){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],a)},b.prototype.browni=function(a){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],a)},b.prototype.vintage=function(a){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a)},b.prototype.colorTone=function(a,b,c,d,e){var f=((c=c||16770432)>>16&255)/255,g=(c>>8&255)/255,h=(255&c)/255,i=((d=d||3375104)>>16&255)/255,j=(d>>8&255)/255,k=(255&d)/255,l=[.3,.59,.11,0,0,f,g,h,a=a||.2,0,i,j,k,b=b||.15,0,f-i,g-j,h-k,0,0];this._loadMatrix(l,e)},b.prototype.night=function(a,b){var c=[-2*(a=a||.1),-a,0,0,0,-a,0,a,0,0,0,a,2*a,0,0,0,0,0,1,0];this._loadMatrix(c,b)},b.prototype.predator=function(a,b){var c=[11.224130630493164*a,-4.794486999511719*a,-2.8746118545532227*a,0*a,.40342438220977783*a,-3.6330697536468506*a,9.193157196044922*a,-2.951810836791992*a,0*a,-1.316135048866272*a,-3.2184197902679443*a,-4.2375030517578125*a,7.476448059082031*a,0*a,.8044459223747253*a,0,0,0,1,0];this._loadMatrix(c,b)},b.prototype.lsd=function(a){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a)},b.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},c.matrix.get=function(){return this.uniforms.m},c.matrix.set=function(a){this.uniforms.m=a},c.alpha.get=function(){return this.uniforms.uAlpha},c.alpha.set=function(a){this.uniforms.uAlpha=a},Object.defineProperties(b.prototype,c),b}(Ld);og.prototype.grayscale=og.prototype.greyscale;var pg="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n	gl_Position = filterVertexPosition();\n	vTextureCoord = filterTextureCoord();\n	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",qg="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",rg=function(a){function b(b,c){var d=new Zb;b.renderable=!1,a.call(this,pg,qg,{mapSampler:b._texture,filterMatrix:d,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=b,this.maskMatrix=d,null==c&&(c=20),this.scale=new Sb(c,c)}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={map:{configurable:!0}};return b.prototype.apply=function(a,b,c,d){this.uniforms.filterMatrix=a.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var e=this.maskSprite.transform.worldTransform,f=Math.sqrt(e.a*e.a+e.b*e.b),g=Math.sqrt(e.c*e.c+e.d*e.d);0!==f&&0!==g&&(this.uniforms.rotation[0]=e.a/f,this.uniforms.rotation[1]=e.b/f,this.uniforms.rotation[2]=e.c/g,this.uniforms.rotation[3]=e.d/g),a.applyFilter(this,b,c,d)},c.map.get=function(){return this.uniforms.mapSampler},c.map.set=function(a){this.uniforms.mapSampler=a},Object.defineProperties(b.prototype,c),b}(Ld),sg="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",tg='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',ug=function(a){
function b(){a.call(this,sg,tg)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(Ld),vg="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",wg=function(a){function b(b,c){void 0===b&&(b=.5),void 0===c&&(c=Math.random()),a.call(this,me,vg,{uNoise:0,uSeed:0}),this.noise=b,this.seed=c}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={noise:{configurable:!0},seed:{configurable:!0}};return c.noise.get=function(){return this.uniforms.uNoise},c.noise.set=function(a){this.uniforms.uNoise=a},c.seed.get=function(){return this.uniforms.uSeed},c.seed.set=function(a){this.uniforms.uSeed=a},Object.defineProperties(b.prototype,c),b}(Ld),xg=new Zb;qc.prototype._cacheAsBitmap=!1,qc.prototype._cacheData=!1;var yg=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(qc.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(a){var b;this._cacheAsBitmap!==a&&(this._cacheAsBitmap=a,a?(this._cacheData||(this._cacheData=new yg),(b=this._cacheData).originalRender=this.render,b.originalRenderCanvas=this.renderCanvas,b.originalUpdateTransform=this.updateTransform,b.originalCalculateBounds=this.calculateBounds,b.originalGetLocalBounds=this.getLocalBounds,b.originalDestroy=this.destroy,b.originalContainsPoint=this.containsPoint,b.originalMask=this._mask,b.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((b=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=b.originalRender,this.renderCanvas=b.originalRenderCanvas,this.calculateBounds=b.originalCalculateBounds,this.getLocalBounds=b.originalGetLocalBounds,this.destroy=b.originalDestroy,this.updateTransform=b.originalUpdateTransform,this.containsPoint=b.originalContainsPoint,this._mask=b.originalMask,this.filterArea=b.originalFilterArea))}}}),qc.prototype._renderCached=function(a){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(a),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(a))},qc.prototype._initCachedDisplayObject=function(a){if(!this._cacheData||!this._cacheData.sprite){var b=this.alpha;this.alpha=1,a.batch.flush();var c=this.getLocalBounds().clone();if(this.filters){var d=this.filters[0].padding;c.pad(d)}c.ceil(Sa.RESOLUTION);var e=a._activeRenderTarget,f=Zc.create(c.width,c.height),g="cacheAsBitmap_"+O();this._cacheData.textureCacheId=g,Kc.addToCache(f.baseTexture,g),Yc.addToCache(f,g);var h=xg;h.tx=-c.x,h.ty=-c.y,this.transform.worldTransform.identity(),this.render=this._cacheData.originalRender,a.render(this,f,!0,h,!0),a.renderTexture.bind(e),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var i=new cf(f);i.transform.worldTransform=this.transform.worldTransform,i.anchor.x=-c.x/c.width,i.anchor.y=-c.y/c.height,i.alpha=b,i._bounds=this._bounds,this._cacheData.sprite=i,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=a._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=i.containsPoint.bind(i)}},qc.prototype._renderCachedCanvas=function(a){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(a),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(a))},qc.prototype._initCachedDisplayObjectCanvas=function(a){if(!this._cacheData||!this._cacheData.sprite){var b=this.getLocalBounds(),c=this.alpha;this.alpha=1;var d=a.context;b.ceil(Sa.RESOLUTION);var e=Zc.create(b.width,b.height),f="cacheAsBitmap_"+O();this._cacheData.textureCacheId=f,Kc.addToCache(e.baseTexture,f),Yc.addToCache(e,f);var g=xg;this.transform.localTransform.copyTo(g),g.invert(),g.tx-=b.x,g.ty-=b.y,this.renderCanvas=this._cacheData.originalRenderCanvas,a.render(this,e,!0,g,!1),a.context=d,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new cf(e);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-b.x/b.width,h.anchor.y=-b.y/b.height,h.alpha=c,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=a._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}},qc.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},qc.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},qc.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Kc.removeFromCache(this._cacheData.textureCacheId),Yc.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},qc.prototype._cacheAsBitmapDestroy=function(a){this.cacheAsBitmap=!1,this.destroy(a)},qc.prototype.name=null,rc.prototype.getChildByName=function(a){for(var b=0;b<this.children.length;b++)if(this.children[b].name===a)return this.children[b];return null},qc.prototype.getGlobalPosition=function(a,b){return void 0===a&&(a=new Sb),void 0===b&&(b=!1),this.parent?this.parent.toGlobal(this.position,a,b):(a.x=this.position.x,a.y=this.position.y),a};var zg="5.0.0",Ag=function(a,b){this.uvBuffer=a,this.uvMatrix=b,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0};Ag.prototype.update=function(a){if(a||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var b=this.uvBuffer.data;this.data&&this.data.length===b.length||(this.data=new Float32Array(b.length)),this.uvMatrix.multiplyUvs(b,this.data),this._updateID++}};var Bg=new Sb,Cg=new nc,Dg=function(a){function b(b,c,d,e){void 0===e&&(e=vb.TRIANGLES),a.call(this),this.geometry=b,b.refCount++,this.shader=c,this.state=d||Jd.for2d(),this.drawMode=e,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=0,this._transformID=-1,this.tint=16777215,this.blendMode=ub.NORMAL,this._roundPixels=Sa.ROUND_PIXELS,this.batchUvs=null}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={uvBuffer:{configurable:!0},verticesBuffer:{configurable:!0},material:{configurable:!0},blendMode:{configurable:!0},roundPixels:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return c.uvBuffer.get=function(){return this.geometry.buffers[1]},c.verticesBuffer.get=function(){return this.geometry.buffers[0]},c.material.set=function(a){this.shader=a},c.material.get=function(){return this.shader},c.blendMode.set=function(a){this.state.blendMode=a},c.blendMode.get=function(){return this.state.blendMode},c.roundPixels.set=function(a){this._roundPixels!==a&&(this._transformID=-1),this._roundPixels=a},c.roundPixels.get=function(){return this._roundPixels},c.tint.get=function(){return this.shader.tint},c.tint.set=function(a){this.shader.tint=a},c.texture.get=function(){return this.shader.texture},c.texture.set=function(a){this.shader.texture=a},b.prototype._render=function(a){var c=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===vb.TRIANGLES&&c.length<2*b.BATCHABLE_SIZE?this._renderToBatch(a):this._renderDefault(a)},b.prototype._renderDefault=function(a){var b=this.shader;b.alpha=this.worldAlpha,b.update&&b.update(),a.batch.flush(),b.program.uniformData.translationMatrix&&(b.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),a.shader.bind(b),a.state.setState(this.state),a.geometry.bind(this.geometry,b),a.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},b.prototype._renderToBatch=function(a){var b=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=b.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var c=this.material.pluginName;a.batch.setObjectRenderer(a.plugins[c]),a.plugins[c].render(this)},b.prototype.calculateVertices=function(){var a=this.geometry,b=a.buffers[0].data;if(a.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==b.length&&(this.vertexData=new Float32Array(b.length));for(var c=this.transform.worldTransform,d=c.a,e=c.b,f=c.c,g=c.d,h=c.tx,i=c.ty,j=this.vertexData,k=0;k<j.length/2;k++){var l=b[2*k],m=b[2*k+1];j[2*k]=d*l+f*m+h,j[2*k+1]=e*l+g*m+i}if(this._roundPixels)for(var n=0;n<j.length;n++)j[n]=Math.round(j[n]);this.vertexDirty=a.vertexDirtyId}},b.prototype.calculateUvs=function(){var a=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=a.data:(this.batchUvs||(this.batchUvs=new Ag(a,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},b.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},b.prototype.containsPoint=function(a){if(!this.getBounds().contains(a.x,a.y))return!1;this.worldTransform.applyInverse(a,Bg);for(var b=this.geometry.getBuffer("aVertexPosition").data,c=Cg.points,d=this.geometry.getIndex().data,e=d.length,f=4===this.drawMode?3:1,g=0;e>g+2;g+=f){var h=2*d[g],i=2*d[g+1],j=2*d[g+2];if(c[0]=b[h],c[1]=b[h+1],c[2]=b[i],c[3]=b[i+1],c[4]=b[j],c[5]=b[j+1],Cg.contains(Bg.x,Bg.y))return!0}return!1},b.prototype.destroy=function(b){a.prototype.destroy.call(this,b),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},Object.defineProperties(b.prototype,c),b}(rc);Dg.BATCHABLE_SIZE=100;var Eg="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",Fg="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",Gg=function(a){function b(b,c){var d={uSampler:b,alpha:1,uTextureMatrix:Zb.IDENTITY,uColor:new Float32Array([1,1,1,1])};(c=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},c)).uniforms&&Object.assign(d,c.uniforms),a.call(this,c.program||Fd.from(Eg,Fg),d),this._colorDirty=!1,this.uvMatrix=new Pd(b),this.batchable=void 0===c.program,this.pluginName=c.pluginName,this.tint=c.tint,this.alpha=c.alpha}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={texture:{configurable:!0},alpha:{configurable:!0},tint:{configurable:!0}};return c.texture.get=function(){return this.uniforms.uSampler},c.texture.set=function(a){this.uniforms.uSampler!==a&&(this.uniforms.uSampler=a,this.uvMatrix.texture=a)},c.alpha.set=function(a){a!==this._alpha&&(this._alpha=a,this._colorDirty=!0)},c.alpha.get=function(){return this._alpha},c.tint.set=function(a){a!==this._tint&&(this._tint=a,this._tintRGB=(a>>16)+(65280&a)+((255&a)<<16),this._colorDirty=!0)},c.tint.get=function(){return this._tint},b.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var a=this.texture.baseTexture;L(this._tint,this._alpha,this.uniforms.uColor,a.premultiplyAlpha)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},Object.defineProperties(b.prototype,c),b}(Hd),Hg=function(a){function b(b,c,d){a.call(this);var e=new ad(b),f=new ad(c,!0),g=new ad(d,!0,!0);this.addAttribute("aVertexPosition",e,2,!1,yb.FLOAT).addAttribute("aTextureCoord",f,2,!1,yb.FLOAT).addIndex(g),this._updateId=-1}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={vertexDirtyId:{configurable:!0}};return c.vertexDirtyId.get=function(){return this.buffers[0]._updateID},Object.defineProperties(b.prototype,c),b}(fd),Ig=function(a){function b(b,c,d,e){void 0===b&&(b=100),void 0===c&&(c=100),void 0===d&&(d=10),void 0===e&&(e=10),a.call(this),this.segWidth=d,this.segHeight=e,this.width=b,this.height=c,this.build()}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.build=function(){for(var a=this.segWidth*this.segHeight,b=[],c=[],d=[],e=this.segWidth-1,f=this.segHeight-1,g=this.width/e,h=this.height/f,i=0;a>i;i++){var j=i%this.segWidth,k=i/this.segWidth|0;b.push(j*g,k*h),c.push(j/e,k/f)}for(var l=e*f,m=0;l>m;m++){var n=m%e,o=m/e|0,p=o*this.segWidth+n,q=o*this.segWidth+n+1,r=(o+1)*this.segWidth+n,s=(o+1)*this.segWidth+n+1;d.push(p,q,r,q,s,r)}this.buffers[0].data=new Float32Array(b),this.buffers[1].data=new Float32Array(c),this.indexBuffer.data=new Uint16Array(d),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},b}(Hg),Jg=function(a){function b(b,c){void 0===b&&(b=200),a.call(this,new Float32Array(4*c.length),new Float32Array(4*c.length),new Uint16Array(6*(c.length-1))),this.points=c,this.width=b,this.build()}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.build=function(){var a=this.points;if(a){var b=this.getBuffer("aVertexPosition"),c=this.getBuffer("aTextureCoord"),d=this.getIndex();if(!(a.length<1)){b.data.length/4!==a.length&&(b.data=new Float32Array(4*a.length),c.data=new Float32Array(4*a.length),d.data=new Uint16Array(6*(a.length-1)));var e=c.data,f=d.data;e[0]=0,e[1]=0,e[2]=0,e[3]=1;for(var g=a.length,h=0;g>h;h++){var i=4*h,j=h/(g-1);e[i]=j,e[i+1]=0,e[i+2]=j,e[i+3]=1}for(var k=0,l=0;g-1>l;l++){var m=2*l;f[k++]=m,f[k++]=m+1,f[k++]=m+2,f[k++]=m+2,f[k++]=m+1,f[k++]=m+3}c.update(),d.update(),this.updateVertices()}}},b.prototype.updateVertices=function(){var a=this.points;if(!(a.length<1)){for(var b,c=a[0],d=0,e=0,f=this.buffers[0].data,g=a.length,h=0;g>h;h++){var i=a[h],j=4*h;e=-((b=h<a.length-1?a[h+1]:i).x-c.x),d=b.y-c.y;var k=Math.sqrt(d*d+e*e),l=this.width/2;d/=k,e/=k,d*=l,e*=l,f[j]=i.x+d,f[j+1]=i.y+e,f[j+2]=i.x-d,f[j+3]=i.y-e,c=i}this.buffers[0].update()}},b.prototype.update=function(){this.updateVertices()},b}(Hg),Kg=function(a){function b(b,c){var d=new Jg(b.height,c),e=new Gg(b);a.call(this,d,e),this.autoUpdate=!0}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._render=function(b){(this.autoUpdate||this.geometry.width!==this.shader.texture.height)&&(this.geometry.width=this.shader.texture.height,this.geometry.update()),a.prototype._render.call(this,b)},b}(Dg),Lg=function(a){function b(b,c,d){var e=new Ig(b.width,b.height,c,d),f=new Gg(Yc.WHITE);a.call(this,e,f),this.texture=b}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={texture:{configurable:!0}};return b.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this.geometry.width=this.shader.texture.width,this.geometry.height=this.shader.texture.height,this.geometry.build()},c.texture.set=function(a){this.shader.texture!==a&&(this.shader.texture=a,this._textureID=-1,a.baseTexture.valid?this.textureUpdated():a.once("update",this.textureUpdated,this))},c.texture.get=function(){return this.shader.texture},b.prototype._render=function(b){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),a.prototype._render.call(this,b)},Object.defineProperties(b.prototype,c),b}(Dg),Mg=function(a){function b(b,c,d,e,f){void 0===b&&(b=Yc.EMPTY);var g=new Hg(c,d,e);g.getBuffer("aVertexPosition")["static"]=!1;var h=new Gg(b);a.call(this,g,h,null,f),this.autoUpdate=!0}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={vertices:{configurable:!0}};return c.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},c.vertices.set=function(a){this.geometry.getBuffer("aVertexPosition").data=a},b.prototype._render=function(b){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),a.prototype._render.call(this,b)},Object.defineProperties(b.prototype,c),b}(Dg),Ng=10,Og=function(a){function b(b,c,d,e,f){a.call(this,Yc.WHITE,4,4),this._origWidth=b.orig.width,this._origHeight=b.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=void 0!==c?c:Ng,this._rightWidth=void 0!==e?e:Ng,this._topHeight=void 0!==d?d:Ng,this._bottomHeight=void 0!==f?f:Ng,this.texture=b}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={vertices:{configurable:!0},width:{configurable:!0},height:{configurable:!0},leftWidth:{configurable:!0},rightWidth:{configurable:!0},topHeight:{configurable:!0},bottomHeight:{configurable:!0}};return b.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},c.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},c.vertices.set=function(a){this.geometry.getBuffer("aVertexPosition").data=a},b.prototype.updateHorizontalVertices=function(){var a=this.vertices,b=this._topHeight+this._bottomHeight,c=this._height>b?1:this._height/b;a[9]=a[11]=a[13]=a[15]=this._topHeight*c,a[17]=a[19]=a[21]=a[23]=this._height-this._bottomHeight*c,a[25]=a[27]=a[29]=a[31]=this._height},b.prototype.updateVerticalVertices=function(){var a=this.vertices,b=this._leftWidth+this._rightWidth,c=this._width>b?1:this._width/b;a[2]=a[10]=a[18]=a[26]=this._leftWidth*c,a[4]=a[12]=a[20]=a[28]=this._width-this._rightWidth*c,a[6]=a[14]=a[22]=a[30]=this._width},c.width.get=function(){return this._width},c.width.set=function(a){this._width=a,this._refresh()},c.height.get=function(){return this._height},c.height.set=function(a){this._height=a,this._refresh()},c.leftWidth.get=function(){return this._leftWidth},c.leftWidth.set=function(a){this._leftWidth=a,this._refresh()},c.rightWidth.get=function(){return this._rightWidth},c.rightWidth.set=function(a){this._rightWidth=a,this._refresh()},c.topHeight.get=function(){return this._topHeight},c.topHeight.set=function(a){this._topHeight=a,this._refresh()},c.bottomHeight.get=function(){return this._bottomHeight},c.bottomHeight.set=function(a){this._bottomHeight=a,this._refresh()},b.prototype._refresh=function(){var a=this.texture,b=this.geometry.buffers[1].data;this._origWidth=a.orig.width,this._origHeight=a.orig.height;var c=1/this._origWidth,d=1/this._origHeight;b[0]=b[8]=b[16]=b[24]=0,b[1]=b[3]=b[5]=b[7]=0,b[6]=b[14]=b[22]=b[30]=1,b[25]=b[27]=b[29]=b[31]=1,b[2]=b[10]=b[18]=b[26]=c*this._leftWidth,b[4]=b[12]=b[20]=b[28]=1-c*this._rightWidth,b[9]=b[11]=b[13]=b[15]=d*this._topHeight,b[17]=b[19]=b[21]=b[23]=1-d*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},Object.defineProperties(b.prototype,c),b}(Lg),Pg=function(a){function b(b,c){a.call(this,b[0]instanceof Yc?b[0]:b[0].texture),this._textures=null,this._durations=null,this.textures=b,this._autoUpdate=!1!==c,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this.playing=!1}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={totalFrames:{configurable:!0},textures:{configurable:!0},currentFrame:{configurable:!0}};return b.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&zc.shared.remove(this.update,this))},b.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&zc.shared.add(this.update,this,xc.HIGH))},b.prototype.gotoAndStop=function(a){this.stop();var b=this.currentFrame;this._currentTime=a,b!==this.currentFrame&&this.updateTexture()},b.prototype.gotoAndPlay=function(a){var b=this.currentFrame;this._currentTime=a,b!==this.currentFrame&&this.updateTexture(),this.play()},b.prototype.update=function(a){var b=this.animationSpeed*a,c=this.currentFrame;if(null!==this._durations){var d=this._currentTime%1*this._durations[this.currentFrame];for(d+=b/60*1e3;0>d;)this._currentTime--,d+=this._durations[this.currentFrame];var e=Math.sign(this.animationSpeed*a);for(this._currentTime=Math.floor(this._currentTime);d>=this._durations[this.currentFrame];)d-=this._durations[this.currentFrame]*e,this._currentTime+=e;this._currentTime+=d/this._durations[this.currentFrame]}else this._currentTime+=b;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):c!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<c?this.onLoop():this.animationSpeed<0&&this.currentFrame>c&&this.onLoop()),this.updateTexture())},b.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},b.prototype.destroy=function(b){this.stop(),a.prototype.destroy.call(this,b),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},b.fromFrames=function(a){for(var c=[],d=0;d<a.length;++d)c.push(Yc.from(a[d]));return new b(c)},b.fromImages=function(a){for(var c=[],d=0;d<a.length;++d)c.push(Yc.from(a[d]));return new b(c)},c.totalFrames.get=function(){return this._textures.length},c.textures.get=function(){return this._textures},c.textures.set=function(a){if(a[0]instanceof Yc)this._textures=a,this._durations=null;else{this._textures=[],this._durations=[];for(var b=0;b<a.length;b++)this._textures.push(a[b].texture),this._durations.push(a[b].time)}this.gotoAndStop(0),this.updateTexture()},c.currentFrame.get=function(){var a=Math.floor(this._currentTime)%this._textures.length;return 0>a&&(a+=this._textures.length),a},Object.defineProperties(b.prototype,c),b}(cf);ke.registerPlugin("accessibility",tc),ke.registerPlugin("extract",xe),ke.registerPlugin("interaction",He),ke.registerPlugin("particle",Vf),ke.registerPlugin("prepare",pf),ke.registerPlugin("batch",ve),ke.registerPlugin("tilingSprite",dg),Of.registerPlugin(fg),Of.registerPlugin(Yf),sf.registerPlugin(Cc),sf.registerPlugin(Pf);var Qg={AlphaFilter:hg,BlurFilter:mg,BlurFilterPass:lg,ColorMatrixFilter:og,DisplacementFilter:rg,FXAAFilter:ug,NoiseFilter:wg};return a.AbstractRenderer=je,a.AnimatedSprite=Pg,a.AppLoaderPlugin=Pf,a.Application=sf,a.Attribute=$c,a.BLEND_MODES=ub,a.BaseRenderTexture=Vc,a.BaseTexture=Kc,a.BatchDrawCall=pe,a.BatchGeometry=oe,a.BatchRenderer=ve,a.BitmapFontLoader=fg,a.BitmapText=eg,a.Bounds=pc,a.Buffer=ad,a.Circle=lc,a.Container=rc,a.CubeTexture=ne,a.DEG_TO_RAD=Xb,a.DRAW_MODES=vb,a.DisplayObject=qc,a.ENV=sb,a.Ellipse=mc,a.FORMATS=wb,a.FillStyle=Ke,a.Filter=Ld,a.Framebuffer=Tc,a.GC_MODES=Cb,a.GLProgram=Xd,a.GLTexture=Kc,a.GRAPHICS_CURVES=Je,a.Geometry=fd,a.Graphics=_e,a.GraphicsData=Le,a.GraphicsGeometry=Te,a.GroupD8=fc,a.LineStyle=Ue,a.Loader=Of,a.LoaderResource=Qf,a.MIPMAP_MODES=Bb,a.Matrix=Zb,a.Mesh=Dg,a.MeshBatchUvs=Ag,a.MeshGeometry=Hg,a.MeshMaterial=Gg,a.NineSlicePlane=Og,a.ObjectRenderer=md,a.ObservablePoint=Tb,a.PI_2=Vb,a.PRECISION=Db,a.ParticleContainer=Rf,a.ParticleRenderer=Vf,a.PlaneGeometry=Ig,a.Point=Sb,a.Polygon=nc,a.Program=Fd,a.Quad=gd,a.QuadUv=hd,a.RAD_TO_DEG=Wb,a.RENDERER_TYPE=tb,a.Rectangle=ic,a.RenderTexture=Zc,a.Renderer=ke,a.RopeGeometry=Jg,a.RoundedRectangle=oc,a.Runner=vc,a.SCALE_MODES=zb,a.SHAPES=Yb,a.Shader=Hd,a.SimpleMesh=Mg,a.SimplePlane=Lg,a.SimpleRope=Kg,a.Sprite=cf,a.SpriteMaskFilter=Rd,a.Spritesheet=Wf,a.SpritesheetLoader=Yf,a.State=Jd,a.System=Rc,a.TARGETS=xb,a.TEXT_GRADIENT=df,a.TYPES=yb,a.Text=mf,a.TextMetrics=jf,a.TextStyle=gf,a.Texture=Yc,a.TextureLoader=Nf,a.TextureMatrix=Pd,a.TextureUvs=Wc,a.Ticker=zc,a.TickerPlugin=Cc,a.TilingSprite=$f,a.TilingSpriteRenderer=dg,a.Transform=gc,a.UPDATE_PRIORITY=xc,a.UniformGroup=jd,a.VERSION="5.0.4",a.WRAP_MODES=Ab,a.accessibility=uc,a.autoDetectRenderer=ka,a.checkMaxIfStatementsInShader=ia,a.defaultFilterVertex=me,a.defaultVertex=le,a.extract=ye,a.filters=Qg,a.generateMultiTextureShader=la,a.interaction=Ie,a.isMobile=Ra,a.prepare=rf,a.resources=Qc,a.settings=Sa,a.systems=he,a.useDeprecated=function(){function a(a,b,c,d){return W(zg,"PIXI.Sprite."+a+" method is deprecated, use PIXI.Sprite.from"),g.from(b,{resourceOptions:{scale:d,crossorigin:c}})}function b(a,b,c,d){return W(zg,"PIXI.Texture."+a+" method is deprecated, use PIXI.Texture.from"),h.from(b,{resourceOptions:{scale:d,crossorigin:c}})}var c=this;Object.defineProperties(c,{SVG_SIZE:{get:function(){return W(zg,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),c.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return W(zg,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),c.Transform}},TransformBase:{get:function(){return W(zg,"PIXI.TransformBase class has been removed, use PIXI.Transform"),c.Transform}},TRANSFORM_MODE:{get:function(){return W(zg,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return W(zg,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),c.Renderer}},CanvasRenderTarget:{get:function(){return W(zg,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),c.utils.CanvasRenderTarget}},loader:{get:function(){return W(zg,"PIXI.loader instance has moved to PIXI.Loader.shared"),c.Loader.shared}},FilterManager:{get:function(){return W(zg,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),c.systems.FilterSystem}}}),c.extras={},Object.defineProperties(c.extras,{TilingSprite:{get:function(){return W(zg,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),c.TilingSprite}},TilingSpriteRenderer:{get:function(){return W(zg,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),c.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return W(zg,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),c.AnimatedSprite}},BitmapText:{get:function(){return W(zg,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),c.BitmapText}}}),Object.defineProperties(c.utils,{getSvgSize:{get:function(){return W(zg,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),c.SVGResource.getSize}}}),c.mesh={},Object.defineProperties(c.mesh,{Mesh:{get:function(){return W(zg,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),c.SimpleMesh}},NineSlicePlane:{get:function(){return W(zg,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),c.NineSlicePlane}},Plane:{get:function(){return W(zg,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),c.SimplePlane}},Rope:{get:function(){return W(zg,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),c.SimpleRope}},RawMesh:{get:function(){return W(zg,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),c.Mesh}},CanvasMeshRenderer:{get:function(){return W(zg,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),c.CanvasMeshRenderer}},MeshRenderer:{get:function(){return W(zg,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),c.MeshRenderer}}}),c.particles={},Object.defineProperties(c.particles,{ParticleContainer:{get:function(){return W(zg,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),c.ParticleContainer}},ParticleRenderer:{get:function(){return W(zg,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),c.ParticleRenderer}}}),c.ticker={},Object.defineProperties(c.ticker,{Ticker:{get:function(){return W(zg,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),c.Ticker}},shared:{get:function(){return W(zg,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),c.Ticker.shared}}}),c.loaders={},Object.defineProperties(c.loaders,{Loader:{get:function(){return W(zg,"PIXI.loaders.Loader class has moved to PIXI.Loader"),c.Loader}},Resource:{get:function(){return W(zg,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),c.LoaderResource}},bitmapFontParser:{get:function(){return W(zg,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),c.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){return W(zg,"PIXI.loaders.parseBitmapFontData function has moved to PIXI.BitmapFontLoader.parse"),c.BitmapFontLoader.parse}},spritesheetParser:{get:function(){return W(zg,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),c.SpritesheetLoader.use}},getResourcePath:{get:function(){return W(zg,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),c.SpritesheetLoader.getResourcePath}}}),c.Loader.addPixiMiddleware=function(a){return W(zg,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),c.loaders.Loader.registerPlugin({use:a()})},Object.defineProperty(c.extract,"WebGLExtract",{get:function(){return W(zg,"PIXI.extract.WebGLExtract method has moved to PIXI.extract.Extract"),c.extract.Extract}}),Object.defineProperty(c.prepare,"WebGLPrepare",{get:function(){return W(zg,"PIXI.prepare.WebGLPrepare class has moved to PIXI.prepare.Prepare"),c.prepare.Prepare}}),c.Container.prototype._renderWebGL=function(a){W(zg,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(a)},c.Container.prototype.renderWebGL=function(a){W(zg,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(a)},c.DisplayObject.prototype.renderWebGL=function(a){W(zg,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(a)},c.Container.prototype.renderAdvancedWebGL=function(a){W(zg,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(a)},Object.defineProperties(c.settings,{TRANSFORM_MODE:{get:function(){return W(zg,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){W(zg,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var d=c.BaseTexture;d.prototype.loadSource=function(a){W(zg,"PIXI.BaseTexture.loadSource method has been deprecated");var b=c.resources.autoDetectResource(a);b.internal=!0,this.setResource(b),this.update()},Object.defineProperties(d.prototype,{hasLoaded:{get:function(){
return W(zg,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){return W(zg,"PIXI.BaseTexture.imageUrl property has been removed, use resource.url"),this.resource&&this.resource.url}},source:{get:function(){return W(zg,"PIXI.BaseTexture.source property has been moved, use `resource.source`"),this.resource&&this.resource.source},set:function(a){W(zg,"PIXI.BaseTexture.source property has been moved, use `resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=a)}}}),d.fromImage=function(a,b,c,e){W(zg,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var f={scale:e,crossorigin:b};return d.from(a,{scaleMode:c,resourceOptions:f})},d.fromCanvas=function(a,b){return W(zg,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),d.from(a,{scaleMode:b})},d.fromSVG=function(a,b,c,e){W(zg,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var f={scale:e,crossorigin:b};return d.from(a,{scaleMode:c,resourceOptions:f})},c.Point.prototype.copy=function(a){return W(zg,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(a)},c.ObservablePoint.prototype.copy=function(a){return W(zg,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(a)},c.Rectangle.prototype.copy=function(a){return W(zg,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(a)},c.Matrix.prototype.copy=function(a){return W(zg,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(a)},Object.assign(c.systems.FilterSystem.prototype,{getRenderTarget:function(a,b){return W(zg,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(b)},returnRenderTarget:function(a){W(zg,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(a)},calculateScreenSpaceMatrix:function(a){W(zg,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var b=a.identity(),c=this.activeState,d=c.sourceFrame,e=c.destinationFrame;return b.translate(d.x/e.width,d.y/e.height),b.scale(e.width,e.height),b},calculateNormalizedScreenSpaceMatrix:function(a){W(zg,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var b=this.activeState,c=b.sourceFrame,d=b.destinationFrame,e=a.identity();e.translate(c.x/d.width,c.y/d.height);var f=d.width/c.width,g=d.height/c.height;return e.scale(f,g),e}}),Object.defineProperties(c.RenderTexture.prototype,{sourceFrame:{get:function(){return W(zg,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return W(zg,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var e=function(a){function b(b,c,d,e){W(zg,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),a.call(this,!0,b,c,d,e)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(c.filters.BlurFilterPass),f=function(a){function b(b,c,d,e){W(zg,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),a.call(this,!1,b,c,d,e)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(c.filters.BlurFilterPass);Object.assign(c.filters,{BlurXFilter:e,BlurYFilter:f});var g=c.Sprite,h=c.Texture,i=c.Graphics;i.prototype.generateCanvasTexture||(i.prototype.generateCanvasTexture=function(){W(zg,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),g.fromImage=a.bind(null,"fromImage"),g.fromSVG=a.bind(null,"fromSVG"),g.fromCanvas=a.bind(null,"fromCanvas"),g.fromVideo=a.bind(null,"fromVideo"),g.fromFrame=a.bind(null,"fromFrame"),h.fromImage=b.bind(null,"fromImage"),h.fromSVG=b.bind(null,"fromSVG"),h.fromCanvas=b.bind(null,"fromCanvas"),h.fromVideo=b.bind(null,"fromVideo"),h.fromFrame=b.bind(null,"fromFrame"),Object.defineProperty(c.AbstractRenderer.prototype,"autoResize",{get:function(){return W(zg,"PIXI.AbstractRenderer.autoResize property is deprecated, use autoDensity"),this.autoDensity},set:function(a){W(zg,"PIXI.AbstractRenderer.autoResize property is deprecated, use autoDensity"),this.autoDensity=a}}),c.utils.mixins={mixin:function(){W(zg,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){W(zg,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){W(zg,"PIXI.utils.mixins.performMixins function is no longer available")}}},a.utils=Rb,a}({});PIXI.useDeprecated(),function(){function a(a,b){a=a.split(".");var c=ke;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function b(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function c(a,b,c){return a.call.apply(a.bind,arguments)}function d(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function e(a,b,f){return e=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c:d,e.apply(null,arguments)}function f(a,b){return b>a?-1:a>b?1:0}function g(a){var b=a.length;if(b>0){for(var c=Array(b),d=0;b>d;d++)c[d]=a[d];return c}return[]}function h(a){var b,c=[],d=0;for(b in a)c[d++]=b;return c}function i(a,b){this.O=[],this.U=b;for(var c=!0,d=a.length-1;d>=0;d--){var e=0|a[d];c&&e==b||(this.O[d]=e,c=!1)}}function j(a){if(a>=-128&&128>a){var b=oe[a];if(b)return b}return b=new i([0|a],0>a?-1:0),a>=-128&&128>a&&(oe[a]=b),b}function k(a){if(isNaN(a)||!isFinite(a))return qe;if(0>a)return o(k(-a));for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=pe;return new i(b,0)}function l(a){if(-1==a.U)return-l(o(a));for(var b=0,c=1,d=0;d<a.O.length;d++){var e=m(a,d);b+=(e>=0?e:pe+e)*c,c*=pe}return b}function m(a,b){return 0>b?0:b<a.O.length?a.O[b]:a.U}function n(a){if(0!=a.U)return!1;for(var b=0;b<a.O.length;b++)if(0!=a.O[b])return!1;return!0}function o(a){for(var b=a.O.length,c=[],d=0;b>d;d++)c[d]=~a.O[d];return new i(c,~a.U).add(re)}function p(a,b){for(;(65535&a[b])!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535,b++}function q(a,b){if(n(b))throw Error("division by zero");if(n(a))return qe;if(-1==a.U)return-1==b.U?q(o(a),o(b)):o(q(o(a),b));if(-1==b.U)return o(q(a,o(b)));if(30<a.O.length){if(-1==a.U||-1==b.U)throw Error("slowDivide_ only works with positive integers.");for(var c=re;0>=b.compare(a);)c=c.shiftLeft(1),b=b.shiftLeft(1);var d=r(c,1),e=r(b,1);for(b=r(b,2),c=r(c,2);!n(b);){var f=e.add(b);0>=f.compare(a)&&(d=d.add(c),e=f),b=r(b,1),c=r(c,1)}return d}for(c=qe;0<=a.compare(b);){d=Math.max(1,Math.floor(l(a)/l(b))),e=Math.ceil(Math.log(d)/Math.LN2),e=48>=e?1:Math.pow(2,e-48),f=k(d);for(var g=f.multiply(b);-1==g.U||0<g.compare(a);)d-=e,f=k(d),g=f.multiply(b);n(f)&&(f=re),c=c.add(f),a=a.add(o(g))}return c}function r(a,b){var c=b>>5;b%=32;for(var d=a.O.length-c,e=[],f=0;d>f;f++)e[f]=b>0?m(a,f+c)>>>b|m(a,f+c+1)<<32-b:m(a,f+c);return new i(e,a.U)}function s(a,b){null!=a&&this.append.apply(this,arguments)}function t(a,b){var c=Kj;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)}function u(){return new dc(null,5,[Vg,!0,hh,!0,ng,!1,rg,!1,xh,null],null)}function v(a){return null!=a&&!1!==a}function w(a){return a instanceof Array}function x(a){return null==a?!0:!1===a?!0:!1}function y(a,c){return a[b(null==c?null:c)]?!0:a._?!0:!1}function z(a,c){var d=null==c?null:c.constructor;return d=v(v(d)?d.ub:d)?d.cb:b(c),Error(["No protocol method ",a," defined for type ",d,": ",c].join(""))}function A(a){var b=a.cb;return v(b)?b:vf.a(a)}function B(a){for(var b=a.length,c=Array(b),d=0;b>d;)c[d]=a[d],d+=1;return c}function C(){}function D(){}function E(){}function F(){}function G(){}function H(){}function I(){}function J(){}function K(){}function L(){}function M(){}function N(){}function O(){}function P(){}function Q(){}function R(){}function S(){}function T(a){this.Lc=a,this.i=1073741824,this.u=0}function U(a){var b=new s;return a.$(null,new T(b),u()),vf.a(b)}function V(a){return a=jf(0|a,-862048943),jf(a<<15|a>>>-15,461845907)}function W(a,b){return a=(0|a)^(0|b),jf(a<<13|a>>>-13,5)+-430675100|0}function X(a,b){return a=(0|a)^b,a=jf(a^a>>>16,-2048144789),a=jf(a^a>>>13,-1028477387),a^a>>>16}function Y(a){a:for(var b=1,c=0;;){if(!(b<a.length)){b=c;break a}var d=b+2;c=W(c,V(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b=d}return b=1===(1&a.length)?b^V(a.charCodeAt(a.length-1)):b,X(b,jf(2,a.length))}function Z(a){if(lf>255&&(kf={},lf=0),null==a)return 0;var b=kf[a];if("number"==typeof b)a=b;else{a:if(null!=a)if(b=a.length,b>0)for(var c=0,d=0;;){if(!(b>c)){b=d;break a}var e=c+1;d=jf(31,d)+a.charCodeAt(c),c=e}else b=0;else b=0;kf[a]=b,lf+=1,a=b}return a}function $(a){if(null!=a&&(4194304&a.i||we===a.Qc))return 0^Ue(a);if("number"!=typeof a)return!0===a?a=1231:!1===a?a=1237:"string"==typeof a?(a=Z(a),0!==a&&(a=V(a),a=W(0,a),a=X(a,4))):a=a instanceof Date?0^a.valueOf():null==a?0:0^Ue(a),a;if(v(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case 1/0:return 2146435072;case-(1/0):return-1048576;default:return 2146959360}}function _(a,b){return a^b+2654435769+(a<<6)+(a>>2)}function aa(a,b,c,d,e){this.ob=a,this.name=b,this.ab=c,this.hb=d,this.Ta=e,this.i=2154168321,this.u=4096}function ba(a){return null!=a?131072&a.u||we===a.Rc?!0:a.u?!1:y(S,a):y(S,a)}function ca(a){if(null==a)return null;if(null!=a&&(8388608&a.i||we===a.ec))return Ve(a);if(w(a)||"string"==typeof a)return 0===a.length?null:new wa(a,0,null);if(y(N,a))return Ve(a);throw Error([vf.a(a)," is not ISeqable"].join(""))}function da(a){return null==a?null:null!=a&&(64&a.i||we===a.Da)?Fe(a):(a=ca(a),null==a?null:Fe(a))}function ea(a){return null!=a?null!=a&&(64&a.i||we===a.Da)?Ge(a):(a=ca(a))?a.Ca(null):wf:wf}function fa(a){return null==a?null:null!=a&&(128&a.i||we===a.rb)?He(a):ca(ea(a))}function ga(a){this.C=a}function ha(a){return new ga(ca(a))}function ia(a,b){return a=V(a),a=W(0,a),X(a,b)}function ja(a){var b=0,c=1;for(a=ca(a);;){if(null==a)return ia(c,b);b+=1,c=jf(31,c)+$(da(a))|0,a=fa(a)}}function ka(a){var b=0,c=0;for(a=ca(a);;){if(null==a)return ia(c,b);b+=1,c=c+$(da(a))|0,a=fa(a)}}function la(){this.I=!1,this.i=32768,this.u=0}function ma(a){return a instanceof la}function na(a,b){var c=Ce(a);if(0===c)return b.m?b.m():b.call(null);for(var d=Ee.b(a,0),e=1;;){if(!(c>e))return d;var f=Ee.b(a,e);if(d=b.b?b.b(d,f):b.call(null,d,f),ma(d))return Oe(d);e+=1}}function oa(a,b){var c=a.length;if(0===a.length)return b.m?b.m():b.call(null);for(var d=a[0],e=1;;){if(!(c>e))return d;var f=a[e];if(d=b.b?b.b(d,f):b.call(null,d,f),ma(d))return Oe(d);e+=1}}function pa(a,b,c){var d=a.length,e=c;for(c=0;;){if(!(d>c))return e;var f=a[c];if(e=b.b?b.b(e,f):b.call(null,e,f),ma(e))return Oe(e);c+=1}}function qa(a,b,c,d){for(var e=a.length;;){if(!(e>d))return c;var f=a[d];if(c=b.b?b.b(c,f):b.call(null,c,f),ma(c))return Oe(c);d+=1}}function ra(a){return null!=a?2&a.i||we===a.cc?!0:a.i?!1:y(C,a):y(C,a)}function sa(a){return null!=a?16&a.i||we===a.dc?!0:a.i?!1:y(E,a):y(E,a)}function ta(a,b,c){var d=za(a);if(c>=d)return-1;for(!(c>0)&&0>c&&(c+=d,c=0>c?0:c);;){if(!(d>c))return-1;if(nf.b(Ba(a,c),b))return c;c+=1}}function ua(a,b,c){var d=za(a);if(0===d)return-1;for(c>0?(--d,c=c>d?d:c):c=0>c?d+c:c;;){if(!(c>=0))return-1;if(nf.b(Ba(a,c),b))return c;--c}}function va(a,b){this.c=a,this.l=b}function wa(a,b,c){this.c=a,this.l=b,this.o=c,this.i=166592766,this.u=139264}function xa(a){return 0<a.length?new wa(a,0,null):null}function ya(a){for(;;){var b=fa(a);if(null==b)return da(a);a=b}}function za(a){if(null!=a)if(null!=a&&(2&a.i||we===a.cc))a=Ce(a);else if(w(a))a=a.length;else if("string"==typeof a)a=a.length;else if(null!=a&&(8388608&a.i||we===a.ec))a:{a=ca(a);for(var b=0;;){if(ra(a)){a=b+Ce(a);break a}a=fa(a),b+=1}}else a=Ce(a);else a=0;return a}function Aa(a,b){for(var c=null;;){if(null==a)return c;if(0===b)return ca(a)?da(a):c;if(sa(a))return Ee.f(a,b,c);if(!ca(a))return c;a=fa(a),--b}}function Ba(a,b){if("number"!=typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(16&a.i||we===a.dc))return Ee.b(a,b);if(w(a)){if(b>-1&&b<a.length)return a[0|b];throw Error("Index out of bounds")}if("string"==typeof a){if(b>-1&&b<a.length)return a.charAt(0|b);throw Error("Index out of bounds")}if(null!=a&&(64&a.i||we===a.Da)||null!=a&&(16777216&a.i||we===a.fc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");if(0===b){if(ca(a)){a=da(a);break a}throw Error("Index out of bounds")}if(sa(a)){a=Ee.b(a,b);break a}if(!ca(a))throw Error("Index out of bounds");a=fa(a),--b}return a}if(y(E,a))return Ee.b(a,b);throw Error(["nth not supported on this type ",vf.a(A(null==a?null:a.constructor))].join(""))}function Ca(a,b){if("number"!=typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return null;if(null!=a&&(16&a.i||we===a.dc))return Ee.f(a,b,null);if(w(a))return b>-1&&b<a.length?a[0|b]:null;if("string"==typeof a)return b>-1&&b<a.length?a.charAt(0|b):null;if(null!=a&&(64&a.i||we===a.Da)||null!=a&&(16777216&a.i||we===a.fc))return 0>b?null:Aa(a,b);if(y(E,a))return Ee.f(a,b,null);throw Error(["nth not supported on this type ",vf.a(A(null==a?null:a.constructor))].join(""))}function Da(a,b){this.g=a,this.o=b,this.i=393217,this.u=0}function Ea(a,c){return"function"==b(a)?new Da(a,c):null==a?null:Qe(a,c)}function Fa(a){var b=null!=a;return(b?null!=a?131072&a.i||we===a.uc||(a.i?0:y(K,a)):y(K,a):b)?Pe(a):null}function Ga(a){return null==a?!1:null!=a?4096&a.i||we===a.Xc?!0:a.i?!1:y(I,a):y(I,a)}function Ha(a){return null!=a?16777216&a.i||we===a.fc?!0:a.i?!1:y(O,a):y(O,a)}function Ia(a){return null==a?!1:null!=a?1024&a.i||we===a.Uc?!0:a.i?!1:y(H,a):y(H,a)}function Ja(a){return null!=a?67108864&a.i||we===a.Wc?!0:a.i?!1:y(Q,a):y(Q,a)}function Ka(a){return null!=a?16384&a.i||we===a.Yc?!0:a.i?!1:y(J,a):y(J,a)}function La(a){return null!=a&&(512&a.u||we===a.Oc)?!0:!1}function Ma(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}function Na(a){return null==a?!1:!1===a?!1:!0}function Oa(a,b){return rf.f(a,b,uf)===uf?!1:!0}function Pa(a,b){return(b=ca(b))?Ua(a,da(b),fa(b)):a.m?a.m():a.call(null)}function Qa(a,b,c){for(c=ca(c);;){if(!c)return b;var d=da(c);if(b=a.b?a.b(b,d):a.call(null,b,d),ma(b))return Oe(b);c=fa(c)}}function Ra(a,b){if(a=hf(a),!v(a.da()))return b.m?b.m():b.call(null);for(var c=a.next();;){if(!a.da())return c;var d=a.next();if(c=b.b?b.b(c,d):b.call(null,c,d),ma(c))return Oe(c)}}function Sa(a,b,c){for(a=hf(a);;){if(!a.da())return c;var d=a.next();if(c=b.b?b.b(c,d):b.call(null,c,d),ma(c))return Oe(c)}}function Ta(a,b){return null!=b&&(524288&b.i||we===b.wc)?Re.b(b,a):w(b)?oa(b,a):"string"==typeof b?oa(b,a):y(L,b)?Re.b(b,a):ba(b)?Ra(b,a):Pa(a,b)}function Ua(a,b,c){return null!=c&&(524288&c.i||we===c.wc)?Re.f(c,a,b):w(c)?pa(c,a,b):"string"==typeof c?pa(c,a,b):y(L,c)?Re.f(c,a,b):ba(c)?Sa(c,a,b):Qa(a,b,c)}function Va(a,b){return null!=b?Se(b,a,!0):!0}function Wa(a){return a}function Xa(a,b,c,d){return a=a.a?a.a(b):a.call(null,b),c=Ua(a,c,d),a.a?a.a(c):a.call(null,c)}function Ya(a){return a=(a-a%2)/2,a>=0?Math.floor(a):Math.ceil(a)}function Za(a){return a-=a>>1&1431655765,a=(858993459&a)+(a>>2&858993459),16843009*(a+(a>>4)&252645135)>>24}function $a(a,b){if(Ha(b))if(ra(a)&&ra(b)&&za(a)!==za(b))a=!1;else a:for(a=ca(a),b=ca(b);;){if(null==a){a=null==b;break a}if(null==b||!nf.b(da(a),da(b))){a=!1;break a}a=fa(a),b=fa(b)}else a=null;return Na(a)}function _a(a,b,c,d,e){this.o=a,this.first=b,this.Ya=c,this.count=d,this.s=e,this.i=65937646,this.u=8192}function ab(a){this.o=a,this.i=65937614,this.u=8192}function bb(a,b,c,d){this.o=a,this.first=b,this.Ya=c,this.s=d,this.i=65929452,this.u=8192}function cb(a,b){return null==b?new _a(null,a,null,1,null):null!=b&&(64&b.i||we===b.Da)?new bb(null,a,b,null):new bb(null,a,ca(b),null)}function db(a,b,c,d){this.ob=a,this.name=b,this.Na=c,this.hb=d,this.i=2153775105,this.u=4096}function eb(a,b){return a===b?!0:a instanceof db&&b instanceof db?a.Na===b.Na:!1}function fb(a){if(null!=a&&(4096&a.u||we===a.vc))return ef(a);throw Error(["Doesn't support namespace: ",vf.a(a)].join(""))}function gb(a,b,c){this.o=a,this.vb=b,this.C=null,this.s=c,this.i=32374988,this.u=1}function hb(a){return null!=a.vb&&(a.C=a.vb.m?a.vb.m():a.vb.call(null),a.vb=null),a.C}function ib(a){this.F=a,this.end=0,this.i=2,this.u=0}function jb(a){return new ib(Array(a))}function kb(a,b,c){this.c=a,this.off=b,this.end=c,this.i=524306,this.u=0}function lb(a,b,c,d){this.V=a,this.Qa=b,this.o=c,this.s=d,this.i=31850732,this.u=1536}function mb(a,b){return 0===Ce(a)?b:new lb(a,b,null,null)}function nb(a,b){a.add(b)}function ob(a,b){if(ra(b))return za(b);var c=0;for(b=ca(b);;){if(!(null!=b&&a>c))return c;c+=1,b=fa(b)}}function pb(a,b,c){var d=ca(c);if(0===b)return a.m?a.m():a.call(null);c=Fe(d);var e=Ge(d);if(1===b)return a.a?a.a(c):a.call(null,c);d=Fe(e);var f=Ge(e);if(2===b)return a.b?a.b(c,d):a.call(null,c,d);e=Fe(f);var g=Ge(f);if(3===b)return a.f?a.f(c,d,e):a.call(null,c,d,e);f=Fe(g);var h=Ge(g);if(4===b)return a.A?a.A(c,d,e,f):a.call(null,c,d,e,f);g=Fe(h);var i=Ge(h);if(5===b)return a.L?a.L(c,d,e,f,g):a.call(null,c,d,e,f,g);h=Fe(i);var j=Ge(i);if(6===b)return a.qa?a.qa(c,d,e,f,g,h):a.call(null,c,d,e,f,g,h);i=Fe(j);var k=Ge(j);if(7===b)return a.ra?a.ra(c,d,e,f,g,h,i):a.call(null,c,d,e,f,g,h,i);j=Fe(k);var l=Ge(k);if(8===b)return a.ca?a.ca(c,d,e,f,g,h,i,j):a.call(null,c,d,e,f,g,h,i,j);k=Fe(l);var m=Ge(l);if(9===b)return a.sa?a.sa(c,d,e,f,g,h,i,j,k):a.call(null,c,d,e,f,g,h,i,j,k);l=Fe(m);var n=Ge(m);if(10===b)return a.fa?a.fa(c,d,e,f,g,h,i,j,k,l):a.call(null,c,d,e,f,g,h,i,j,k,l);m=Fe(n);var o=Ge(n);if(11===b)return a.ga?a.ga(c,d,e,f,g,h,i,j,k,l,m):a.call(null,c,d,e,f,g,h,i,j,k,l,m);n=Fe(o);var p=Ge(o);if(12===b)return a.ha?a.ha(c,d,e,f,g,h,i,j,k,l,m,n):a.call(null,c,d,e,f,g,h,i,j,k,l,m,n);o=Fe(p);var q=Ge(p);if(13===b)return a.ia?a.ia(c,d,e,f,g,h,i,j,k,l,m,n,o):a.call(null,c,d,e,f,g,h,i,j,k,l,m,n,o);p=Fe(q);var r=Ge(q);if(14===b)return a.ja?a.ja(c,d,e,f,g,h,i,j,k,l,m,n,o,p):a.call(null,c,d,e,f,g,h,i,j,k,l,m,n,o,p);q=Fe(r);var s=Ge(r);if(15===b)return a.ka?a.ka(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q):a.call(null,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q);r=Fe(s);var t=Ge(s);if(16===b)return a.la?a.la(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r):a.call(null,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r);s=Fe(t);var u=Ge(t);if(17===b)return a.ma?a.ma(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s):a.call(null,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s);t=Fe(u);var v=Ge(u);if(18===b)return a.na?a.na(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t):a.call(null,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t);if(u=Fe(v),v=Ge(v),19===b)return a.oa?a.oa(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u):a.call(null,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u);var w=Fe(v);if(Ge(v),20===b)return a.pa?a.pa(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,w):a.call(null,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,w);throw Error("Only up to 20 arguments supported on functions")}function qb(a){return null!=a&&(128&a.i||we===a.rb)?a.ea(null):ca(ea(a))}function rb(a,b,c){if(null==c)a=a.a?a.a(b):a.call(a,b);else{var d=Fe(c);c=qb(c),a=null==c?a.b?a.b(b,d):a.call(a,b,d):sb(a,b,d,Fe(c),qb(c))}return a}function sb(a,b,c,d,e){return null==e?a.f?a.f(b,c,d):a.call(a,b,c,d):tb(a,b,c,d,Fe(e),qb(e))}function tb(a,b,c,d,e,f){if(null==f)return a.A?a.A(b,c,d,e):a.call(a,b,c,d,e);var g=Fe(f),h=fa(f);if(null==h)return a.L?a.L(b,c,d,e,g):a.call(a,b,c,d,e,g);f=Fe(h);var i=fa(h);if(null==i)return a.qa?a.qa(b,c,d,e,g,f):a.call(a,b,c,d,e,g,f);h=Fe(i);var j=fa(i);if(null==j)return a.ra?a.ra(b,c,d,e,g,f,h):a.call(a,b,c,d,e,g,f,h);i=Fe(j);var k=fa(j);if(null==k)return a.ca?a.ca(b,c,d,e,g,f,h,i):a.call(a,b,c,d,e,g,f,h,i);j=Fe(k);var l=fa(k);if(null==l)return a.sa?a.sa(b,c,d,e,g,f,h,i,j):a.call(a,b,c,d,e,g,f,h,i,j);k=Fe(l);var m=fa(l);if(null==m)return a.fa?a.fa(b,c,d,e,g,f,h,i,j,k):a.call(a,b,c,d,e,g,f,h,i,j,k);l=Fe(m);var n=fa(m);if(null==n)return a.ga?a.ga(b,c,d,e,g,f,h,i,j,k,l):a.call(a,b,c,d,e,g,f,h,i,j,k,l);m=Fe(n);var o=fa(n);if(null==o)return a.ha?a.ha(b,c,d,e,g,f,h,i,j,k,l,m):a.call(a,b,c,d,e,g,f,h,i,j,k,l,m);n=Fe(o);var p=fa(o);if(null==p)return a.ia?a.ia(b,c,d,e,g,f,h,i,j,k,l,m,n):a.call(a,b,c,d,e,g,f,h,i,j,k,l,m,n);o=Fe(p);var q=fa(p);if(null==q)return a.ja?a.ja(b,c,d,e,g,f,h,i,j,k,l,m,n,o):a.call(a,b,c,d,e,g,f,h,i,j,k,l,m,n,o);p=Fe(q);var r=fa(q);if(null==r)return a.ka?a.ka(b,c,d,e,g,f,h,i,j,k,l,m,n,o,p):a.call(a,b,c,d,e,g,f,h,i,j,k,l,m,n,o,p);q=Fe(r);var s=fa(r);if(null==s)return a.la?a.la(b,c,d,e,g,f,h,i,j,k,l,m,n,o,p,q):a.call(a,b,c,d,e,g,f,h,i,j,k,l,m,n,o,p,q);r=Fe(s);var t=fa(s);if(null==t)return a.ma?a.ma(b,c,d,e,g,f,h,i,j,k,l,m,n,o,p,q,r):a.call(a,b,c,d,e,g,f,h,i,j,k,l,m,n,o,p,q,r);s=Fe(t);var u=fa(t);if(null==u)return a.na?a.na(b,c,d,e,g,f,h,i,j,k,l,m,n,o,p,q,r,s):a.call(a,b,c,d,e,g,f,h,i,j,k,l,m,n,o,p,q,r,s);t=Fe(u);var v=fa(u);if(null==v)return a.oa?a.oa(b,c,d,e,g,f,h,i,j,k,l,m,n,o,p,q,r,s,t):a.call(a,b,c,d,e,g,f,h,i,j,k,l,m,n,o,p,q,r,s,t);if(u=Fe(v),v=fa(v),null==v)return a.pa?a.pa(b,c,d,e,g,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u):a.call(a,b,c,d,e,g,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u);for(b=[b,c,d,e,g,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u],c=v;c;)b.push(Fe(c)),c=fa(c);return a.apply(a,b)}function ub(a,b){if(a.aa){var c=a.M,d=ob(c+1,b);return c>=d?pb(a,d,b):a.aa(b)}return b=ca(b),null==b?a.m?a.m():a.call(a):rb(a,Fe(b),qb(b))}function vb(a,b,c,d,e,f){return a.aa?(f=yf(f),b=cb(b,cb(c,cb(d,cb(e,f)))),c=a.M,f=4+ob(c-3,f),c>=f?pb(a,f,b):a.aa(b)):tb(a,b,c,d,e,yf(f))}function wb(a){return ca(a)?a:null}function xb(){return("undefined"==typeof ue||"undefined"==typeof ve||"undefined"==typeof te)&&(te=function(a){this.Fc=a,this.i=393216,this.u=0},te.prototype.T=function(a,b){return new te(b)},te.prototype.P=function(){return this.Fc},te.prototype.da=function(){return!1},te.prototype.next=function(){return Error("No such element")},te.prototype.remove=function(){return Error("Unsupported operation")},te.Xb=function(){return new Qb(null,1,5,Hf,[Xg],null)},te.ub=!0,te.cb="cljs.core/t_cljs$core25575",te.Jb=function(a){return We(a,"cljs.core/t_cljs$core25575")}),new te(Lf)}function yb(a,b){for(;;){if(null==ca(b))return!0;var c=da(b);if(c=a.a?a.a(c):a.call(null,c),!v(c))return!1;b=fa(b)}}function zb(a){for(var b=Wa;;){if(!(a=ca(a)))return null;var c=da(a);if(c=b.a?b.a(c):b.call(null,c),v(c))return c;a=fa(a)}}function Ab(){return function(){function a(a){if(0<arguments.length)for(var b=0,c=Array(arguments.length-0);b<c.length;)c[b]=arguments[b+0],++b;return!1}return a.M=0,a.aa=function(a){return ca(a),!1},a.v=function(){return!1},a}()}function Bb(a){this.state=a,this.mc=this.Nc=this.o=null,this.u=16386,this.i=6455296}function Cb(a){return new Bb(a)}function Db(a,b){if(a instanceof Bb){var c=a.Nc;if(null!=c&&!v(c.a?c.a(b):c.call(null,b)))throw Error("Validator rejected reference state");if(c=a.state,a.state=b,null!=a.mc)a:for(var d=ca(a.mc),e=null,f=0,g=0;;)if(f>g){var h=e.G(null,g),i=Ca(h,0);h=Ca(h,1),h.A?h.A(i,a,c,b):h.call(null,i,a,c,b),g+=1}else{if(!(d=ca(d)))break a;La(d)?(e=bf(d),d=cf(d),i=e,f=za(e),e=i):(e=da(d),i=Ca(e,0),h=Ca(e,1),h.A?h.A(i,a,c,b):h.call(null,i,a,c,b),d=fa(d),e=null,f=0),g=0}return b}return ff(a,b)}function Eb(a,b){if("number"!=typeof a)throw Error("Assert failed: (number? n)");return new gb(null,function(){if(a>0){var c=ca(b);return c?cb(da(c),Eb(a-1,ea(c))):null}return null},null)}function Fb(a,b){if("number"!=typeof a)throw Error("Assert failed: (number? n)");return new gb(null,function(c){return function(){return c(a,b)}}(function(a,b){for(;;){if(b=ca(b),!(a>0&&b))return b;--a,b=ea(b)}}),null)}function Gb(a,b,c){return new gb(null,function(){var d=ca(c);if(d){var e=Eb(a,d);return a===za(e)?cb(e,Gb(a,b,Fb(b,d))):null}return null},null)}function Hb(a,b){this.J=a,this.c=b}function Ib(a){return new Hb(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function Jb(a){return a=a.j,32>a?0:a-1>>>5<<5}function Kb(a,b,c){for(;;){if(0===b)return c;var d=Ib(a);d.c[0]=c,c=d,b-=5}}function Lb(a,b){throw Error(["No item ",vf.a(a)," in vector of length ",vf.a(b)].join(""))}function Mb(a,b){if(b>=Jb(a))return a.H;var c=a.root;for(a=a.shift;;){if(!(a>0))return c.c;var d=a-5;c=c.c[b>>>a&31],a=d}}function Nb(a,b,c){this.Pb=this.l=0,this.c=a,this.Mc=b,this.start=0,this.end=c}function Ob(a,b,c,d){return d>c?Pb(a,b,Ba(a,c),c+1,d):b.m?b.m():b.call(null)}function Pb(a,b,c,d,e){var f=c;for(c=d,d=Mb(a,d);;){if(!(e>c))return f;var g=31&c;if(d=0===g?Mb(a,c):d,g=d[g],f=b.b?b.b(f,g):b.call(null,f,g),ma(f))return Oe(f);c+=1}}function Qb(a,b,c,d,e,f){this.o=a,this.j=b,this.shift=c,this.root=d,this.H=e,this.s=f,this.i=167666463,this.u=139268}function Rb(a,b,c,d,e){this.Ga=a,this.node=b,this.l=c,this.off=d,this.o=e,this.s=null,this.i=32375020,this.u=1536}function Sb(a,b){return a===b.J?b:new Hb(a,B(b.c))}function Tb(a,b,c,d){this.j=a,this.shift=b,this.root=c,this.H=d,this.u=88,this.i=275}function Ub(a,b,c){if(a.root.J){if(b>=0&&b<a.j){if(Jb(a)<=b)a.H[31&b]=c;else{var d=function(){return function(){return function d(e,f){if(f=Sb(a.root.J,f),0===e)f.c[31&b]=c;else{var g=b>>>e&31;e=d(e-5,f.c[g]),f.c[g]=e}return f}}(a)(a.shift,a.root)}();a.root=d}return a}if(b===a.j)return a.lb(null,c);throw Error(["Index ",vf.a(b)," out of bounds for TransientVector of length",vf.a(a.j)].join(""))}throw Error("assoc! after persistent!")}function Vb(){this.i=2097152,this.u=0}function Wb(a,b){return Na(Ia(b)&&!Ja(b)&&za(a)===za(b)?(null!=a?1048576&a.i||we===a.Sc||(a.i?0:y(M,a)):y(M,a))?Va(function(a,c,d){return nf.b(rf.f(b,c,Kf),d)?!0:new la},a):yb(function(a){return nf.b(rf.f(b,da(a),Kf),da(fa(a)))},a):null)}function Xb(a,b,c){this.l=0,this.Kc=a,this.$b=5,this.Ec=b,this.kc=c}function Yb(a){this.C=a}function Zb(a){this.C=a}function $b(a,b){if(b instanceof db)a:{var c=a.length;b=b.Na;for(var d=0;;){if(d>=c){a=-1;break a}if(a[d]instanceof db&&b===a[d].Na){a=d;break a}d+=2}}else if("string"==typeof b||"number"==typeof b)a:for(c=a.length,d=0;;){if(d>=c){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof aa)a:for(c=a.length,b=b.ab,d=0;;){if(d>=c){a=-1;break a}if(a[d]instanceof aa&&b===a[d].ab){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(c>=b){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=a.length,d=0;;){if(d>=c){a=-1;break a}if(nf.b(b,a[d])){a=d;break a}d+=2}return a}function _b(a,b){this.key=a,this.I=b,this.s=null,this.i=166619935,this.u=0}function ac(a){return null!=a&&(2048&a.i||we===a.Vc)?!0:!1}function bc(a,b,c){this.c=a,this.l=b,this.Ta=c,this.i=32374990,this.u=0}function cc(a,b){this.c=a,this.l=0,this.j=b}function dc(a,b,c,d){this.o=a,this.j=b,this.c=c,this.s=d,this.i=16647951,this.u=139268}function ec(a,b){this.mb={},this.nb=a,this.c=b,this.i=259,this.u=56}function fc(){this.I=!1}function gc(a,b){return a===b?!0:eb(a,b)?!0:nf.b(a,b)}function hc(a,b,c){return a=B(a),a[b]=c,a}function ic(a,b){var c=Array(a.length-2);return Ma(a,0,c,0,2*b),Ma(a,2*(b+1),c,2*b,c.length-2*b),c}function jc(a,b,c,d){return a=a.eb(b),a.c[c]=d,a}function kc(a,b,c){for(var d=a.length,e=0,f=c;;){if(!(d>e))return f;if(c=a[e],null!=c){var g=a[e+1];c=b.f?b.f(f,c,g):b.call(null,f,c,g)}else c=a[e+1],c=null!=c?c.Ab(b,f):f;if(ma(c))return c;e+=2,f=c}}function lc(a){this.c=a,this.l=0,this.Ra=this.Bb=null}function mc(a,b,c){this.J=a,this.K=b,this.c=c,this.u=131072,this.i=0}function nc(a){this.c=a,this.l=0,this.Ra=null}function oc(a,b,c){this.J=a,this.j=b,this.c=c,this.u=131072,this.i=0}function pc(a,b,c){b*=2;for(var d=0;;){if(!(b>d))return-1;if(gc(c,a[d]))return d;d+=2}}function qc(a,b,c,d){this.J=a,this.Xa=b,this.j=c,this.c=d,this.u=131072,this.i=0}function rc(a,b,c,d,e){this.o=a,this.Sa=b,this.l=c,this.C=d,this.s=e,this.i=32374988,this.u=0}function sc(a,b,c){if(null!=c)return new rc(null,a,b,c,null);for(c=a.length;;){if(!(c>b))return null;if(null!=a[b])return new rc(null,a,b,null,null);var d=a[b+1];if(v(d)&&(d=d.yb(),v(d)))return new rc(null,a,b+2,d,null);b+=2}}function tc(a,b,c,d,e){this.o=a,this.Sa=b,this.l=c,this.C=d,this.s=e,this.i=32374988,this.u=0}function uc(a,b,c){if(null!=c)return new tc(null,a,b,c,null);for(c=a.length;;){if(!(c>b))return null;var d=a[b];if(v(d)&&(d=d.yb(),v(d)))return new tc(null,a,b+1,d,null);b+=1}}function vc(a,b){this.ua=a,this.lc=b,this.Zb=!1}function wc(a,b,c,d,e,f){this.o=a,this.j=b,this.root=c,this.ya=d,this.ua=e,this.s=f,this.i=16123663,this.u=139268}function xc(a,b,c,d){this.J={},this.root=a,this.count=b,this.ya=c,this.ua=d,this.i=259,this.u=56}function yc(a,b,c){if(a.J){if(null==b)a.ua!==c&&(a.ua=c),a.ya||(a.count+=1,a.ya=!0);else{var d=new fc;b=(null==a.root?Nf:a.root).Pa(a.J,0,$(b),b,c,d),b!==a.root&&(a.root=b),d.I&&(a.count+=1)}return a}throw Error("assoc! after persistent!")}function zc(a,b){this.D=a,this.Ta=b,this.i=32374988,this.u=0}function Ac(a){return(a=ca(a))?new zc(a,null):null}function Bc(a,b){this.D=a,this.Ta=b,this.i=32374988,this.u=0}function Cc(a){return(a=ca(a))?new Bc(a,null):null}function Dc(a){this.Yb=a}function Ec(a,b,c){this.o=a,this.$a=b,this.s=c,this.i=15077647,this.u=139268}function Fc(a){this.Za=a,this.u=136,this.i=259}function Gc(a){if(null!=a&&(4096&a.u||we===a.vc))return df(a);if("string"==typeof a)return a;throw Error(["Doesn't support name: ",vf.a(a)].join(""))}function Hc(a,b,c){this.start=a,this.step=b,this.count=c,this.i=82,this.u=0}function Ic(a,b,c){this.l=a,this.end=b,this.step=c}function Jc(a,b,c,d,e,f,g){this.o=a,this.start=b,this.end=c,this.step=d,this.V=e,this.Db=f,this.s=g,this.i=32375006,this.u=140800}function Kc(a){if(null==a.V){var b=a.X(null);b>32?(a.Db=new Jc(null,a.start+32*a.step,a.end,a.step,null,null,null),a.V=new Hc(a.start,a.step,32)):a.V=new Hc(a.start,a.step,b)}}function Lc(a,b){return a>=b?wf:new Jc(null,a,b,1,null,null,null)}function Mc(a){a:for(var b=a;b=ca(b);)b=fa(b);return a}function Nc(a,b,c,d,e,f,g){var h=ze;ze=null==ze?null:ze-1;try{if(null!=ze&&0>ze)return We(a,"#");if(We(a,c),0===xh.a(f))ca(g)&&We(a,function(){var a=ih.a(f);return v(a)?a:"..."}());else{if(ca(g)){var i=da(g);b.f?b.f(i,a,f):b.call(null,i,a,f)}for(var j=fa(g),k=xh.a(f)-1;;){if(!j||null!=k&&0===k){ca(j)&&0===k&&(We(a,d),We(a,function(){var a=ih.a(f);return v(a)?a:"..."}()));break}We(a,d);var l=da(j);c=a,g=f,b.f?b.f(l,c,g):b.call(null,l,c,g);var m=fa(j);c=k-1,j=m,k=c}}return We(a,e)}finally{ze=h}}function Oc(a,b){b=ca(b);for(var c=null,d=0,e=0;;)if(d>e){var f=c.G(null,e);We(a,f),e+=1}else{if(!(b=ca(b)))return null;c=b,La(c)?(b=bf(c),d=cf(c),c=b,f=za(b),b=d,d=f):(f=da(c),We(a,f),b=fa(c),c=null,d=0),e=0}}function Pc(a){return['"',vf.a(a.replace(/[\\"\b\f\n\r\t]/g,function(a){return Sf[a]})),'"'].join("")}function Qc(a,b){return(a=Na(rf.b(a,ng)))&&(a=null!=b&&(131072&b.i||we===b.uc)?!0:!1)?null!=Fa(b):a}function Rc(a,c,d){if(null==a)return We(c,"nil");if(Qc(d,a)&&(We(c,"^"),Sc(Fa(a),c,d),We(c," ")),a.ub)return a.Jb(c);if(null!=a?2147483648&a.i||we===a.ta||(a.i?0:y(R,a)):y(R,a))return Xe(a,c,d);if(!0===a||!1===a)return We(c,vf.a(a));if("number"==typeof a)return We(c,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":vf.a(a));
if(null!=a&&a.constructor===Object)return We(c,"#js "),Vc(Cf.b(function(b){var c=/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/;if("string"!=typeof b)throw new TypeError("re-matches must match against a string.");if(c=c.exec(b),nf.b(da(c),b))if(1===za(c))c=da(c);else if(ac(c))c=new Qb(null,2,5,Hf,[Me(c),Ne(c)],null);else if(Ka(c))c=Ea(c,null);else if(w(c))a:{var d=c.length;if(32>d)c=new Qb(null,d,5,Hf,c,null);else for(var e=32,f=new Qb(null,32,5,Hf,c.slice(0,32),null).jb(null);;){if(!(d>e)){c=$e(f);break a}var g=e+1;f=Af.b(f,c[e]),e=g}}else c=$e(Ua(Ze,Ye(If),c));else c=null;return new _b(null!=c?xf.a(b):b,a[b])},h(a)),c,d);if(w(a))return Nc(c,Sc,"#js ["," ","]",d,a);if("string"==typeof a)return v(hh.a(d))?We(c,Pc(a)):We(c,a);if("function"==b(a)){var e=a.name;return d=v(function(){var a=null==e;return a?a:/^[\s\xa0]*$/.test(e)}())?"Function":e,Oc(c,xa(["#object[",d,"","]"]))}return a instanceof Date?(d=function(a,b){for(a=vf.a(a);;){if(!(za(a)<b))return a;a=["0",a].join("")}},Oc(c,xa(['#inst "',vf.a(a.getUTCFullYear()),"-",d(a.getUTCMonth()+1,2),"-",d(a.getUTCDate(),2),"T",d(a.getUTCHours(),2),":",d(a.getUTCMinutes(),2),":",d(a.getUTCSeconds(),2),".",d(a.getUTCMilliseconds(),3),"-",'00:00"']))):a instanceof RegExp?Oc(c,xa(['#"',a.source,'"'])):v(function(){var b=null==a?null:a.constructor;return null==b?null:b.cb}())?Oc(c,xa(["#object[",a.constructor.cb.replace(/\//g,"."),"]"])):(e=function(){var b=null==a?null:a.constructor;return null==b?null:b.name}(),d=v(function(){var a=null==e;return a?a:/^[\s\xa0]*$/.test(e)}())?"Object":e,null==a.constructor?Oc(c,xa(["#object[",d,"]"])):Oc(c,xa(["#object[",d," ",vf.a(a),"]"])))}function Sc(a,b,c){var d=qi.a(c);return v(d)?(c=sf.f(c,Tg,Rc),d.f?d.f(a,b,c):d.call(null,a,b,c)):Rc(a,b,c)}function Tc(a,b){var c=new s;a:{var d=new T(c);Sc(da(a),d,b),a=ca(fa(a));for(var e=null,f=0,g=0;;)if(f>g){var h=e.G(null,g);We(d," "),Sc(h,d,b),g+=1}else{if(!(a=ca(a)))break a;e=a,La(e)?(a=bf(e),f=cf(e),e=a,h=za(a),a=f,f=h):(h=da(e),We(d," "),Sc(h,d,b),a=fa(e),e=null,f=0),g=0}}return c}function Uc(a,b,c,d,e){return Nc(d,function(a,b,d){var e=Me(a);return c.f?c.f(e,b,d):c.call(null,e,b,d),We(b," "),a=Ne(a),c.f?c.f(a,b,d):c.call(null,a,b,d)},[vf.a(a),"{"].join(""),", ","}",e,ca(b))}function Vc(a,b,c){var d=Sc,e=(Ia(a),null),f=Ca(e,0);return e=Ca(e,1),v(f)?Uc(["#:",vf.a(f)].join(""),e,d,b,c):Uc(null,a,d,b,c)}function Wc(){}function Xc(){return null==Vf&&(Vf=Cb(new dc(null,3,[Fh,Lf,Zg,Lf,eh,Lf],null))),Vf}function Yc(a,b,c){var d=nf.b(b,c);if(d)return d;if(d=eh.a(a),d=d.a?d.a(b):d.call(null,b),(d=Oa(d,c))||!(d=Ka(c)))return d;if(!(d=Ka(b)))return d;if(!(d=za(c)===za(b)))return d;d=!0;for(var e=0;;){if(!d||e===za(c))return d;d=Yc(a,b.a?b.a(e):b.call(null,e),c.a?c.a(e):c.call(null,e)),e+=1}}function Zc(a){var b=Oe(Xc());return wb(rf.b(Fh.a(b),a))}function $c(a,b,c,d){Bf.b(a,function(){return Oe(b)}),Bf.b(c,function(){return Oe(d)})}function _c(a,b,c,d){return c=Wf(a,b,c),v(c)?c:Yc(d,a,b)}function ad(a,b){throw Error(["No method in multimethod '",vf.a(a),"' for dispatch value: ",vf.a(b)].join(""))}function bd(a,b,c,d,e,f,g){var h=Bg;this.name=a,this.h=b,this.Dc=h,this.Mb=c,this.Ob=d,this.Jc=e,this.Nb=f,this.Cb=g,this.i=4194305,this.u=4352}function cd(a,b,c){Bf.A(a.Ob,sf,b,c),$c(a.Nb,a.Ob,a.Cb,a.Mb)}function dd(a,b){nf.b(Oe(a.Cb),Oe(a.Mb))||$c(a.Nb,a.Ob,a.Cb,a.Mb);var c=Oe(a.Nb);return c=c.a?c.a(b):c.call(null,b),v(c)?c:Xf(a.name,b,a.Mb,a.Ob,a.Jc,a.Nb,a.Cb,a.Dc)}function ed(a,b,c,d,e){for(var f=0;e>f;)c[d+f]=a[b+f],f+=1}function fd(a){this.length=this.H=this.head=0,this.c=a}function gd(a,b){a.length+1===a.c.length&&a.resize(),a.unshift(b)}function hd(a,b){for(var c=a.length,d=0;c>d;){var e=a.pop();(b.a?b.a(e):b.call(null,e))&&a.unshift(e),d+=1}}function id(a){if(!(a>0))throw Error("Assert failed: Can't create a ring buffer of size 0\n(> n 0)");return new fd(Array(a))}function jd(a,b){this.F=a,this.n=b,this.i=2,this.u=0}function kd(a){return a.F.length===a.n}function ld(a){return-1!=Zi.indexOf(a)}function md(){var a=ke.MessageChannel;if("undefined"==typeof a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ld("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none",a.src="",document.documentElement.appendChild(a);var b=a.contentWindow;a=b.document,a.open(),a.write(""),a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host;a=e(function(a){"*"!=d&&a.origin!=d||a.data!=c||this.port1.onmessage()},this),b.addEventListener("message",a,!1),this.port1={},this.port2={postMessage:function(){b.postMessage(c,d)}}}),"undefined"!=typeof a&&!ld("Trident")&&!ld("MSIE")){var b=new a,c={},d=c;return b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.bc;c.bc=null,a()}},function(a){d.next={bc:a},d=d.next,b.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null,b.parentNode.removeChild(b),b=null,a(),a=null},document.documentElement.appendChild(b)}:function(a){ke.setTimeout(a,0)}}function nd(){dj=!0,ej=!1;for(var a=0;;){var b=cj.pop();{if(!(null!=b&&(b.m?b.m():b.call(null),1024>a)))break;a+=1}}return dj=!1,0<cj.length?od.m?od.m():od.call(null):null}function od(){return ej&&dj?null:(ej=!0,void("function"!=b(ke.setImmediate)||ke.Window&&ke.Window.prototype&&!ld("Edge")&&ke.Window.prototype.setImmediate==ke.setImmediate?(aj||(aj=md()),aj(nd)):ke.setImmediate(nd)))}function pd(a){gd(cj,a),od()}function qd(a){return("undefined"==typeof ue||"undefined"==typeof ve||"undefined"==typeof Oi||"undefined"==typeof Pi||"undefined"==typeof fj||"undefined"==typeof bj)&&(bj=function(a,b){this.I=a,this.Gc=b,this.i=425984,this.u=0},bj.prototype.T=function(a,b){return new bj(this.I,b)},bj.prototype.P=function(){return this.Gc},bj.prototype.Fb=function(){return this.I},bj.Xb=function(){return new Qb(null,2,5,Hf,[th,Ci],null)},bj.ub=!0,bj.cb="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels27491",bj.Jb=function(a){return We(a,"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels27491")}),new bj(a,Lf)}function rd(a,b){this.wb=a,this.I=b}function sd(a){return Ti(a.wb)}function td(a,b,c,d){this.gb=a,this.Lb=0,this.Ua=b,this.Kb=0,this.F=c,this.closed=!1,this.Ha=d}function ud(a){for(;;){var b=a.Ua.pop();if(null!=b){var c=b.wb;pd(function(a){return function(){return a.a?a.a(!0):a.call(null,!0)}}(c.Fa,c,b.I,b,a))}break}hd(a.Ua,Ab()),a.tb(null)}function vd(a){return console.log(a),null}function wd(a,b){var c=v(null)?null:vd;return b=c.a?c.a(b):c.call(null,b),null==b?a:Wi.b(a,b)}function xd(a){return new td(id(32),id(32),a,function(){return function(a){return function(){function b(b,c){try{return a.b?a.b(b,c):a.call(null,b,c)}catch(d){return wd(b,d)}}function c(b){try{return a.a?a.a(b):a.call(null,b)}catch(c){return wd(b,c)}}var d=null;return d=function(a,d){switch(arguments.length){case 1:return c.call(this,a);case 2:return b.call(this,a,d)}throw Error("Invalid arity: "+arguments.length)},d.a=c,d.b=b,d}()}(v(null)?null.a?null.a(Wi):null.call(null,Wi):Wi)}())}function yd(a){return("undefined"==typeof ue||"undefined"==typeof ve||"undefined"==typeof Oi||"undefined"==typeof Pi||"undefined"==typeof hj||"undefined"==typeof gj)&&(gj=function(a,b){this.Fa=a,this.Hc=b,this.i=393216,this.u=0},gj.prototype.T=function(a,b){return new gj(this.Fa,b)},gj.prototype.P=function(){return this.Hc},gj.prototype.ic=function(){return!0},gj.prototype.Ub=function(){return!0},gj.prototype.jc=function(){return this.Fa},gj.Xb=function(){return new Qb(null,2,5,Hf,[Ni,kh],null)},gj.ub=!0,gj.cb="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers27566",gj.Jb=function(a){return We(a,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers27566")}),new gj(a,Lf)}function zd(a){try{var b=a[0];return b.a?b.a(a):b.call(null,a)}catch(c){if(c instanceof Object)throw b=c,a[6].tb(null),b;throw c}}function Ad(a,b,c){return c=c.Vb(null,yd(function(c){return a[2]=c,a[1]=b,zd(a)})),v(c)?(a[2]=Oe(c),a[1]=b,Pg):null}function Bd(a,b){return a=a[6],null!=b&&a.Wb(null,b,yd(function(){return function(){return null}}(a))),a.tb(null),a}function Cd(a,b,c,d,e,f,g,h){this.Ia=a,this.Ja=b,this.La=c,this.Ka=d,this.Ma=e,this.Va=f,this.Ba=g,this.s=h,this.i=2230716170,this.u=139264}function Dd(a){for(;;){var b=a[4],c=Qg.a(b),d=Ch.a(b),e=a[5];if(v(function(){var a=e;return v(a)?x(b):a}()))throw e;if(v(function(){var a=e;return v(a)?(a=c,v(a)?nf.b(Bg,d)||e instanceof d:a):a}())){a[1]=c,a[2]=e,a[5]=null,a[4]=sf.v(b,Qg,null,xa([Ch,null]));break}if(!v(function(){var a=e;return v(a)?x(c)&&x(Cg.a(b)):a}())){if(v(function(){var a=e;return v(a)&&(a=x(c))?Cg.a(b):a}())){a[1]=Cg.a(b),a[4]=sf.f(b,Cg,null);break}if(v(function(){var a=x(e);return a?Cg.a(b):a}())){a[1]=Cg.a(b),a[4]=sf.f(b,Cg,null);break}if(x(e)&&x(Cg.a(b))){a[1]=Lh.a(b),a[4]=Hh.a(b);break}throw Error("No matching clause")}a[4]=Hh.a(b)}}function Ed(a){return("undefined"==typeof ue||"undefined"==typeof ve||"undefined"==typeof Oi||"undefined"==typeof $f)&&($f=function(a,b,c){this.Fa=a,this.ac=b,this.Ic=c,this.i=393216,this.u=0},$f.prototype.T=function(a,b){return new $f(this.Fa,this.ac,b)},$f.prototype.P=function(){return this.Ic},$f.prototype.ic=function(){return!0},$f.prototype.Ub=function(){return this.ac},$f.prototype.jc=function(){return this.Fa},$f.Xb=function(){return new Qb(null,3,5,Hf,[Ni,qg,gi],null)},$f.ub=!0,$f.cb="cljs.core.async/t_cljs$core$async27652",$f.Jb=function(a){return We(a,"cljs.core.async/t_cljs$core$async27652")}),new $f(a,!0,Lf)}function Fd(a){if(a=nf.b(a,0)?null:a,v(null)&&!v(a))throw Error("Assert failed: buffer must be supplied when transducer is\nbuf-or-n");return a="number"==typeof a?new jd(id(a),a):a,xd(a)}function Gd(a,b){return Hd(a,b)}function Hd(a,b){if(a=Qi(a,Ed(b)),v(a)){var c=Oe(a);v(!0)?b.a?b.a(c):b.call(null,c):pd(function(a){return function(){return b.a?b.a(a):b.call(null,a)}}(c,a))}return null}function Id(a,b){return a=Ri(a,b,ij),v(a)?Oe(a):!0}function Jd(a){return xf.a(da(ya(da(a.split("?")).split("/")).split(".")))}function Kd(a,b){var c=Fd(null),d=za(a);return Mc(Cf.b(function(a,b){return function(c){return Gd(mj.a?mj.a(c):mj.call(null,c),function(a){return function(b){return Id(a,b)}}(a,b))}}(c,d),a)),a=Fd(1),pd(function(a,c,d){return function(){var e=function(){return function(a){return function(){function b(b){for(;;){a:try{for(;;){var c=a(b);if(!eb(c,Pg)){var d=c;break a}}}catch(e){if(!(e instanceof Object))throw e;b[5]=e,Dd(b),d=Pg}if(!eb(d,Pg))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null];return a[0]=d,a[1]=1,a}var d=null;return d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length)},d.m=c,d.a=b,d}()}(function(a,c,d){return function(a){var e=a[1];if(7===e)return e=a[7],e=d>e,a[8]=a[2],a[1]=v(e)?8:9,Pg;if(1===e){var f=Of;return a[7]=1,a[9]=f,a[2]=null,a[1]=2,Pg}if(4===e){f=a[9];var g=a[2];e=Ca(g,0),g=Ca(g,1);var h=nj.b?nj.b(e,g):nj.call(null,e,g);return f=sf.f(f,e,h),a[12]=f,a[10]=e,a[11]=g,a[1]=v(b)?5:6,Pg}return 6===e?(a[2]=null,a[1]=7,Pg):3===e?Bd(a,a[2]):2===e?Ad(a,4,c):9===e?(f=a[12],a[2]=f,a[1]=10,Pg):5===e?(e=a[7],f=a[10],g=a[11],e=b.A?b.A(e,d,f,g):b.call(null,e,d,f,g),a[2]=e,a[1]=7,Pg):10===e?(a[2]=a[2],a[1]=3,Pg):8===e?(e=a[7],f=a[12],a[7]=e+1,a[9]=f,a[2]=null,a[1]=2,Pg):null}}(a,c,d),a,c,d)}(),f=function(){var b=e.m?e.m():e.call(null);return b[6]=a,b}();return zd(f)}}(a,c,d)),a}function Ld(a){var b=new XMLHttpRequest,c=Fd(null);return b.open("GET",a,!0),b.responseType="arraybuffer",b.onload=function(b,c){return function(){return pj.decodeAudioData(b.response,function(b,c){return function(b){return Id(c,new Qb(null,2,5,Hf,[a,b],null))}}(b,c))}}(b,c),b.send(),c}function Md(a,b){return Bf.A(qj,sf,Jd(a),b),new dc(null,1,[bi,b],null)}function Nd(){var a=Fd(null),b=function(a){return function(){return Si(a)}}(a);return vj.a?vj.a(b):vj.call(null,b),a}function Od(){var a=Fd(null);return Bf.f(wj,qf,a),a}function Pd(a){if(a instanceof db){var b=fb(a);a=[null==b?null:[b,"/"].join(""),Gc(a)].join("")}return a}function Qd(){return ld("iPhone")&&!ld("iPod")&&!ld("iPad")}function Rd(){var a=ke.document;return a?a.documentMode:void 0}function Sd(a){return t(a,function(){for(var b=0,c=ne(String(Fj)).split("."),d=ne(String(a)).split("."),e=Math.max(c.length,d.length),g=0;0==b&&e>g;g++){var h=c[g]||"",i=d[g]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],0==h[0].length&&0==i[0].length)break;b=f(0==h[1].length?0:parseInt(h[1],10),0==i[1].length?0:parseInt(i[1],10))||f(0==h[2].length,0==i[2].length)||f(h[2],i[2]),h=h[3],i=i[3]}while(0==b)}return b>=0})}function Td(a){var b=null!=a&&(64&a.i||we===a.Da)?ub(Pf,a):a;rf.f(b,ci,vi);var c=rf.f(b,_h,0);a=rf.f(b,yi,!1);var d=rf.f(b,Ii,600),e=rf.f(b,_f,0);rf.f(b,Bg,!0);var f=rf.f(b,Hg,800),g=rf.f(b,Jg,5242880);b=rf.b(b,$g);var h=window.innerWidth,i=window.innerHeight;d=new PIXI.Renderer({backgroundColor:g,width:v(a)?h:f,height:v(a)?i:d,transparent:!1,imageSmoothingEnabled:!1,antialias:!1,autoResize:!1,clearBeforeRender:!0,preserveDrawingBuffer:!1,view:b,resolution:1}),f=d.view,g=f.width;var j=f.height;if(!v(b)){if(e=xa([Ji,v(a)?0:c,xg,v(a)?0:e,Th,"absolute",Fg,"none",Dg,"none",Di,"none"]),c=za(e),"number"!=typeof c||isNaN(c)||1/0===c||parseFloat(c)!==parseInt(c,10))throw Error(["Argument must be an integer: ",vf.a(c)].join(""));if(0!==(1&c))throw Error("Assert failed: (even? (count kvs))");c=f.style,e=ca(Gb(2,2,e));for(var k=null,l=0,m=0;;)if(l>m){var n=k.G(null,m),o=Ca(n,0);n=Ca(n,1),c.setProperty(Pd(o),n),m+=1}else{if(!(e=ca(e)))break;La(e)?(l=bf(e),e=cf(e),k=l,l=za(l)):(l=da(e),k=Ca(l,0),l=Ca(l,1),c.setProperty(Pd(k),l),e=fa(e),k=null,l=0),m=0}document.body.appendChild(f)}return d.resize(v(a)?h:g,v(a)?i:j),new dc(null,2,[_g,d,$g,v(b)?b:f],null)}function Ud(a){var b=null!=a&&(64&a.i||we===a.Da)?ub(Pf,a):a,c=rf.f(b,Rh,new Qb(null,6,5,Hf,[ri,Ai,jh,ii,vh,ai],null)),d=rf.f(b,fg,Lf),e=rf.f(b,Nh,Lf),f=new PIXI.Container,g=Cf.b(function(){return function(){return new PIXI.Container}}(f,a,b,c,d,e),c);return new dc(null,5,[og,f,fg,d,Nh,e,Rh,c,ph,Ef.b(Lf,function(){return function(a,b,c,d,e,f,g){return function h(i){return new gb(null,function(){return function(){for(;;){var a=ca(i);if(a){if(La(a)){var b=bf(a),c=za(b),d=jb(c);a:for(var e=0;;){if(!(c>e)){b=!0;break a}var f=Ee.b(b,e),g=Ca(f,0);f=Ca(f,1),d.add(new Qb(null,2,5,Hf,[g,f],null)),e+=1}return b?mb(d.V(),h(cf(a))):mb(d.V(),null)}return b=da(a),d=Ca(b,0),b=Ca(b,1),cb(new Qb(null,2,5,Hf,[d,b],null),h(ea(a)))}return null}}}(a,b,c,d,e,f,g),null)}}(f,g,a,b,c,d,e)(Gb(2,2,Df.b(c,g)))}())],null)}function Vd(a,b,c,d){var e=Ca(d,0);d=Ca(d,1);var f=a.width;a=a.height;var g=Math.round(f/2),h=Math.round(a/2);switch(c instanceof db?c.Na:null){case"center":return b.position.x=e+g,b.position.y=d+h;case"top":return b.position.x=e+g,b.position.y=d;case"bottom":return b.position.x=e+g,b.position.y=d+a;case"left":return b.position.x=e,b.position.y=d+h;case"right":return b.position.x=e+f,b.position.y=d+h;case"top-left":return b.position.x=e,b.position.y=d;case"top-right":return b.position.x=e+f,b.position.y=d;case"bottom-left":return b.position.x=e,b.position.y=d+a;case"bottom-right":return b.position.x=e+f,b.position.y=d+a;default:return b.position.x=e+g,b.position.y=d+h}}function Wd(){var a=new dc(null,5,[Rh,new Qb(null,5,5,Hf,[si,qh,zi,ah,vh],null),Jg,Vj,yi,!0,fg,new dc(null,2,[zi,gh,ah,xg],null),Nh,new dc(null,2,[zi,new Qb(null,2,5,Hf,[40,-40],null),ah,new Qb(null,2,5,Hf,[0,40],null)],null)],null),b=Ef.b(Td(a),Ud(a)),c=null!=b&&(64&b.i||we===b.Da)?ub(Pf,b):b,d=rf.b(c,Ei),e=rf.f(c,fg,Lf),f=rf.b(c,og),g=rf.f(c,Bg,!0),h=rf.b(c,$g),i=rf.b(c,_g),j=rf.b(c,ph),k=rf.b(c,Qh),l=rf.f(c,Nh,Lf),m=rf.b(c,Rh);Mc(Cf.b(function(a,b,c,d,e,f,g,h,i,j,k,l){return function(a){var b=Ca(a,0);return a=Ca(a,1),f.addChild(a),Vd(h,a,function(){var a=e.a?e.a(b):e.call(null,b);return v(a)?a:ch}(),function(){var a=l.a?l.a(b):l.call(null,b);return v(a)?a:new Qb(null,2,5,Hf,[0,0],null)}())}}(b,c,c,d,e,f,g,h,i,j,k,l,m),j)),i.render(f);var n=function(a,b,c,d,e,f,g,h,i){return function(){return i.render(f)}}(b,c,c,d,e,f,g,h,i,j,k,l,m),o=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){return function(o,p){return j.resize(o,p),Mc(Cf.b(function(a,b,c,d,e,f,g,h,i,j,k,l,m){return function(a){var b=Ca(a,0);return a=Ca(a,1),Vd(i,a,function(){var a=f.a?f.a(b):f.call(null,b);return v(a)?a:ch}(),function(){var a=m.a?m.a(b):m.call(null,b);return v(a)?a:new Qb(null,2,5,Hf,[0,0],null)}())}}(a,b,c,d,e,f,g,h,i,j,k,l,m,n),k))}}(n,b,c,c,d,e,f,g,h,i,j,k,l,m),p=function(a,b){return function(){return b(window.innerWidth,window.innerHeight)}}(n,o,b,c,c,d,e,f,g,h,i,j,k,l,m),q=function(){return function(a){return console.log("FULLSCREEN",a),v(a)?v(document.body.requestFullscreen)?document.body.requestFullscreen():v(document.body.webkitRequestFullscreen)?document.body.webkitRequestFullscreen():v(document.body.mozRequestFullScreen)?document.body.mozRequestFullScreen():null:document.webkitCancelFullScreen()}}(n,o,p,b,c,c,d,e,f,g,h,i,j,k,l,m);return a=v(yi.a(a))?function(){var a=Od(),r=Fd(1);return pd(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){return function(){var t=function(){return function(a){return function(){function b(b){for(;;){a:try{for(;;){var c=a(b);if(!eb(c,Pg)){var d=c;break a}}}catch(e){if(!(e instanceof Object))throw e;b[5]=e,Dd(b),d=Pg}if(!eb(d,Pg))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null];return a[0]=d,a[1]=1,a}var d=null;return d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length)},d.m=c,d.a=b,d}()}(function(a,b,c,d){return function(a){var e=a[1];if(1===e)return a[2]=null,a[1]=2,Pg;if(2===e)return a[1]=4,Pg;if(3===e)return Bd(a,a[2]);if(4===e)return Ad(a,7,b);if(5===e)return a[2]=null,a[1]=6,Pg;if(6===e)return a[2]=a[2],a[1]=3,Pg;if(7===e){var f=a[2];return e=Ca(f,0),f=Ca(f,1),e=d(e,f),f=c(),a[7]=f,a[8]=e,a[2]=null,a[1]=2,Pg}return null}}(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s),a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s)}(),u=function(){var b=t.m?t.m():t.call(null);return b[6]=a,b}();return zd(u)}}(r,a,n,o,p,q,b,c,c,d,e,f,g,h,i,j,k,l,m)),r}():null,Mj=function(a){return function(){return vj.a?vj.a(Mj):vj.call(null,Mj),a()}}(n,o,p,q,a,b,c,c,d,e,f,g,h,i,j,k,l,m),Mj(),a=Ef.b(c,new dc(null,4,[ug,n,Fi,o,gg,q,Ph,p],null)),v(k)||ya(m),a}function Xd(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}function Yd(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}function Zd(a,b){var c=new Float64Array(2);return c[0]=a,c[1]=b,c}function $d(a){var b=Oe(Qj);if(b=b.a?b.a(a):b.call(null,a),v(b))return b;throw Error(["Texture ",vf.a(a)," not loaded"].join(""))}function _d(a,b,c){var d=null!=c&&(64&c.i||we===c.Da)?ub(Pf,c):c,e=rf.f(d,li,8421504),f=rf.f(d,fi,0);c=rf.f(d,hi,!1);var g=rf.f(d,Gi,0),h=rf.f(d,Ii,40),i=rf.b(d,zg),j=rf.f(d,Hg,600),k=rf.f(d,Kg,1),l=rf.f(d,oh,16777215),m=rf.f(d,nh,2),n=rf.f(d,yh,0),o=rf.b(d,Wh);d=rf.f(d,Uh,1);var p=new PIXI.Graphics;return p.beginFill(n),p.lineStyle(0,l),p.drawRect(0,0,j,h),p.lineStyle(0,l),p.beginFill(e),p.drawRect(m,m,(1>b?b:1)*(j-m-m),h-m-m),p.endFill(),b=(1>b?b:1)*j,e=m+g,g=b-g,n=m+f,f=h-m-f,b>0&&(v(i)&&(p.lineStyle(d,i),p.moveTo(e,f),p.lineTo(e,n),p.lineTo(g,n)),v(o)&&(p.lineStyle(k,o),p.moveTo(e,f),p.lineTo(g,f),p.lineTo(g,n))),v(c)&&(p.lineStyle(m,l),p.drawRect(0,0,j,h)),a.generateTexture(p,PIXI.SCALE_MODES.LINEAR,1)}function ae(a,b,c){var d=_d(a,0,c);c=xa([wg,rf.f(c,wg,1)]);var e=null!=c&&(64&c.i||we===c.Da)?ub(Pf,c):c;c=rf.b(e,ei);var f=rf.b(e,_h);a=rf.b(e,mi);var g=rf.f(e,ni,!0),h=rf.b(e,wi),i=rf.b(e,Bi),j=rf.f(e,Mi,.5),k=rf.b(e,bg),l=rf.b(e,_f),m=rf.f(e,cg,!1),n=rf.b(e,jg),o=rf.f(e,mg,0),p=rf.b(e,sg),q=rf.f(e,wg,1),r=rf.f(e,Ng,Zd.b?Zd.b(0,0):Zd.call(null,0,0)),s=rf.b(e,bh),t=rf.b(e,mh),u=rf.b(e,wh),w=rf.f(e,Bh,.5),x=rf.b(e,Eh),y=rf.b(e,Ih);if(e=rf.f(e,Mh,1),d=v(m)?new PIXI.extras.TilingSprite(d instanceof db?$d(d):d,u,y):new PIXI.Sprite(d instanceof db?$d(d):d),!v(d))throw Error("Assert failed: creation of sprite failed and returned nil\ns");return d.anchor=new PIXI.Point(j,w),v(r)&&(d.x=r[0],d.y=r[1]),v(f)&&(d.x=f),v(l)&&(d.y=l),d.rotation=o,d.visible=g,nf.b(q,1)||("number"==typeof q?q=new PIXI.Point(q,q):(f=rf.b(q,0),q=rf.b(q,1),q=new PIXI.Point(f,q)),d.scale=q),nf.b(1,e)||(d.alpha=e),d.interactive=v(t)?t:v(a)?a:v(k)?k:v(h)?h:v(n)?n:v(i)?i:v(x)?x:c,v(a)&&(d.mousedown=a),v(t)&&(d.mousemove=t),v(k)&&(d.mouseup=k),v(h)&&(d.mouseupoutside=h),v(i)&&(d.touchdown=i),v(n)&&(d.touchmove=n),v(x)&&(d.touchup=x),v(c)&&(d.touchupoutside=c),null!=p&&(d.buttonMode=p),v(s)&&(d.tint=s),d.alpha=0,b.addChild(d),d}function be(a,b){return Bf.A(Sj,sf,Jd(a),b),b}function ce(a){var b=Fd(null),c=new Image;return c.crossOrigin="",c.onload=function(b,c){return function(){return Id(b,new Qb(null,2,5,Hf,[a,new dc(null,3,[di,new PIXI.Texture(new PIXI.BaseTexture(c,{scaleMode:PIXI.SCALE_MODES.LINEAR})),dg,new PIXI.Texture(new PIXI.BaseTexture(c,{scaleMode:PIXI.SCALE_MODES.NEAREST})),Vh,c],null)],null))}}(b,c),c.onerror=function(b){return function(){return Id(b,new Qb(null,2,5,Hf,[a,null],null))}}(b,c),c.onabort=function(){return function(){return alert("abort")}}(b,c),c.src=a,b}function de(a,b){var c=null!=b&&(64&b.i||we===b.Da)?ub(Pf,b):b,d=rf.f(c,Sg,1),e=rf.f(c,Ig,null),f=rf.f(c,ki,0),g=null==e?a.alpha:e,h=60*d,i=Fd(1);return pd(function(b,c,d,e,f,g,h,i){return function(){var j=function(){return function(a){return function(){function b(b){for(;;){a:try{for(;;){var c=a(b);if(!eb(c,Pg)){var d=c;break a}}}catch(e){if(!(e instanceof Object))throw e;b[5]=e,Dd(b),d=Pg}if(!eb(d,Pg))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null];return a[0]=d,a[1]=1,a}var d=null;return d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length)},d.m=c,d.a=b,d}()}(function(b,c,d,e,f,g,h,i){return function(b){var e=b[1];if(1===e)return e=d,b[7]=e,b[2]=null,b[1]=2,Pg;if(2===e)return e=Nd(),Ad(b,4,e);if(3===e)return Bd(b,b[2]);if(4===e){e=b[7];var f=b[2],g=a.alpha=i+e/d*(c-i);return b[8]=g,b[9]=f,b[1]=v(e>0)?5:6,Pg}return 5===e?(e=b[7],b[7]=e-1,b[2]=null,b[1]=2,Pg):6===e?(b[2]=null,b[1]=7,Pg):7===e?(b[2]=b[2],b[1]=3,Pg):null}}(b,c,d,e,f,g,h,i),b,c,d,e,f,g,h,i)}(),k=function(){var a=j.m?j.m():j.call(null);return a[6]=b,a}();return zd(k)}}(i,g,h,b,c,d,e,f)),i}function ee(a,b){var c=null!=b&&(64&b.i||we===b.Da)?ub(Pf,b):b,d=rf.f(c,Sg,1),e=rf.f(c,Ig,0),f=rf.f(c,ki,1),g=60*d,h=Fd(1);return pd(function(b,c,d,e,f,g,h){return function(){var i=function(){return function(a){return function(){function b(b){for(;;){a:try{for(;;){var c=a(b);if(!eb(c,Pg)){var d=c;break a}}}catch(e){if(!(e instanceof Object))throw e;b[5]=e,Dd(b),d=Pg}if(!eb(d,Pg))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null];return a[0]=d,a[1]=1,a}var d=null;return d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length)},d.m=c,d.a=b,d}()}(function(b,c,d,e,f,g,h){return function(b){var d=b[1];if(1===d)return d=c,b[7]=d,b[2]=null,b[1]=2,Pg;if(2===d)return d=Nd(),Ad(b,4,d);if(3===d)return Bd(b,b[2]);if(4===d){d=b[7];var e=b[2],f=a.alpha=g+(c-d)/c*(h-g);return b[8]=f,b[9]=e,b[1]=v(d>0)?5:6,Pg}return 5===d?(d=b[7],b[7]=d-1,b[2]=null,b[1]=2,Pg):6===d?(b[2]=null,b[1]=7,Pg):7===d?(b[2]=b[2],b[1]=3,Pg):null}}(b,c,d,e,f,g,h),b,c,d,e,f,g,h)}(),j=function(){var a=i.m?i.m():i.call(null);return a[6]=b,a}();return zd(j)}}(h,g,b,c,d,e,f)),h}function fe(a){for(var b=[],c=arguments.length,d=0;c>d;)b.push(arguments[d]),d+=1;return ge(arguments[0],arguments[1],arguments[2],3<b.length?new wa(b.slice(3),0,null):null)}function ge(a,b,c,d){var e=null!=a&&(64&a.i||we===a.Da)?ub(Pf,a):a,f=rf.b(e,_g),g=null!=d&&(64&d.i||we===d.Da)?ub(Pf,d):d,h=rf.f(g,Li,.01),i=rf.f(g,Ag,.01),j=ae(f,function(){var a=ph.a(e);if(a=b.a?b.a(a):b.call(null,a),v(a))return a;throw Error(["canvas layer ",vf.a(b)," not found."].join(""))}(),g),k=Fd(1);return pd(function(a,d,e,f,g,h,i,j,k,l,m){return function(){var n=function(){return function(a){return function(){function b(b){for(;;){a:try{for(;;){var c=a(b);if(!eb(c,Pg)){var d=c;break a}}}catch(e){if(!(e instanceof Object))throw e;b[5]=e,Dd(b),d=Pg}if(!eb(d,Pg))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null,null];return a[0]=d,a[1]=1,a}var d=null;return d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length)},d.m=c,d.a=b,d}()}(function(a,d,e,f,g,h,i,j,k,l,m){return function(n){var o=n[1];if(1===o){var p=ee(d,xa([Sg,l]));return Ad(n,2,p)}if(2===o){var q=n[2];return p=Kd(c,function(){return function(a,b,c,d,e,f,g,h,i,j,k){return function(a,b){return d.texture=_d(h,a/b,k)}}(q,o,a,d,e,f,g,h,i,j,k,l,m)}()),n[7]=q,Ad(n,3,p)}if(3===o){p=n[2];var r=de(d,xa([Sg,m]));return n[8]=p,Ad(n,4,r)}if(4===o){p=n[8],r=n[2];var s=ph.a(g);return s=(b.a?b.a(s):b.call(null,s)).removeChild(d),n[9]=s,n[10]=r,Bd(n,p)}return null}}(a,d,e,f,g,h,i,j,k,l,m),a,d,e,f,g,h,i,j,k,l,m)}(),o=function(){var b=n.m?n.m():n.call(null);return b[6]=a,b}();return zd(o)}}(k,j,a,e,e,f,d,g,g,h,i)),k}function he(a,b,c){return a.uniforms[b]=c}function ie(a,b,c,d,e){a[4*b+2048*c]=d,a[1+4*b+2048*c]=e,a[2+4*b+2048*c]=0,a[3+4*b+2048*c]=255}var je,ke=this,le="closure_uid_"+(1e9*Math.random()>>>0),me=0,ne=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},oe={},pe=4294967296,qe=j(0),re=j(1),se=j(16777216);je=i.prototype,je.toString=function(a){if(a=a||10,2>a||a>36)throw Error("radix out of range: "+a);if(n(this))return"0";if(-1==this.U)return"-"+o(this).toString(a);for(var b=k(Math.pow(a,6)),c=this,d="";;){var e=q(c,b),f=e.multiply(b);if(c=c.add(o(f)),f=((0<c.O.length?c.O[0]:c.U)>>>0).toString(a),c=e,n(c))return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}},je.equals=function(a){if(this.U!=a.U)return!1;for(var b=Math.max(this.O.length,a.O.length),c=0;b>c;c++)if(m(this,c)!=m(a,c))return!1;return!0},je.compare=function(a){return a=this.add(o(a)),-1==a.U?-1:n(a)?0:1},je.add=function(a){for(var b=Math.max(this.O.length,a.O.length),c=[],d=0,e=0;b>=e;e++){var f=d+(65535&m(this,e))+(65535&m(a,e)),g=(f>>>16)+(m(this,e)>>>16)+(m(a,e)>>>16);d=g>>>16,f&=65535,g&=65535,c[e]=g<<16|f}return new i(c,-2147483648&c[c.length-1]?-1:0)},je.multiply=function(a){if(n(this)||n(a))return qe;if(-1==this.U)return-1==a.U?o(this).multiply(o(a)):o(o(this).multiply(a));if(-1==a.U)return o(this.multiply(o(a)));if(0>this.compare(se)&&0>a.compare(se))return k(l(this)*l(a));for(var b=this.O.length+a.O.length,c=[],d=0;2*b>d;d++)c[d]=0;for(d=0;d<this.O.length;d++)for(var e=0;e<a.O.length;e++){var f=m(this,d)>>>16,g=65535&m(this,d),h=m(a,e)>>>16,j=65535&m(a,e);c[2*d+2*e]+=g*j,p(c,2*d+2*e),c[2*d+2*e+1]+=f*j,p(c,2*d+2*e+1),c[2*d+2*e+1]+=g*h,p(c,2*d+2*e+1),c[2*d+2*e+2]+=f*h,p(c,2*d+2*e+2)}for(d=0;b>d;d++)c[d]=c[2*d+1]<<16|c[2*d];for(d=b;2*b>d;d++)c[d]=0;return new i(c,0)},je.and=function(a){for(var b=Math.max(this.O.length,a.O.length),c=[],d=0;b>d;d++)c[d]=m(this,d)&m(a,d);return new i(c,this.U&a.U)},je.or=function(a){for(var b=Math.max(this.O.length,a.O.length),c=[],d=0;b>d;d++)c[d]=m(this,d)|m(a,d);return new i(c,this.U|a.U)},je.xor=function(a){for(var b=Math.max(this.O.length,a.O.length),c=[],d=0;b>d;d++)c[d]=m(this,d)^m(a,d);return new i(c,this.U^a.U)},je.shiftLeft=function(a){var b=a>>5;a%=32;for(var c=this.O.length+b+(a>0?1:0),d=[],e=0;c>e;e++)d[e]=a>0?m(this,e-b)<<a|m(this,e-b-1)>>>32-a:m(this,e-b);return new i(d,this.U)},je=s.prototype,je.bb="",je.set=function(a){this.bb=""+a},je.append=function(a,b,c){if(this.bb+=String(a),null!=b)for(var d=1;d<arguments.length;d++)this.bb+=arguments[d];return this},je.clear=function(){this.bb=""},je.toString=function(){return this.bb};var te,ue={},ve={};if("undefined"==typeof ue||"undefined"==typeof ve||"undefined"==typeof we)var we={};if("undefined"==typeof ue||"undefined"==typeof ve||"undefined"==typeof xe)var xe=null;if("undefined"==typeof ue||"undefined"==typeof ve||"undefined"==typeof ye)var ye=null;var ze=null;if("undefined"==typeof ue||"undefined"==typeof ve||"undefined"==typeof Ae)var Ae=null;var Be="undefined"!=typeof Symbol&&"function"===b(Symbol)?Symbol.iterator:"@@iterator",Ce=function Yj(a){if(null!=a&&null!=a.X)return a.X(a);var c=Yj[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=Yj._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("ICounted.-count",a)},De=function Zj(a,c){if(null!=a&&null!=a.ba)return a.ba(a,c);var d=Zj[b(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);if(d=Zj._,null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw z("ICollection.-conj",a)},Ee=function $j(a){switch(arguments.length){case 2:return $j.b(arguments[0],arguments[1]);case 3:return $j.f(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",vf.a(arguments.length)].join(""))}};Ee.b=function(a,c){if(null!=a&&null!=a.G)return a.G(a,c);var d=Ee[b(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);if(d=Ee._,null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw z("IIndexed.-nth",a)},Ee.f=function(a,c,d){if(null!=a&&null!=a.wa)return a.wa(a,c,d);var e=Ee[b(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);if(e=Ee._,null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw z("IIndexed.-nth",a)},Ee.M=3;var Fe=function _j(a){if(null!=a&&null!=a.xa)return a.xa(a);var c=_j[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=_j._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("ISeq.-first",a)},Ge=function ak(a){if(null!=a&&null!=a.Ca)return a.Ca(a);var c=ak[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=ak._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("ISeq.-rest",a)},He=function bk(a){if(null!=a&&null!=a.ea)return a.ea(a);var c=bk[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=bk._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("INext.-next",a)},Ie=function ck(a){switch(arguments.length){case 2:return ck.b(arguments[0],arguments[1]);case 3:return ck.f(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",vf.a(arguments.length)].join(""))}};Ie.b=function(a,c){if(null!=a&&null!=a.R)return a.R(a,c);var d=Ie[b(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);if(d=Ie._,null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw z("ILookup.-lookup",a)},Ie.f=function(a,c,d){if(null!=a&&null!=a.B)return a.B(a,c,d);var e=Ie[b(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);if(e=Ie._,null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw z("ILookup.-lookup",a)},Ie.M=3;var Je=function dk(a,c,d){if(null!=a&&null!=a.Wa)return a.Wa(a,c,d);var e=dk[b(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);if(e=dk._,null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw z("IAssociative.-assoc",a)},Ke=function ek(a,c){if(null!=a&&null!=a.pb)return a.pb(a,c);var d=ek[b(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);if(d=ek._,null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw z("IFind.-find",a)},Le=function fk(a,c){if(null!=a&&null!=a.Gb)return a.Gb(a,c);var d=fk[b(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);if(d=fk._,null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw z("IMap.-dissoc",a)},Me=function gk(a){if(null!=a&&null!=a.sc)return a.key;var c=gk[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=gk._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("IMapEntry.-key",a)},Ne=function hk(a){if(null!=a&&null!=a.tc)return a.I;var c=hk[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=hk._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("IMapEntry.-val",a)},Oe=function ik(a){
if(null!=a&&null!=a.Fb)return a.Fb(a);var c=ik[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=ik._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("IDeref.-deref",a)},Pe=function jk(a){if(null!=a&&null!=a.P)return a.P(a);var c=jk[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=jk._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("IMeta.-meta",a)},Qe=function kk(a,c){if(null!=a&&null!=a.T)return a.T(a,c);var d=kk[b(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);if(d=kk._,null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw z("IWithMeta.-with-meta",a)},Re=function lk(a){switch(arguments.length){case 2:return lk.b(arguments[0],arguments[1]);case 3:return lk.f(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",vf.a(arguments.length)].join(""))}};Re.b=function(a,c){if(null!=a&&null!=a.za)return a.za(a,c);var d=Re[b(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);if(d=Re._,null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw z("IReduce.-reduce",a)},Re.f=function(a,c,d){if(null!=a&&null!=a.Aa)return a.Aa(a,c,d);var e=Re[b(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);if(e=Re._,null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw z("IReduce.-reduce",a)},Re.M=3;var Se=function mk(a,c,d){if(null!=a&&null!=a.qb)return a.qb(a,c,d);var e=mk[b(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);if(e=mk._,null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw z("IKVReduce.-kv-reduce",a)},Te=function nk(a,c){if(null!=a&&null!=a.w)return a.w(a,c);var d=nk[b(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);if(d=nk._,null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw z("IEquiv.-equiv",a)},Ue=function ok(a){if(null!=a&&null!=a.Z)return a.Z(a);var c=ok[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=ok._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("IHash.-hash",a)},Ve=function pk(a){if(null!=a&&null!=a.Y)return a.Y(a);var c=pk[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=pk._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("ISeqable.-seq",a)},We=function qk(a,c){if(null!=a&&null!=a.gc)return a.gc(a,c);var d=qk[b(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);if(d=qk._,null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw z("IWriter.-write",a)},Xe=function rk(a,c,d){if(null!=a&&null!=a.$)return a.$(a,c,d);var e=rk[b(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);if(e=rk._,null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw z("IPrintWithWriter.-pr-writer",a)},Ye=function sk(a){if(null!=a&&null!=a.jb)return a.jb(a);var c=sk[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=sk._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("IEditableCollection.-as-transient",a)},Ze=function tk(a,c){if(null!=a&&null!=a.lb)return a.lb(a,c);var d=tk[b(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);if(d=tk._,null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw z("ITransientCollection.-conj!",a)},$e=function uk(a){if(null!=a&&null!=a.sb)return a.sb(a);var c=uk[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=uk._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("ITransientCollection.-persistent!",a)},_e=function vk(a,c,d){if(null!=a&&null!=a.kb)return a.kb(a,c,d);var e=vk[b(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);if(e=vk._,null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw z("ITransientAssociative.-assoc!",a)},af=function wk(a){if(null!=a&&null!=a.Qb)return a.Qb(a);var c=wk[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=wk._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("IChunk.-drop-first",a)},bf=function xk(a){if(null!=a&&null!=a.Eb)return a.Eb(a);var c=xk[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=xk._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("IChunkedSeq.-chunked-first",a)},cf=function yk(a){if(null!=a&&null!=a.ib)return a.ib(a);var c=yk[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=yk._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("IChunkedSeq.-chunked-rest",a)},df=function zk(a){if(null!=a&&null!=a.Hb)return a.Hb(a);var c=zk[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=zk._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("INamed.-name",a)},ef=function Ak(a){if(null!=a&&null!=a.Ib)return a.Ib(a);var c=Ak[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=Ak._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("INamed.-namespace",a)},ff=function Bk(a,c){if(null!=a&&null!=a.xc)return a.xc(a,c);var d=Bk[b(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);if(d=Bk._,null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw z("IReset.-reset!",a)},gf=function Ck(a){switch(arguments.length){case 2:return Ck.b(arguments[0],arguments[1]);case 3:return Ck.f(arguments[0],arguments[1],arguments[2]);case 4:return Ck.A(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ck.L(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",vf.a(arguments.length)].join(""))}};gf.b=function(a,c){if(null!=a&&null!=a.yc)return a.yc(a,c);var d=gf[b(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);if(d=gf._,null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw z("ISwap.-swap!",a)},gf.f=function(a,c,d){if(null!=a&&null!=a.zc)return a.zc(a,c,d);var e=gf[b(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);if(e=gf._,null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw z("ISwap.-swap!",a)},gf.A=function(a,c,d,e){if(null!=a&&null!=a.Ac)return a.Ac(a,c,d,e);var f=gf[b(null==a?null:a)];if(null!=f)return f.A?f.A(a,c,d,e):f.call(null,a,c,d,e);if(f=gf._,null!=f)return f.A?f.A(a,c,d,e):f.call(null,a,c,d,e);throw z("ISwap.-swap!",a)},gf.L=function(a,c,d,e,f){if(null!=a&&null!=a.Bc)return a.Bc(a,c,d,e,f);var g=gf[b(null==a?null:a)];if(null!=g)return g.L?g.L(a,c,d,e,f):g.call(null,a,c,d,e,f);if(g=gf._,null!=g)return g.L?g.L(a,c,d,e,f):g.call(null,a,c,d,e,f);throw z("ISwap.-swap!",a)},gf.M=5;var hf=function Dk(a){if(null!=a&&null!=a.Ea)return a.Ea(a);var c=Dk[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=Dk._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("IIterable.-iterator",a)};T.prototype.gc=function(a,b){return this.Lc.append(b)};var jf="undefined"!=typeof Math&&"undefined"!=typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=65535&a,d=65535&b;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0},kf={},lf=0;je=aa.prototype,je.toString=function(){return this.ab},je.equiv=function(a){return this.w(null,a)},je.w=function(a,b){return b instanceof aa?this.ab===b.ab:!1},je.call=function(){var a=null;return a=function(a,b,c){switch(arguments.length){case 2:return rf.b(b,this);case 3:return rf.f(b,this,c)}throw Error("Invalid arity: "+(arguments.length-1))},a.b=function(a,b){return rf.b(b,this)},a.f=function(a,b,c){return rf.f(b,this,c)},a}(),je.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))},je.a=function(a){return rf.b(a,this)},je.b=function(a,b){return rf.f(a,this,b)},je.P=function(){return this.Ta},je.T=function(a,b){return new aa(this.ob,this.name,this.ab,this.hb,b)},je.Z=function(){var a=this.hb;return null!=a?a:this.hb=a=_(Y(this.name),Z(this.ob))},je.Hb=function(){return this.name},je.Ib=function(){return this.ob},je.$=function(a,b){return We(b,this.ab)};var mf=function Ek(a){switch(arguments.length){case 1:return Ek.a(arguments[0]);case 2:return Ek.b(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",vf.a(arguments.length)].join(""))}};mf.a=function(a){for(;;){if(a instanceof aa)return a;if("string"==typeof a){var b=a.indexOf("/");return 1>b?mf.b(null,a):mf.b(a.substring(0,b),a.substring(b+1,a.length))}if(!(a instanceof db))throw Error("no conversion to symbol");a=a.Na}},mf.b=function(a,b){var c=null!=a?[vf.a(a),"/",vf.a(b)].join(""):b;return new aa(a,b,c,null,null)},mf.M=2;var nf=function Fk(a){switch(arguments.length){case 1:return Fk.a(arguments[0]);case 2:return Fk.b(arguments[0],arguments[1]);default:for(var b=[],c=arguments.length,d=0;c>d;)b.push(arguments[d]),d+=1;return Fk.v(arguments[0],arguments[1],new wa(b.slice(2),0,null))}};nf.a=function(){return!0},nf.b=function(a,b){return null==a?null==b:a===b||Te(a,b)},nf.v=function(a,b,c){for(;;){if(!nf.b(a,b))return!1;if(!fa(c))return nf.b(b,da(c));a=b,b=da(c),c=fa(c)}},nf.aa=function(a){var b=da(a),c=fa(a);return a=da(c),c=fa(c),this.v(b,a,c)},nf.M=2,ga.prototype.next=function(){if(null!=this.C){var a=da(this.C);return this.C=fa(this.C),{value:a,done:!1}}return{value:null,done:!0}};var of=ia(1,0),pf=ia(0,0);C["null"]=!0,Ce["null"]=function(){return 0},Date.prototype.w=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()},Te.number=function(a,b){return a===b},K["function"]=!0,Pe["function"]=function(){return null},Ue._=function(a){return a[le]||(a[le]=++me)},la.prototype.Fb=function(){return this.I},va.prototype.da=function(){return this.l<this.c.length},va.prototype.next=function(){var a=this.c[this.l];return this.l+=1,a},je=wa.prototype,je.toString=function(){return U(this)},je.equiv=function(a){return this.w(null,a)},je.indexOf=function(){var a=null;return a=function(a,b){switch(arguments.length){case 1:return ta(this,a,0);case 2:return ta(this,a,b)}throw Error("Invalid arity: "+arguments.length)},a.a=function(a){return ta(this,a,0)},a.b=function(a,b){return ta(this,a,b)},a}(),je.lastIndexOf=function(){function a(a){return ua(this,a,za(this))}var b=null;return b=function(b,c){switch(arguments.length){case 1:return a.call(this,b);case 2:return ua(this,b,c)}throw Error("Invalid arity: "+arguments.length)},b.a=a,b.b=function(a,b){return ua(this,a,b)},b}(),je.G=function(a,b){if(a=b+this.l,a>=0&&a<this.c.length)return this.c[a];throw Error("Index out of bounds")},je.wa=function(a,b,c){return a=b+this.l,a>=0&&a<this.c.length?this.c[a]:c},je.Ea=function(){return new va(this.c,this.l)},je.P=function(){return this.o},je.ea=function(){return this.l+1<this.c.length?new wa(this.c,this.l+1,null):null},je.X=function(){var a=this.c.length-this.l;return 0>a?0:a},je.Z=function(){return ja(this)},je.w=function(a,b){return $a(this,b)},je.va=function(){return wf},je.za=function(a,b){return qa(this.c,b,this.c[this.l],this.l+1)},je.Aa=function(a,b,c){return qa(this.c,b,c,this.l)},je.xa=function(){return this.c[this.l]},je.Ca=function(){return this.l+1<this.c.length?new wa(this.c,this.l+1,null):wf},je.Y=function(){return this.l<this.c.length?this:null},je.T=function(a,b){return b===this.o?this:new wa(this.c,this.l,b)},je.ba=function(a,b){return cb(b,this)},wa.prototype[Be]=function(){return ha(this)},Te._=function(a,b){return a===b};var qf=function Gk(a){switch(arguments.length){case 0:return Gk.m();case 1:return Gk.a(arguments[0]);case 2:return Gk.b(arguments[0],arguments[1]);default:for(var b=[],c=arguments.length,d=0;c>d;)b.push(arguments[d]),d+=1;return Gk.v(arguments[0],arguments[1],new wa(b.slice(2),0,null))}};qf.m=function(){return If},qf.a=function(a){return a},qf.b=function(a,b){return null!=a?De(a,b):new _a(null,b,null,1,null)},qf.v=function(a,b,c){for(;;){if(!v(c))return qf.b(a,b);a=qf.b(a,b),b=da(c),c=fa(c)}},qf.aa=function(a){var b=da(a),c=fa(a);return a=da(c),c=fa(c),this.v(b,a,c)},qf.M=2;var rf=function Hk(a){switch(arguments.length){case 2:return Hk.b(arguments[0],arguments[1]);case 3:return Hk.f(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",vf.a(arguments.length)].join(""))}};rf.b=function(a,b){return null==a?null:null!=a&&(256&a.i||we===a.rc)?Ie.b(a,b):w(a)?null!=b&&b<a.length?a[0|b]:null:"string"==typeof a?null!=b&&b<a.length?a.charAt(0|b):null:y(G,a)?Ie.b(a,b):null},rf.f=function(a,b,c){return null!=a?null!=a&&(256&a.i||we===a.rc)?Ie.f(a,b,c):w(a)?null!=b&&b>-1&&b<a.length?a[0|b]:c:"string"==typeof a?null!=b&&b>-1&&b<a.length?a.charAt(0|b):c:y(G,a)?Ie.f(a,b,c):c:c},rf.M=3;var sf=function Ik(a){switch(arguments.length){case 3:return Ik.f(arguments[0],arguments[1],arguments[2]);default:for(var b=[],c=arguments.length,d=0;c>d;)b.push(arguments[d]),d+=1;return Ik.v(arguments[0],arguments[1],arguments[2],new wa(b.slice(3),0,null))}};sf.f=function(a,b,c){if(null!=a)a=Je(a,b,c);else{for(a=[b,c],b=[],c=0;c<a.length;){var d=a[c],e=a[c+1],f=$b(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e,c+=2}a=new dc(null,b.length/2,b,null)}return a},sf.v=function(a,b,c,d){for(;;){if(a=sf.f(a,b,c),!v(d))return a;b=da(d),c=da(fa(d)),d=fa(fa(d))}},sf.aa=function(a){var b=da(a),c=fa(a);a=da(c);var d=fa(c);return c=da(d),d=fa(d),this.v(b,a,c,d)},sf.M=3;var tf=function Jk(a){switch(arguments.length){case 1:return Jk.a(arguments[0]);case 2:return Jk.b(arguments[0],arguments[1]);default:for(var b=[],c=arguments.length,d=0;c>d;)b.push(arguments[d]),d+=1;return Jk.v(arguments[0],arguments[1],new wa(b.slice(2),0,null))}};tf.a=function(a){return a},tf.b=function(a,b){return null==a?null:Le(a,b)},tf.v=function(a,b,c){for(;;){if(null==a)return null;if(a=tf.b(a,b),!v(c))return a;b=da(c),c=fa(c)}},tf.aa=function(a){var b=da(a),c=fa(a);return a=da(c),c=fa(c),this.v(b,a,c)},tf.M=2,je=Da.prototype,je.P=function(){return this.o},je.T=function(a,b){return new Da(this.g,b)},je.call=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){return vb(this.g,b,c,d,e,xa([f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v]))}function b(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){return a=this,a.g.pa?a.g.pa(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u):a.g.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u)}function c(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){return a=this,a.g.oa?a.g.oa(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t):a.g.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t)}function d(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){return a=this,a.g.na?a.g.na(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s):a.g.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s)}function e(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){return a=this,a.g.ma?a.g.ma(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r):a.g.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r)}function f(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){return a=this,a.g.la?a.g.la(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q):a.g.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q)}function g(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){return a=this,a.g.ka?a.g.ka(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p):a.g.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p)}function h(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){return a=this,a.g.ja?a.g.ja(b,c,d,e,f,g,h,i,j,k,l,m,n,o):a.g.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o)}function i(a,b,c,d,e,f,g,h,i,j,k,l,m,n){return a=this,a.g.ia?a.g.ia(b,c,d,e,f,g,h,i,j,k,l,m,n):a.g.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n)}function j(a,b,c,d,e,f,g,h,i,j,k,l,m){return a=this,a.g.ha?a.g.ha(b,c,d,e,f,g,h,i,j,k,l,m):a.g.call(null,b,c,d,e,f,g,h,i,j,k,l,m)}function k(a,b,c,d,e,f,g,h,i,j,k,l){return a=this,a.g.ga?a.g.ga(b,c,d,e,f,g,h,i,j,k,l):a.g.call(null,b,c,d,e,f,g,h,i,j,k,l)}function l(a,b,c,d,e,f,g,h,i,j,k){return a=this,a.g.fa?a.g.fa(b,c,d,e,f,g,h,i,j,k):a.g.call(null,b,c,d,e,f,g,h,i,j,k)}function m(a,b,c,d,e,f,g,h,i,j){return a=this,a.g.sa?a.g.sa(b,c,d,e,f,g,h,i,j):a.g.call(null,b,c,d,e,f,g,h,i,j)}function n(a,b,c,d,e,f,g,h,i){return a=this,a.g.ca?a.g.ca(b,c,d,e,f,g,h,i):a.g.call(null,b,c,d,e,f,g,h,i)}function o(a,b,c,d,e,f,g,h){return a=this,a.g.ra?a.g.ra(b,c,d,e,f,g,h):a.g.call(null,b,c,d,e,f,g,h)}function p(a,b,c,d,e,f,g){return a=this,a.g.qa?a.g.qa(b,c,d,e,f,g):a.g.call(null,b,c,d,e,f,g)}function q(a,b,c,d,e,f){return a=this,a.g.L?a.g.L(b,c,d,e,f):a.g.call(null,b,c,d,e,f)}function r(a,b,c,d,e){return a=this,a.g.A?a.g.A(b,c,d,e):a.g.call(null,b,c,d,e)}function s(a,b,c,d){return a=this,a.g.f?a.g.f(b,c,d):a.g.call(null,b,c,d)}function t(a,b,c){return a=this,a.g.b?a.g.b(b,c):a.g.call(null,b,c)}function u(a,b){return a=this,a.g.a?a.g.a(b):a.g.call(null,b)}function v(a){return a=this,a.g.m?a.g.m():a.g.call(null)}var w=null;return w=function(w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R){switch(arguments.length){case 1:return v.call(this,w);case 2:return u.call(this,w,x);case 3:return t.call(this,w,x,y);case 4:return s.call(this,w,x,y,z);case 5:return r.call(this,w,x,y,z,A);case 6:return q.call(this,w,x,y,z,A,B);case 7:return p.call(this,w,x,y,z,A,B,C);case 8:return o.call(this,w,x,y,z,A,B,C,D);case 9:return n.call(this,w,x,y,z,A,B,C,D,E);case 10:return m.call(this,w,x,y,z,A,B,C,D,E,F);case 11:return l.call(this,w,x,y,z,A,B,C,D,E,F,G);case 12:return k.call(this,w,x,y,z,A,B,C,D,E,F,G,H);case 13:return j.call(this,w,x,y,z,A,B,C,D,E,F,G,H,I);case 14:return i.call(this,w,x,y,z,A,B,C,D,E,F,G,H,I,J);case 15:return h.call(this,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K);case 16:return g.call(this,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L);case 17:return f.call(this,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M);case 18:return e.call(this,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N);case 19:return d.call(this,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O);case 20:return c.call(this,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P);case 21:return b.call(this,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q);case 22:return a.call(this,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R)}throw Error("Invalid arity: "+(arguments.length-1))},w.a=v,w.b=u,w.f=t,w.A=s,w.L=r,w.qa=q,w.ra=p,w.ca=o,w.sa=n,w.fa=m,w.ga=l,w.ha=k,w.ia=j,w.ja=i,w.ka=h,w.la=g,w.ma=f,w.na=e,w.oa=d,w.pa=c,w.Sb=b,w.qc=a,w}(),je.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))},je.m=function(){return this.g.m?this.g.m():this.g.call(null)},je.a=function(a){return this.g.a?this.g.a(a):this.g.call(null,a)},je.b=function(a,b){return this.g.b?this.g.b(a,b):this.g.call(null,a,b)},je.f=function(a,b,c){return this.g.f?this.g.f(a,b,c):this.g.call(null,a,b,c)},je.A=function(a,b,c,d){return this.g.A?this.g.A(a,b,c,d):this.g.call(null,a,b,c,d)},je.L=function(a,b,c,d,e){return this.g.L?this.g.L(a,b,c,d,e):this.g.call(null,a,b,c,d,e)},je.qa=function(a,b,c,d,e,f){return this.g.qa?this.g.qa(a,b,c,d,e,f):this.g.call(null,a,b,c,d,e,f)},je.ra=function(a,b,c,d,e,f,g){return this.g.ra?this.g.ra(a,b,c,d,e,f,g):this.g.call(null,a,b,c,d,e,f,g)},je.ca=function(a,b,c,d,e,f,g,h){return this.g.ca?this.g.ca(a,b,c,d,e,f,g,h):this.g.call(null,a,b,c,d,e,f,g,h)},je.sa=function(a,b,c,d,e,f,g,h,i){return this.g.sa?this.g.sa(a,b,c,d,e,f,g,h,i):this.g.call(null,a,b,c,d,e,f,g,h,i)},je.fa=function(a,b,c,d,e,f,g,h,i,j){return this.g.fa?this.g.fa(a,b,c,d,e,f,g,h,i,j):this.g.call(null,a,b,c,d,e,f,g,h,i,j)},je.ga=function(a,b,c,d,e,f,g,h,i,j,k){return this.g.ga?this.g.ga(a,b,c,d,e,f,g,h,i,j,k):this.g.call(null,a,b,c,d,e,f,g,h,i,j,k)},je.ha=function(a,b,c,d,e,f,g,h,i,j,k,l){return this.g.ha?this.g.ha(a,b,c,d,e,f,g,h,i,j,k,l):this.g.call(null,a,b,c,d,e,f,g,h,i,j,k,l)},je.ia=function(a,b,c,d,e,f,g,h,i,j,k,l,m){return this.g.ia?this.g.ia(a,b,c,d,e,f,g,h,i,j,k,l,m):this.g.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m)},je.ja=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){return this.g.ja?this.g.ja(a,b,c,d,e,f,g,h,i,j,k,l,m,n):this.g.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n)},je.ka=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){return this.g.ka?this.g.ka(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o):this.g.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o)},je.la=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){return this.g.la?this.g.la(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p):this.g.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p)},je.ma=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){return this.g.ma?this.g.ma(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q):this.g.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q)},je.na=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){return this.g.na?this.g.na(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r):this.g.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r)},je.oa=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){return this.g.oa?this.g.oa(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s):this.g.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s)},je.pa=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){return this.g.pa?this.g.pa(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t):this.g.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t)},je.Sb=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){return vb(this.g,a,b,c,d,xa([e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u]))};var uf={},vf=function Kk(a){switch(arguments.length){case 0:return Kk.m();case 1:return Kk.a(arguments[0]);default:for(var b=[],c=arguments.length,d=0;c>d;)b.push(arguments[d]),d+=1;return Kk.v(arguments[0],new wa(b.slice(1),0,null))}};vf.m=function(){return""},vf.a=function(a){return null==a?"":[a].join("")},vf.v=function(a,b){for(a=new s(vf.a(a));;){if(!v(b))return a.toString();a=a.append(vf.a(da(b))),b=fa(b)}},vf.aa=function(a){var b=da(a);return a=fa(a),this.v(b,a)},vf.M=1,je=_a.prototype,je.toString=function(){return U(this)},je.equiv=function(a){return this.w(null,a)},je.indexOf=function(){var a=null;return a=function(a,b){switch(arguments.length){case 1:return ta(this,a,0);case 2:return ta(this,a,b)}throw Error("Invalid arity: "+arguments.length)},a.a=function(a){return ta(this,a,0)},a.b=function(a,b){return ta(this,a,b)},a}(),je.lastIndexOf=function(){function a(a){return ua(this,a,this.count)}var b=null;return b=function(b,c){switch(arguments.length){case 1:return a.call(this,b);case 2:return ua(this,b,c)}throw Error("Invalid arity: "+arguments.length)},b.a=a,b.b=function(a,b){return ua(this,a,b)},b}(),je.P=function(){return this.o},je.ea=function(){return 1===this.count?null:this.Ya},je.X=function(){return this.count},je.Z=function(){var a=this.s;return null!=a?a:this.s=a=ja(this)},je.w=function(a,b){return $a(this,b)},je.va=function(){return Qe(wf,this.o)},je.za=function(a,b){return Pa(b,this)},je.Aa=function(a,b,c){return Qa(b,c,this)},je.xa=function(){return this.first},je.Ca=function(){return 1===this.count?wf:this.Ya},je.Y=function(){return this},je.T=function(a,b){return b===this.o?this:new _a(b,this.first,this.Ya,this.count,this.s)},je.ba=function(a,b){return new _a(this.o,b,this,this.count+1,null)},_a.prototype[Be]=function(){return ha(this)},je=ab.prototype,je.toString=function(){return U(this)},je.equiv=function(a){return this.w(null,a)},je.indexOf=function(){var a=null;return a=function(a,b){switch(arguments.length){case 1:return ta(this,a,0);case 2:return ta(this,a,b)}throw Error("Invalid arity: "+arguments.length)},a.a=function(a){return ta(this,a,0)},a.b=function(a,b){return ta(this,a,b)},a}(),je.lastIndexOf=function(){function a(a){return ua(this,a,za(this))}var b=null;return b=function(b,c){switch(arguments.length){case 1:return a.call(this,b);case 2:return ua(this,b,c)}throw Error("Invalid arity: "+arguments.length)},b.a=a,b.b=function(a,b){return ua(this,a,b)},b}(),je.P=function(){return this.o},je.ea=function(){return null},je.X=function(){return 0},je.Z=function(){return of},je.w=function(a,b){return(null!=b?33554432&b.i||we===b.Tc||(b.i?0:y(P,b)):y(P,b))||Ha(b)?null==ca(b):!1},je.va=function(){return this},je.za=function(a,b){return Pa(b,this)},je.Aa=function(a,b,c){return Qa(b,c,this)},je.xa=function(){return null},je.Ca=function(){return wf},je.Y=function(){return null},je.T=function(a,b){return b===this.o?this:new ab(b)},je.ba=function(a,b){return new _a(this.o,b,null,1,null)};var wf=new ab(null);ab.prototype[Be]=function(){return ha(this)},je=bb.prototype,je.toString=function(){return U(this)},je.equiv=function(a){return this.w(null,a)},je.indexOf=function(){var a=null;return a=function(a,b){switch(arguments.length){case 1:return ta(this,a,0);case 2:return ta(this,a,b)}throw Error("Invalid arity: "+arguments.length)},a.a=function(a){return ta(this,a,0)},a.b=function(a,b){return ta(this,a,b)},a}(),je.lastIndexOf=function(){function a(a){return ua(this,a,za(this))}var b=null;return b=function(b,c){switch(arguments.length){case 1:return a.call(this,b);case 2:return ua(this,b,c)}throw Error("Invalid arity: "+arguments.length)},b.a=a,b.b=function(a,b){return ua(this,a,b)},b}(),je.P=function(){return this.o},je.ea=function(){return null==this.Ya?null:ca(this.Ya)},je.Z=function(){var a=this.s;return null!=a?a:this.s=a=ja(this)},je.w=function(a,b){return $a(this,b)},je.va=function(){return wf},je.za=function(a,b){return Pa(b,this)},je.Aa=function(a,b,c){return Qa(b,c,this)},je.xa=function(){return this.first},je.Ca=function(){return null==this.Ya?wf:this.Ya},je.Y=function(){return this},je.T=function(a,b){return b===this.o?this:new bb(b,this.first,this.Ya,this.s)},je.ba=function(a,b){return new bb(null,b,this,null)},bb.prototype[Be]=function(){return ha(this)},je=db.prototype,je.toString=function(){return[":",vf.a(this.Na)].join("")},je.equiv=function(a){return this.w(null,a)},je.w=function(a,b){return b instanceof db?this.Na===b.Na:!1},je.call=function(){var a=null;return a=function(a,b,c){switch(arguments.length){case 2:return rf.b(b,this);case 3:return rf.f(b,this,c)}throw Error("Invalid arity: "+(arguments.length-1))},a.b=function(a,b){return rf.b(b,this)},a.f=function(a,b,c){return rf.f(b,this,c)},a}(),je.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))},je.a=function(a){return rf.b(a,this)},je.b=function(a,b){return rf.f(a,this,b)},je.Z=function(){var a=this.hb;return null!=a?a:this.hb=a=_(Y(this.name),Z(this.ob))+2654435769|0},je.Hb=function(){return this.name},je.Ib=function(){return this.ob},je.$=function(a,b){return We(b,[":",vf.a(this.Na)].join(""))};var xf=function Lk(a){switch(arguments.length){case 1:return Lk.a(arguments[0]);case 2:return Lk.b(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",vf.a(arguments.length)].join(""))}};xf.a=function(a){if(a instanceof db)return a;if(a instanceof aa)return new db(fb(a),Gc(a),a.ab,null);if("string"==typeof a){var b=a.split("/");return 2===b.length?new db(b[0],b[1],a,null):new db(null,b[0],a,null)}return null},xf.b=function(a,b){return a=a instanceof db?Gc(a):a instanceof aa?Gc(a):a,b=b instanceof db?Gc(b):b instanceof aa?Gc(b):b,new db(a,b,[v(a)?[vf.a(a),"/"].join(""):null,vf.a(b)].join(""),null)},xf.M=2,je=gb.prototype,je.toString=function(){return U(this)},je.equiv=function(a){return this.w(null,a)},je.indexOf=function(){var a=null;return a=function(a,b){switch(arguments.length){case 1:return ta(this,a,0);case 2:return ta(this,a,b)}throw Error("Invalid arity: "+arguments.length)},a.a=function(a){return ta(this,a,0)},a.b=function(a,b){return ta(this,a,b)},a}(),je.lastIndexOf=function(){function a(a){return ua(this,a,za(this))}var b=null;return b=function(b,c){switch(arguments.length){case 1:return a.call(this,b);case 2:return ua(this,b,c)}throw Error("Invalid arity: "+arguments.length)},b.a=a,b.b=function(a,b){return ua(this,a,b)},b}(),je.P=function(){return this.o},je.ea=function(){return this.Y(null),null==this.C?null:fa(this.C)},je.Z=function(){var a=this.s;return null!=a?a:this.s=a=ja(this)},je.w=function(a,b){return $a(this,b)},je.va=function(){return Qe(wf,this.o)},je.za=function(a,b){return Pa(b,this)},je.Aa=function(a,b,c){return Qa(b,c,this)},je.xa=function(){return this.Y(null),null==this.C?null:da(this.C)},je.Ca=function(){return this.Y(null),null!=this.C?ea(this.C):wf},je.Y=function(){if(hb(this),null==this.C)return null;for(var a=this.C;;){if(!(a instanceof gb))return this.C=a,ca(this.C);a=hb(a)}},je.T=function(a,b){return b===this.o?this:new gb(b,function(a){return function(){return a.Y(null)}}(this),this.s)},je.ba=function(a,b){return cb(b,this)},gb.prototype[Be]=function(){return ha(this)},ib.prototype.add=function(a){return this.F[this.end]=a,this.end+=1},ib.prototype.V=function(){var a=new kb(this.F,0,this.end);return this.F=null,a},ib.prototype.X=function(){return this.end},je=kb.prototype,je.X=function(){return this.end-this.off},je.G=function(a,b){return this.c[this.off+b]},je.wa=function(a,b,c){return b>=0&&b<this.end-this.off?this.c[this.off+b]:c},je.Qb=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new kb(this.c,this.off+1,this.end)},je.za=function(a,b){return qa(this.c,b,this.c[this.off],this.off+1)},je.Aa=function(a,b,c){return qa(this.c,b,c,this.off)},je=lb.prototype,je.toString=function(){return U(this)},je.equiv=function(a){return this.w(null,a)},je.indexOf=function(){var a=null;return a=function(a,b){switch(arguments.length){case 1:return ta(this,a,0);case 2:return ta(this,a,b)}throw Error("Invalid arity: "+arguments.length)},a.a=function(a){return ta(this,a,0)},a.b=function(a,b){return ta(this,a,b)},a}(),je.lastIndexOf=function(){function a(a){return ua(this,a,za(this))}var b=null;return b=function(b,c){switch(arguments.length){case 1:return a.call(this,b);case 2:return ua(this,b,c)}throw Error("Invalid arity: "+arguments.length)},b.a=a,b.b=function(a,b){return ua(this,a,b)},b}(),je.P=function(){return this.o},je.ea=function(){return 1<Ce(this.V)?new lb(af(this.V),this.Qa,null,null):null==this.Qa?null:Ve(this.Qa)},je.Z=function(){var a=this.s;return null!=a?a:this.s=a=ja(this)},je.w=function(a,b){return $a(this,b)},je.va=function(){return wf},je.xa=function(){return Ee.b(this.V,0)},je.Ca=function(){return 1<Ce(this.V)?new lb(af(this.V),this.Qa,null,null):null==this.Qa?wf:this.Qa},je.Y=function(){return this},je.Eb=function(){return this.V},je.ib=function(){return null==this.Qa?wf:this.Qa},je.T=function(a,b){return b===this.o?this:new lb(this.V,this.Qa,b,this.s)},je.ba=function(a,b){return cb(b,this)},je.Rb=function(){return null==this.Qa?null:this.Qa},lb.prototype[Be]=function(){return ha(this)};var yf=function Mk(a){if(null==a)return null;var b=fa(a);return null==b?ca(da(a)):cb(da(a),Mk.a?Mk.a(b):Mk.call(null,b))},zf=function Nk(a){switch(arguments.length){case 0:return Nk.m();case 1:return Nk.a(arguments[0]);case 2:return Nk.b(arguments[0],arguments[1]);default:for(var b=[],c=arguments.length,d=0;c>d;)b.push(arguments[d]),d+=1;return Nk.v(arguments[0],arguments[1],new wa(b.slice(2),0,null))}};zf.m=function(){return new gb(null,function(){return null},null)},zf.a=function(a){return new gb(null,function(){return a},null)},zf.b=function(a,b){return new gb(null,function(){var c=ca(a);return c?La(c)?mb(bf(c),zf.b(cf(c),b)):cb(da(c),zf.b(ea(c),b)):b},null)},zf.v=function(a,b,c){return function d(a,b){return new gb(null,function(){var c=ca(a);return c?La(c)?mb(bf(c),d(cf(c),b)):cb(da(c),d(ea(c),b)):v(b)?d(da(b),fa(b)):null},null)}(zf.b(a,b),c)},zf.aa=function(a){var b=da(a),c=fa(a);return a=da(c),c=fa(c),this.v(b,a,c)},zf.M=2;var Af=function Ok(a){switch(arguments.length){case 0:return Ok.m();case 1:return Ok.a(arguments[0]);case 2:return Ok.b(arguments[0],arguments[1]);default:for(var b=[],c=arguments.length,d=0;c>d;)b.push(arguments[d]),d+=1;return Ok.v(arguments[0],arguments[1],new wa(b.slice(2),0,null))}};Af.m=function(){return Ye(If)},Af.a=function(a){return a},Af.b=function(a,b){return Ze(a,b)},Af.v=function(a,b,c){for(;;){if(a=Ze(a,b),!v(c))return a;b=da(c),c=fa(c)}},Af.aa=function(a){var b=da(a),c=fa(a);return a=da(c),c=fa(c),this.v(b,a,c)},Af.M=2,je=Bb.prototype,je.equiv=function(a){return this.w(null,a)},je.w=function(a,b){return this===b},je.Fb=function(){return this.state},je.P=function(){return this.o},je.Z=function(){return this[le]||(this[le]=++me)};var Bf=function Pk(a){switch(arguments.length){case 2:return Pk.b(arguments[0],arguments[1]);case 3:return Pk.f(arguments[0],arguments[1],arguments[2]);case 4:return Pk.A(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var b=[],c=arguments.length,d=0;c>d;)b.push(arguments[d]),d+=1;return Pk.v(arguments[0],arguments[1],arguments[2],arguments[3],new wa(b.slice(4),0,null))}};Bf.b=function(a,b){if(a instanceof Bb){var c=a.state;b=b.a?b.a(c):b.call(null,c),a=Db(a,b)}else a=gf.b(a,b);return a},Bf.f=function(a,b,c){if(a instanceof Bb){var d=a.state;b=b.b?b.b(d,c):b.call(null,d,c),a=Db(a,b)}else a=gf.f(a,b,c);return a},Bf.A=function(a,b,c,d){if(a instanceof Bb){var e=a.state;b=b.f?b.f(e,c,d):b.call(null,e,c,d),a=Db(a,b)}else a=gf.A(a,b,c,d);return a},Bf.v=function(a,b,c,d,e){if(a instanceof Bb){var f=a.state;b.aa?(c=cb(f,cb(c,cb(d,e))),d=b.M,e=3+ob(d-2,e),b=d>=e?pb(b,e,c):b.aa(c)):b=sb(b,f,c,d,ca(e)),a=Db(a,b)}else a=gf.L(a,b,c,d,e);return a},Bf.aa=function(a){
var b=da(a),c=fa(a);a=da(c);var d=fa(c);c=da(d);var e=fa(d);return d=da(e),e=fa(e),this.v(b,a,c,d,e)},Bf.M=4;var Cf=function Qk(a){switch(arguments.length){case 1:return Qk.a(arguments[0]);case 2:return Qk.b(arguments[0],arguments[1]);case 3:return Qk.f(arguments[0],arguments[1],arguments[2]);case 4:return Qk.A(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var b=[],c=arguments.length,d=0;c>d;)b.push(arguments[d]),d+=1;return Qk.v(arguments[0],arguments[1],arguments[2],arguments[3],new wa(b.slice(4),0,null))}};Cf.a=function(a){return function(b){return function(){function c(c,d){return d=a.a?a.a(d):a.call(null,d),b.b?b.b(c,d):b.call(null,c,d)}function d(a){return b.a?b.a(a):b.call(null,a)}function e(){return b.m?b.m():b.call(null)}var f=null,g=function(){function c(a,b,c){var e=null;if(2<arguments.length){e=0;for(var f=Array(arguments.length-2);e<f.length;)f[e]=arguments[e+2],++e;e=new wa(f,0,null)}return d.call(this,a,b,e)}function d(c,d,e){if(a.aa){d=cb(d,e);var f=a.M;e=ob(f,e)+1,e=f>=e?pb(a,e,d):a.aa(d)}else e=rb(a,d,ca(e));return b.b?b.b(c,e):b.call(null,c,e)}return c.M=2,c.aa=function(a){var b=da(a);a=fa(a);var c=da(a);return a=ea(a),d(b,c,a)},c.v=d,c}();return f=function(a,b,f){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b);default:var h=null;if(2<arguments.length){h=0;for(var i=Array(arguments.length-2);h<i.length;)i[h]=arguments[h+2],++h;h=new wa(i,0,null)}return g.v(a,b,h)}throw Error("Invalid arity: "+arguments.length)},f.M=2,f.aa=g.aa,f.m=e,f.a=d,f.b=c,f.v=g.v,f}()}},Cf.b=function(a,b){return new gb(null,function(){var c=ca(b);if(c){if(La(c)){for(var d=bf(c),e=za(d),f=jb(e),g=0;e>g;)nb(f,function(){var b=Ee.b(d,g);return a.a?a.a(b):a.call(null,b)}()),g+=1;return mb(f.V(),Cf.b(a,cf(c)))}return cb(function(){var b=da(c);return a.a?a.a(b):a.call(null,b)}(),Cf.b(a,ea(c)))}return null},null)},Cf.f=function(a,b,c){return new gb(null,function(){var d=ca(b),e=ca(c);if(d&&e){var f=da(d),g=da(e);f=a.b?a.b(f,g):a.call(null,f,g),d=cb(f,Cf.f(a,ea(d),ea(e)))}else d=null;return d},null)},Cf.A=function(a,b,c,d){return new gb(null,function(){var e=ca(b),f=ca(c),g=ca(d);if(e&&f&&g){var h=da(e),i=da(f),j=da(g);h=a.f?a.f(h,i,j):a.call(null,h,i,j),e=cb(h,Cf.A(a,ea(e),ea(f),ea(g)))}else e=null;return e},null)},Cf.v=function(a,b,c,d,e){var f=function g(a){return new gb(null,function(){var b=Cf.b(ca,a);return yb(Wa,b)?cb(Cf.b(da,b),g(Cf.b(ea,b))):null},null)};return Cf.b(function(){return function(b){return ub(a,b)}}(f),f(qf.v(e,d,xa([c,b]))))},Cf.aa=function(a){var b=da(a),c=fa(a);a=da(c);var d=fa(c);c=da(d);var e=fa(d);return d=da(e),e=fa(e),this.v(b,a,c,d,e)},Cf.M=4;var Df=function Rk(a){switch(arguments.length){case 0:return Rk.m();case 1:return Rk.a(arguments[0]);case 2:return Rk.b(arguments[0],arguments[1]);default:for(var b=[],c=arguments.length,d=0;c>d;)b.push(arguments[d]),d+=1;return Rk.v(arguments[0],arguments[1],new wa(b.slice(2),0,null))}};Df.m=function(){return wf},Df.a=function(a){return new gb(null,function(){return a},null)},Df.b=function(a,b){return new gb(null,function(){var c=ca(a),d=ca(b);return c&&d?cb(da(c),cb(da(d),Df.b(ea(c),ea(d)))):null},null)},Df.v=function(a,b,c){return new gb(null,function(){var d=Cf.b(ca,qf.v(c,b,xa([a])));return yb(Wa,d)?zf.b(Cf.b(da,d),ub(Df,Cf.b(ea,d))):null},null)},Df.aa=function(a){var b=da(a),c=fa(a);return a=da(c),c=fa(c),this.v(b,a,c)},Df.M=2;var Ef=function Sk(a){switch(arguments.length){case 0:return Sk.m();case 1:return Sk.a(arguments[0]);case 2:return Sk.b(arguments[0],arguments[1]);case 3:return Sk.f(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",vf.a(arguments.length)].join(""))}};Ef.m=function(){return If},Ef.a=function(a){return a},Ef.b=function(a,b){return null!=a?null!=a&&(4&a.u||we===a.nc)?Qe($e(Ua(Ze,Ye(a),b)),Fa(a)):Ua(De,a,b):Ua(qf,wf,b)},Ef.f=function(a,b,c){return null!=a&&(4&a.u||we===a.nc)?Qe($e(Xa(b,Af,Ye(a),c)),Fa(a)):Xa(b,qf,a,c)},Ef.M=3;var Ff=function Tk(a,b,c,d){var e=new Hb(c.J,B(c.c)),f=a.j-1>>>b&31;return 5===b?e.c[f]=d:(c=c.c[f],null!=c?(b-=5,a=Tk.A?Tk.A(a,b,c,d):Tk.call(null,a,b,c,d)):a=Kb(null,b-5,d),e.c[f]=a),e},Gf=function Uk(a,b,c,d,e){var f=new Hb(c.J,B(c.c));if(0===b)f.c[31&d]=e;else{var g=d>>>b&31;b-=5,c=c.c[g],a=Uk.L?Uk.L(a,b,c,d,e):Uk.call(null,a,b,c,d,e),f.c[g]=a}return f};Nb.prototype.da=function(){return this.l<this.end},Nb.prototype.next=function(){32===this.l-this.Pb&&(this.c=Mb(this.Mc,this.l),this.Pb+=32);var a=this.c[31&this.l];return this.l+=1,a},je=Qb.prototype,je.pb=function(a,b){return b>=0&&b<this.j?new _b(b,Mb(this,b)[31&b]):null},je.toString=function(){return U(this)},je.equiv=function(a){return this.w(null,a)},je.indexOf=function(){var a=null;return a=function(a,b){switch(arguments.length){case 1:return ta(this,a,0);case 2:return ta(this,a,b)}throw Error("Invalid arity: "+arguments.length)},a.a=function(a){return ta(this,a,0)},a.b=function(a,b){return ta(this,a,b)},a}(),je.lastIndexOf=function(){function a(a){return ua(this,a,za(this))}var b=null;return b=function(b,c){switch(arguments.length){case 1:return a.call(this,b);case 2:return ua(this,b,c)}throw Error("Invalid arity: "+arguments.length)},b.a=a,b.b=function(a,b){return ua(this,a,b)},b}(),je.R=function(a,b){return this.B(null,b,null)},je.B=function(a,b,c){return"number"==typeof b?this.wa(null,b,c):c},je.qb=function(a,b,c){a=0;for(var d=c;;){if(!(a<this.j))return d;var e=Mb(this,a);c=e.length;a:for(var f=0;;){if(!(c>f)){e=d;break a}var g=f+a,h=e[f];if(d=b.f?b.f(d,g,h):b.call(null,d,g,h),ma(d)){e=d;break a}f+=1}if(ma(e))return Oe(e);a+=c,d=e}},je.G=function(a,b){return(b>=0&&b<this.j?Mb(this,b):Lb(b,this.j))[31&b]},je.wa=function(a,b,c){return b>=0&&b<this.j?Mb(this,b)[31&b]:c},je.Tb=function(a,b){if(a>=0&&a<this.j){if(Jb(this)<=a){var c=B(this.H);return c[31&a]=b,new Qb(this.o,this.j,this.shift,this.root,c,null)}return new Qb(this.o,this.j,this.shift,Gf(this,this.shift,this.root,a,b),this.H,null)}if(a===this.j)return this.ba(null,b);throw Error(["Index ",vf.a(a)," out of bounds  [0,",vf.a(this.j),"]"].join(""))},je.Ea=function(){var a=this.j;return new Nb(0<za(this)?Mb(this,0):null,this,a)},je.P=function(){return this.o},je.X=function(){return this.j},je.Z=function(){var a=this.s;return null!=a?a:this.s=a=ja(this)},je.w=function(a,b){if(!(b instanceof Qb))return $a(this,b);if(this.j!==za(b))return!1;for(a=this.Ea(null),b=b.Ea(null);;){if(!a.da())return!0;var c=a.next(),d=b.next();if(!nf.b(c,d))return!1}},je.jb=function(){var a=this.j,b=this.shift,c=new Hb({},B(this.root.c)),d=this.H,e=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];return Ma(d,0,e,0,d.length),new Tb(a,b,c,e)},je.va=function(){return Qe(If,this.o)},je.za=function(a,b){return Ob(this,b,0,this.j)},je.Aa=function(a,b,c){a=0;for(var d=c;;){if(!(a<this.j))return d;var e=Mb(this,a);c=e.length;a:for(var f=0;;){if(!(c>f)){e=d;break a}var g=e[f];if(d=b.b?b.b(d,g):b.call(null,d,g),ma(d)){e=d;break a}f+=1}if(ma(e))return Oe(e);a+=c,d=e}},je.Wa=function(a,b,c){if("number"==typeof b)return this.Tb(b,c);throw Error("Vector's key for assoc must be a number.")},je.Y=function(){if(0===this.j)var a=null;else if(32>=this.j)a=new wa(this.H,0,null);else{a:{a=this.root;for(var b=this.shift;;){if(!(b>0)){a=a.c;break a}b-=5,a=a.c[0]}}a=new Rb(this,a,0,0,null)}return a},je.T=function(a,b){return b===this.o?this:new Qb(b,this.j,this.shift,this.root,this.H,this.s)},je.ba=function(a,b){if(32>this.j-Jb(this)){a=this.H.length;for(var c=Array(a+1),d=0;a>d;)c[d]=this.H[d],d+=1;return c[a]=b,new Qb(this.o,this.j+1,this.shift,this.root,c,null)}return a=(c=this.j>>>5>1<<this.shift)?this.shift+5:this.shift,c?(c=Ib(null),c.c[0]=this.root,d=Kb(null,this.shift,new Hb(null,this.H)),c.c[1]=d):c=Ff(this,this.shift,this.root,new Hb(null,this.H)),new Qb(this.o,this.j+1,a,c,[b],null)},je.call=function(){var a=null;return a=function(a,b,c){switch(arguments.length){case 2:return this.G(null,b);case 3:return this.wa(null,b,c)}throw Error("Invalid arity: "+(arguments.length-1))},a.b=function(a,b){return this.G(null,b)},a.f=function(a,b,c){return this.wa(null,b,c)},a}(),je.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))},je.a=function(a){return this.G(null,a)},je.b=function(a,b){return this.wa(null,a,b)};var Hf=new Hb(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),If=new Qb(null,0,5,Hf,[],of);Qb.prototype[Be]=function(){return ha(this)},je=Rb.prototype,je.toString=function(){return U(this)},je.equiv=function(a){return this.w(null,a)},je.indexOf=function(){var a=null;return a=function(a,b){switch(arguments.length){case 1:return ta(this,a,0);case 2:return ta(this,a,b)}throw Error("Invalid arity: "+arguments.length)},a.a=function(a){return ta(this,a,0)},a.b=function(a,b){return ta(this,a,b)},a}(),je.lastIndexOf=function(){function a(a){return ua(this,a,za(this))}var b=null;return b=function(b,c){switch(arguments.length){case 1:return a.call(this,b);case 2:return ua(this,b,c)}throw Error("Invalid arity: "+arguments.length)},b.a=a,b.b=function(a,b){return ua(this,a,b)},b}(),je.P=function(){return this.o},je.ea=function(){if(this.off+1<this.node.length){var a=new Rb(this.Ga,this.node,this.l,this.off+1,null);return null==a?null:a}return this.Rb()},je.Z=function(){var a=this.s;return null!=a?a:this.s=a=ja(this)},je.w=function(a,b){return $a(this,b)},je.va=function(){return wf},je.za=function(a,b){return Ob(this.Ga,b,this.l+this.off,za(this.Ga))},je.Aa=function(a,b,c){return Pb(this.Ga,b,c,this.l+this.off,za(this.Ga))},je.xa=function(){return this.node[this.off]},je.Ca=function(){if(this.off+1<this.node.length){var a=new Rb(this.Ga,this.node,this.l,this.off+1,null);return null==a?wf:a}return this.ib(null)},je.Y=function(){return this},je.Eb=function(){var a=this.node;return new kb(a,this.off,a.length)},je.ib=function(){var a=this.l+this.node.length;return a<Ce(this.Ga)?new Rb(this.Ga,Mb(this.Ga,a),a,0,null):wf},je.T=function(a,b){return b===this.o?this:new Rb(this.Ga,this.node,this.l,this.off,b)},je.ba=function(a,b){return cb(b,this)},je.Rb=function(){var a=this.l+this.node.length;return a<Ce(this.Ga)?new Rb(this.Ga,Mb(this.Ga,a),a,0,null):null},Rb.prototype[Be]=function(){return ha(this)};var Jf=function Vk(a,b,c,d){c=Sb(a.root.J,c);var e=a.j-1>>>b&31;if(5===b)a=d;else{var f=c.c[e];null!=f?(b-=5,a=Vk.A?Vk.A(a,b,f,d):Vk.call(null,a,b,f,d)):a=Kb(a.root.J,b-5,d)}return c.c[e]=a,c};je=Tb.prototype,je.lb=function(a,b){if(this.root.J){if(32>this.j-Jb(this))this.H[31&this.j]=b;else{a=new Hb(this.root.J,this.H);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b,this.H=c,this.j>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+5,b[0]=this.root,b[1]=Kb(this.root.J,this.shift,a),this.root=new Hb(this.root.J,b),this.shift=c):this.root=Jf(this,this.shift,this.root,a)}return this.j+=1,this}throw Error("conj! after persistent!")},je.sb=function(){if(this.root.J){this.root.J=null;var a=this.j-Jb(this),b=Array(a);return Ma(this.H,0,b,0,a),new Qb(null,this.j,this.shift,this.root,b,null)}throw Error("persistent! called twice")},je.kb=function(a,b,c){if("number"==typeof b)return Ub(this,b,c);throw Error("TransientVector's key for assoc! must be a number.")},je.X=function(){if(this.root.J)return this.j;throw Error("count after persistent!")},je.G=function(a,b){if(this.root.J)return(b>=0&&b<this.j?Mb(this,b):Lb(b,this.j))[31&b];throw Error("nth after persistent!")},je.wa=function(a,b,c){return b>=0&&b<this.j?this.G(null,b):c},je.R=function(a,b){return this.B(null,b,null)},je.B=function(a,b,c){return"number"==typeof b?this.wa(null,b,c):c},je.call=function(){var a=null;return a=function(a,b,c){switch(arguments.length){case 2:return this.R(null,b);case 3:return this.B(null,b,c)}throw Error("Invalid arity: "+(arguments.length-1))},a.b=function(a,b){return this.R(null,b)},a.f=function(a,b,c){return this.B(null,b,c)},a}(),je.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))},je.a=function(a){return this.R(null,a)},je.b=function(a,b){return this.B(null,a,b)},Vb.prototype.equiv=function(a){return this.w(null,a)},Vb.prototype.w=function(){return!1};var Kf=new Vb;Xb.prototype.da=function(){var a=this.l<this.$b;return a?a:this.kc.da()},Xb.prototype.next=function(){if(this.l<this.$b){var a=Ba(this.Ec,this.l);return this.l+=1,new _b(a,Ie.b(this.Kc,a))}return this.kc.next()},Xb.prototype.remove=function(){return Error("Unsupported operation")},Yb.prototype.next=function(){if(null!=this.C){var a=da(this.C),b=Ca(a,0);return a=Ca(a,1),this.C=fa(this.C),{value:[b,a],done:!1}}return{value:null,done:!0}},Zb.prototype.next=function(){if(null!=this.C){var a=da(this.C);return this.C=fa(this.C),{value:[a,a],done:!1}}return{value:null,done:!0}},je=_b.prototype,je.pb=function(a,b){switch(b){case 0:return new _b(0,this.key);case 1:return new _b(1,this.I);default:return null}},je.indexOf=function(){var a=null;return a=function(a,b){switch(arguments.length){case 1:return ta(this,a,0);case 2:return ta(this,a,b)}throw Error("Invalid arity: "+arguments.length)},a.a=function(a){return ta(this,a,0)},a.b=function(a,b){return ta(this,a,b)},a}(),je.lastIndexOf=function(){function a(a){return ua(this,a,za(this))}var b=null;return b=function(b,c){switch(arguments.length){case 1:return a.call(this,b);case 2:return ua(this,b,c)}throw Error("Invalid arity: "+arguments.length)},b.a=a,b.b=function(a,b){return ua(this,a,b)},b}(),je.R=function(a,b){return this.wa(null,b,null)},je.B=function(a,b,c){return this.wa(null,b,c)},je.G=function(a,b){if(0===b)return this.key;if(1===b)return this.I;throw Error("Index out of bounds")},je.wa=function(a,b,c){return 0===b?this.key:1===b?this.I:c},je.Tb=function(a,b){return new Qb(null,2,5,Hf,[this.key,this.I],null).Tb(a,b)},je.P=function(){return null},je.X=function(){return 2},je.sc=function(){return this.key},je.tc=function(){return this.I},je.Z=function(){var a=this.s;return null!=a?a:this.s=a=ja(this)},je.w=function(a,b){return $a(this,b)},je.va=function(){return null},je.za=function(a,b){return na(this,b)},je.Aa=function(a,b,c){a:{a=Ce(this);var d=c;for(c=0;;){if(!(a>c)){b=d;break a}var e=Ee.b(this,c);if(d=b.b?b.b(d,e):b.call(null,d,e),ma(d)){b=Oe(d);break a}c+=1}}return b},je.Wa=function(a,b,c){return sf.f(new Qb(null,2,5,Hf,[this.key,this.I],null),b,c)},je.Y=function(){return new wa([this.key,this.I],0,null)},je.T=function(a,b){return Ea(new Qb(null,2,5,Hf,[this.key,this.I],null),b)},je.ba=function(a,b){return new Qb(null,3,5,Hf,[this.key,this.I,b],null)},je.call=function(){var a=null;return a=function(a,b,c){switch(arguments.length){case 2:return this.G(null,b);case 3:return this.wa(null,b,c)}throw Error("Invalid arity: "+(arguments.length-1))},a.b=function(a,b){return this.G(null,b)},a.f=function(a,b,c){return this.wa(null,b,c)},a}(),je.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))},je.a=function(a){return this.G(null,a)},je.b=function(a,b){return this.wa(null,a,b)},je=bc.prototype,je.toString=function(){return U(this)},je.equiv=function(a){return this.w(null,a)},je.indexOf=function(){var a=null;return a=function(a,b){switch(arguments.length){case 1:return ta(this,a,0);case 2:return ta(this,a,b)}throw Error("Invalid arity: "+arguments.length)},a.a=function(a){return ta(this,a,0)},a.b=function(a,b){return ta(this,a,b)},a}(),je.lastIndexOf=function(){function a(a){return ua(this,a,za(this))}var b=null;return b=function(b,c){switch(arguments.length){case 1:return a.call(this,b);case 2:return ua(this,b,c)}throw Error("Invalid arity: "+arguments.length)},b.a=a,b.b=function(a,b){return ua(this,a,b)},b}(),je.P=function(){return this.Ta},je.ea=function(){return this.l<this.c.length-2?new bc(this.c,this.l+2,null):null},je.X=function(){return(this.c.length-this.l)/2},je.Z=function(){return ja(this)},je.w=function(a,b){return $a(this,b)},je.va=function(){return wf},je.za=function(a,b){return Pa(b,this)},je.Aa=function(a,b,c){return Qa(b,c,this)},je.xa=function(){return new _b(this.c[this.l],this.c[this.l+1])},je.Ca=function(){return this.l<this.c.length-2?new bc(this.c,this.l+2,null):wf},je.Y=function(){return this},je.T=function(a,b){return b===this.Ta?this:new bc(this.c,this.l,b)},je.ba=function(a,b){return cb(b,this)},bc.prototype[Be]=function(){return ha(this)},cc.prototype.da=function(){return this.l<this.j},cc.prototype.next=function(){var a=new _b(this.c[this.l],this.c[this.l+1]);return this.l+=2,a},je=dc.prototype,je.pb=function(a,b){return a=$b(this.c,b),-1===a?null:new _b(this.c[a],this.c[a+1])},je.toString=function(){return U(this)},je.equiv=function(a){return this.w(null,a)},je.keys=function(){return ha(Ac(this))},je.entries=function(){return new Yb(ca(ca(this)))},je.values=function(){return ha(Cc(this))},je.has=function(a){return Oa(this,a)},je.get=function(a,b){return this.B(null,a,b)},je.forEach=function(a){for(var b=ca(this),c=null,d=0,e=0;;)if(d>e){var f=c.G(null,e),g=Ca(f,0);f=Ca(f,1),a.b?a.b(f,g):a.call(null,f,g),e+=1}else{if(!(b=ca(b)))return null;La(b)?(c=bf(b),b=cf(b),g=c,d=za(c),c=g):(c=da(b),g=Ca(c,0),f=Ca(c,1),a.b?a.b(f,g):a.call(null,f,g),b=fa(b),c=null,d=0),e=0}},je.R=function(a,b){return this.B(null,b,null)},je.B=function(a,b,c){return a=$b(this.c,b),-1===a?c:this.c[a+1]},je.qb=function(a,b,c){a=this.c.length;for(var d=0;;){if(!(a>d))return c;var e=this.c[d],f=this.c[d+1];if(c=b.f?b.f(c,e,f):b.call(null,c,e,f),ma(c))return Oe(c);d+=2}},je.Ea=function(){return new cc(this.c,2*this.j)},je.P=function(){return this.o},je.X=function(){return this.j},je.Z=function(){var a=this.s;return null!=a?a:this.s=a=ka(this)},je.w=function(a,b){if(!Ia(b)||Ja(b))return!1;if(a=this.c.length,this.j!==b.X(null))return!1;for(var c=0;;){if(!(a>c))return!0;var d=b.B(null,this.c[c],uf);if(d===uf)return!1;if(!nf.b(this.c[c+1],d))return!1;c+=2}},je.jb=function(){return new ec(this.c.length,B(this.c))},je.va=function(){return Qe(Lf,this.o)},je.za=function(a,b){return Ra(this,b)},je.Aa=function(a,b,c){return Sa(this,b,c)},je.Gb=function(a,b){if(!(0<=$b(this.c,b)))return this;a=this.c.length;var c=a-2;if(0===c)return this.va();c=Array(c);for(var d=0,e=0;;){if(d>=a)return new dc(this.o,this.j-1,c,null);nf.b(b,this.c[d])?d+=2:(c[e]=this.c[d],c[e+1]=this.c[d+1],e+=2,d+=2)}},je.Wa=function(a,b,c){if(a=$b(this.c,b),-1===a){if(this.j<Mf){a=this.c;for(var d=a.length,e=Array(d+2),f=0;d>f;)e[f]=a[f],f+=1;return e[d]=b,e[d+1]=c,new dc(this.o,this.j+1,e,null)}return Qe(Je(Ef.b(Of,this),b,c),this.o)}return c===this.c[a+1]?this:(b=B(this.c),b[a+1]=c,new dc(this.o,this.j,b,null))},je.Y=function(){var a=this.c;return 0<=a.length-2?new bc(a,0,null):null},je.T=function(a,b){return b===this.o?this:new dc(b,this.j,this.c,this.s)},je.ba=function(a,b){if(Ka(b))return this.Wa(null,Ee.b(b,0),Ee.b(b,1));for(a=this,b=ca(b);;){if(null==b)return a;var c=da(b);if(!Ka(c))throw Error("conj on a map takes map entries or seqables of map entries");a=Je(a,Ee.b(c,0),Ee.b(c,1)),b=fa(b)}},je.call=function(){var a=null;return a=function(a,b,c){switch(arguments.length){case 2:return this.R(null,b);case 3:return this.B(null,b,c)}throw Error("Invalid arity: "+(arguments.length-1))},a.b=function(a,b){return this.R(null,b)},a.f=function(a,b,c){return this.B(null,b,c)},a}(),je.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))},je.a=function(a){return this.R(null,a)},je.b=function(a,b){return this.B(null,a,b)};var Lf=new dc(null,0,[],pf),Mf=8;dc.prototype[Be]=function(){return ha(this)},je=ec.prototype,je.X=function(){if(v(this.mb))return Ya(this.nb);throw Error("count after persistent!")},je.R=function(a,b){return this.B(null,b,null)},je.B=function(a,b,c){if(v(this.mb))return a=$b(this.c,b),-1===a?c:this.c[a+1];throw Error("lookup after persistent!")},je.lb=function(a,b){if(!v(this.mb))throw Error("conj! after persistent!");if(ac(b))return this.kb(null,Me(b),Ne(b));if(Ka(b))return this.kb(null,b.a?b.a(0):b.call(null,0),b.a?b.a(1):b.call(null,1));for(a=ca(b),b=this;;){var c=da(a);if(!v(c))return b;a=fa(a),b=_e(b,Me(c),Ne(c))}},je.sb=function(){if(v(this.mb))return this.mb=!1,new dc(null,Ya(this.nb),this.c,null);throw Error("persistent! called twice")},je.kb=function(a,b,c){if(v(this.mb)){if(a=$b(this.c,b),-1===a){if(this.nb+2<=2*Mf)return this.nb+=2,this.c.push(b),this.c.push(c),this;a:{a=this.nb;for(var d=this.c,e=Ye(Of),f=0;;){if(!(a>f))break a;e=_e(e,d[f],d[f+1]),f+=2}}return _e(e,b,c)}return c!==this.c[a+1]&&(this.c[a+1]=c),this}throw Error("assoc! after persistent!")},je.call=function(){var a=null;return a=function(a,b,c){switch(arguments.length){case 2:return this.B(null,b,null);case 3:return this.B(null,b,c)}throw Error("Invalid arity: "+(arguments.length-1))},a.b=function(a,b){return this.B(null,b,null)},a.f=function(a,b,c){return this.B(null,b,c)},a}(),je.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))},je.a=function(a){return this.B(null,a,null)},je.b=function(a,b){return this.B(null,a,b)},lc.prototype.advance=function(){for(var a=this.c.length;;){if(!(this.l<a))return!1;var b=this.c[this.l],c=this.c[this.l+1];if(null!=b?b=this.Bb=new _b(b,c):null!=c?(b=hf(c),b=b.da()?this.Ra=b:!1):b=!1,this.l+=2,b)return!0}},lc.prototype.da=function(){var a=null!=this.Bb;return a?a:(a=null!=this.Ra)?a:this.advance()},lc.prototype.next=function(){if(null!=this.Bb){var a=this.Bb;return this.Bb=null,a}if(null!=this.Ra)return a=this.Ra.next(),this.Ra.da()||(this.Ra=null),a;if(this.advance())return this.next();throw Error("No such element")},lc.prototype.remove=function(){return Error("Unsupported operation")},je=mc.prototype,je.eb=function(a){if(a===this.J)return this;var b=Za(this.K),c=Array(0>b?4:2*(b+1));return Ma(this.c,0,c,0,2*b),new mc(a,this.K,c)},je.yb=function(){return sc(this.c,0,null)},je.Ab=function(a,b){return kc(this.c,a,b)},je.fb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.K&e))return d;var f=Za(this.K&e-1);return e=this.c[2*f],f=this.c[2*f+1],null==e?f.fb(a+5,b,c,d):gc(c,e)?f:d},je.Pa=function(a,b,c,d,e,f){var g=1<<(c>>>b&31),h=Za(this.K&g-1);if(0===(this.K&g)){var i=Za(this.K);if(2*i<this.c.length){a=this.eb(a),b=a.c,f.I=!0;a:for(c=2*(i-h),f=2*h+(c-1),i=2*(h+1)+(c-1);0!==c;)b[i]=b[f],--i,--c,--f;return b[2*h]=d,b[2*h+1]=e,a.K|=g,a}if(i>=16){for(h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],h[c>>>b&31]=Nf.Pa(a,b+5,c,d,e,f),e=d=0;32>d;)0===(this.K>>>d&1)?d+=1:(h[d]=null!=this.c[e]?Nf.Pa(a,b+5,$(this.c[e]),this.c[e],this.c[e+1],f):this.c[e+1],e+=2,d+=1);return new oc(a,i+1,h)}return b=Array(2*(i+4)),Ma(this.c,0,b,0,2*h),b[2*h]=d,b[2*h+1]=e,Ma(this.c,2*h,b,2*(h+1),2*(i-h)),f.I=!0,a=this.eb(a),a.c=b,a.K|=g,a}if(i=this.c[2*h],g=this.c[2*h+1],null==i)return i=g.Pa(a,b+5,c,d,e,f),i===g?this:jc(this,a,2*h+1,i);if(gc(d,i))return e===g?this:jc(this,a,2*h+1,e);if(f.I=!0,f=b+5,b=$(i),b===c)e=new qc(null,b,2,[i,g,d,e]);else{var j=new fc;e=Nf.Pa(a,f,b,i,g,j).Pa(a,f,c,d,e,j)}return d=2*h,h=2*h+1,a=this.eb(a),a.c[d]=null,a.c[h]=e,a},je.Oa=function(a,b,c,d,e){var f=1<<(b>>>a&31),g=Za(this.K&f-1);if(0===(this.K&f)){var h=Za(this.K);if(h>=16){for(g=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],g[b>>>a&31]=Nf.Oa(a+5,b,c,d,e),d=c=0;32>c;)0===(this.K>>>c&1)?c+=1:(g[c]=null!=this.c[d]?Nf.Oa(a+5,$(this.c[d]),this.c[d],this.c[d+1],e):this.c[d+1],d+=2,c+=1);return new oc(null,h+1,g)}return a=Array(2*(h+1)),Ma(this.c,0,a,0,2*g),a[2*g]=c,a[2*g+1]=d,Ma(this.c,2*g,a,2*(g+1),2*(h-g)),e.I=!0,new mc(null,this.K|f,a)}var i=this.c[2*g];if(f=this.c[2*g+1],null==i)return h=f.Oa(a+5,b,c,d,e),h===f?this:new mc(null,this.K,hc(this.c,2*g+1,h));if(gc(c,i))return d===f?this:new mc(null,this.K,hc(this.c,2*g+1,d));e.I=!0,e=this.K,h=this.c,a+=5;var j=$(i);if(j===b)c=new qc(null,j,2,[i,f,c,d]);else{var k=new fc;c=Nf.Oa(a,j,i,f,k).Oa(a,b,c,d,k)}return a=2*g,g=2*g+1,d=B(h),d[a]=null,d[g]=c,new mc(null,e,d)},je.xb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.K&e))return d;var f=Za(this.K&e-1);return e=this.c[2*f],f=this.c[2*f+1],null==e?f.xb(a+5,b,c,d):gc(c,e)?new _b(e,f):d},je.zb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.K&d))return this;var e=Za(this.K&d-1),f=this.c[2*e],g=this.c[2*e+1];return null==f?(a=g.zb(a+5,b,c),a===g?this:null!=a?new mc(null,this.K,hc(this.c,2*e+1,a)):this.K===d?null:new mc(null,this.K^d,ic(this.c,e))):gc(c,f)?new mc(null,this.K^d,ic(this.c,e)):this},je.Ea=function(){return new lc(this.c)};var Nf=new mc(null,0,[]);nc.prototype.da=function(){for(var a=this.c.length;;){if(null!=this.Ra&&this.Ra.da())return!0;if(!(this.l<a))return!1;var b=this.c[this.l];this.l+=1,null!=b&&(this.Ra=hf(b))}},nc.prototype.next=function(){if(this.da())return this.Ra.next();throw Error("No such element")},nc.prototype.remove=function(){return Error("Unsupported operation")},je=oc.prototype,je.eb=function(a){return a===this.J?this:new oc(a,this.j,B(this.c))},je.yb=function(){return uc(this.c,0,null)},je.Ab=function(a,b){for(var c=this.c.length,d=0;;){if(!(c>d))return b;var e=this.c[d];if(null!=e){if(b=e.Ab(a,b),ma(b))return b;d+=1}else d+=1}},je.fb=function(a,b,c,d){var e=this.c[b>>>a&31];return null!=e?e.fb(a+5,b,c,d):d},je.Pa=function(a,b,c,d,e,f){var g=c>>>b&31,h=this.c[g];return null==h?(a=jc(this,a,g,Nf.Pa(a,b+5,c,d,e,f)),a.j+=1,a):(b=h.Pa(a,b+5,c,d,e,f),b===h?this:jc(this,a,g,b))},je.Oa=function(a,b,c,d,e){var f=b>>>a&31,g=this.c[f];return null==g?new oc(null,this.j+1,hc(this.c,f,Nf.Oa(a+5,b,c,d,e))):(a=g.Oa(a+5,b,c,d,e),a===g?this:new oc(null,this.j,hc(this.c,f,a)))},je.xb=function(a,b,c,d){var e=this.c[b>>>a&31];return null!=e?e.xb(a+5,b,c,d):d},je.zb=function(a,b,c){var d=b>>>a&31,e=this.c[d];if(null!=e){if(a=e.zb(a+5,b,c),a===e)d=this;else if(null==a)if(8>=this.j)a:{e=this.c,a=e.length,b=Array(2*(this.j-1)),c=0;for(var f=1,g=0;;){if(!(a>c)){d=new mc(null,g,b);break a}c!==d&&null!=e[c]?(b[f]=e[c],f+=2,g|=1<<c,c+=1):c+=1}}else d=new oc(null,this.j-1,hc(this.c,d,a));else d=new oc(null,this.j,hc(this.c,d,a));return d}return this},je.Ea=function(){return new nc(this.c)},je=qc.prototype,je.eb=function(a){if(a===this.J)return this;var b=Array(2*(this.j+1));return Ma(this.c,0,b,0,2*this.j),new qc(a,this.Xa,this.j,b)},je.yb=function(){return sc(this.c,0,null)},je.Ab=function(a,b){return kc(this.c,a,b)},je.fb=function(a,b,c,d){return a=pc(this.c,this.j,c),0>a?d:gc(c,this.c[a])?this.c[a+1]:d},je.Pa=function(a,b,c,d,e,f){return c===this.Xa?(b=pc(this.c,this.j,d),-1===b?this.c.length>2*this.j?(b=2*this.j,c=2*this.j+1,a=this.eb(a),a.c[b]=d,a.c[c]=e,f.I=!0,a.j+=1,a):(c=this.c.length,b=Array(c+2),Ma(this.c,0,b,0,c),b[c]=d,b[c+1]=e,f.I=!0,d=this.j+1,a===this.J?(this.c=b,this.j=d,a=this):a=new qc(this.J,this.Xa,d,b),a):this.c[b+1]===e?this:jc(this,a,b+1,e)):new mc(a,1<<(this.Xa>>>b&31),[null,this,null,null]).Pa(a,b,c,d,e,f)},je.Oa=function(a,b,c,d,e){return b===this.Xa?(a=pc(this.c,this.j,c),-1===a?(a=2*this.j,b=Array(a+2),Ma(this.c,0,b,0,a),b[a]=c,b[a+1]=d,e.I=!0,new qc(null,this.Xa,this.j+1,b)):nf.b(this.c[a+1],d)?this:new qc(null,this.Xa,this.j,hc(this.c,a+1,d))):new mc(null,1<<(this.Xa>>>a&31),[null,this]).Oa(a,b,c,d,e)},je.xb=function(a,b,c,d){return a=pc(this.c,this.j,c),0>a?d:gc(c,this.c[a])?new _b(this.c[a],this.c[a+1]):d},je.zb=function(a,b,c){return a=pc(this.c,this.j,c),-1===a?this:1===this.j?null:new qc(null,this.Xa,this.j-1,ic(this.c,Ya(a)))},je.Ea=function(){return new lc(this.c)},je=rc.prototype,je.toString=function(){return U(this)},je.equiv=function(a){return this.w(null,a)},je.indexOf=function(){var a=null;return a=function(a,b){switch(arguments.length){case 1:return ta(this,a,0);case 2:return ta(this,a,b)}throw Error("Invalid arity: "+arguments.length)},a.a=function(a){return ta(this,a,0)},a.b=function(a,b){return ta(this,a,b)},a}(),je.lastIndexOf=function(){function a(a){return ua(this,a,za(this))}var b=null;return b=function(b,c){switch(arguments.length){case 1:return a.call(this,b);case 2:return ua(this,b,c)}throw Error("Invalid arity: "+arguments.length)},b.a=a,b.b=function(a,b){return ua(this,a,b)},b}(),je.P=function(){return this.o},je.ea=function(){return null==this.C?sc(this.Sa,this.l+2,null):sc(this.Sa,this.l,fa(this.C))},je.Z=function(){var a=this.s;return null!=a?a:this.s=a=ja(this)},je.w=function(a,b){return $a(this,b)},je.va=function(){return wf},je.za=function(a,b){return Pa(b,this)},je.Aa=function(a,b,c){return Qa(b,c,this)},je.xa=function(){return null==this.C?new _b(this.Sa[this.l],this.Sa[this.l+1]):da(this.C)},je.Ca=function(){var a=null==this.C?sc(this.Sa,this.l+2,null):sc(this.Sa,this.l,fa(this.C));return null!=a?a:wf},je.Y=function(){return this},je.T=function(a,b){return b===this.o?this:new rc(b,this.Sa,this.l,this.C,this.s)},je.ba=function(a,b){return cb(b,this)},rc.prototype[Be]=function(){return ha(this)},je=tc.prototype,je.toString=function(){return U(this)},je.equiv=function(a){return this.w(null,a)},je.indexOf=function(){var a=null;return a=function(a,b){switch(arguments.length){case 1:return ta(this,a,0);case 2:return ta(this,a,b)}throw Error("Invalid arity: "+arguments.length)},a.a=function(a){return ta(this,a,0)},a.b=function(a,b){return ta(this,a,b)},a}(),je.lastIndexOf=function(){function a(a){return ua(this,a,za(this))}var b=null;return b=function(b,c){switch(arguments.length){case 1:return a.call(this,b);case 2:return ua(this,b,c)}throw Error("Invalid arity: "+arguments.length)},b.a=a,b.b=function(a,b){return ua(this,a,b)},b}(),je.P=function(){return this.o},je.ea=function(){return uc(this.Sa,this.l,fa(this.C))},je.Z=function(){var a=this.s;return null!=a?a:this.s=a=ja(this)},je.w=function(a,b){return $a(this,b)},je.va=function(){return wf},je.za=function(a,b){return Pa(b,this)},je.Aa=function(a,b,c){return Qa(b,c,this)},je.xa=function(){return da(this.C)},je.Ca=function(){var a=uc(this.Sa,this.l,fa(this.C));return null!=a?a:wf},je.Y=function(){return this},je.T=function(a,b){return b===this.o?this:new tc(b,this.Sa,this.l,this.C,this.s)},je.ba=function(a,b){return cb(b,this)},tc.prototype[Be]=function(){return ha(this)},vc.prototype.da=function(){return!this.Zb||this.lc.da()},vc.prototype.next=function(){return this.Zb?this.lc.next():(this.Zb=!0,new _b(null,this.ua))},vc.prototype.remove=function(){return Error("Unsupported operation")},je=wc.prototype,je.pb=function(a,b){return null==b?this.ya?new _b(null,this.ua):null:null==this.root?null:this.root.xb(0,$(b),b,null)},je.toString=function(){return U(this)},je.equiv=function(a){return this.w(null,a)},je.keys=function(){return ha(Ac(this))},je.entries=function(){return new Yb(ca(ca(this)))},je.values=function(){return ha(Cc(this))},je.has=function(a){return Oa(this,a)},je.get=function(a,b){return this.B(null,a,b)},je.forEach=function(a){for(var b=ca(this),c=null,d=0,e=0;;)if(d>e){var f=c.G(null,e),g=Ca(f,0);f=Ca(f,1),a.b?a.b(f,g):a.call(null,f,g),e+=1}else{if(!(b=ca(b)))return null;La(b)?(c=bf(b),b=cf(b),g=c,d=za(c),c=g):(c=da(b),g=Ca(c,0),f=Ca(c,1),a.b?a.b(f,g):a.call(null,f,g),b=fa(b),c=null,d=0),e=0}},je.R=function(a,b){return this.B(null,b,null)},je.B=function(a,b,c){return null==b?this.ya?this.ua:c:null==this.root?c:this.root.fb(0,$(b),b,c)},je.qb=function(a,b,c){return a=this.ya?b.f?b.f(c,null,this.ua):b.call(null,c,null,this.ua):c,ma(a)?b=Oe(a):null!=this.root?(b=this.root.Ab(b,a),b=ma(b)?Oe(b):b):b=a,b},je.Ea=function(){var a=this.root?hf(this.root):xb();return this.ya?new vc(this.ua,a):a},je.P=function(){return this.o},je.X=function(){return this.j},je.Z=function(){var a=this.s;return null!=a?a:this.s=a=ka(this)},je.w=function(a,b){return Wb(this,b)},je.jb=function(){return new xc(this.root,this.j,this.ya,this.ua);
},je.va=function(){return Qe(Of,this.o)},je.Gb=function(a,b){return null==b?this.ya?new wc(this.o,this.j-1,this.root,!1,null,null):this:null==this.root?this:(a=this.root.zb(0,$(b),b),a===this.root?this:new wc(this.o,this.j-1,a,this.ya,this.ua,null))},je.Wa=function(a,b,c){return null==b?this.ya&&c===this.ua?this:new wc(this.o,this.ya?this.j:this.j+1,this.root,!0,c,null):(a=new fc,b=(null==this.root?Nf:this.root).Oa(0,$(b),b,c,a),b===this.root?this:new wc(this.o,a.I?this.j+1:this.j,b,this.ya,this.ua,null))},je.Y=function(){if(0<this.j){var a=null!=this.root?this.root.yb():null;return this.ya?cb(new _b(null,this.ua),a):a}return null},je.T=function(a,b){return b===this.o?this:new wc(b,this.j,this.root,this.ya,this.ua,this.s)},je.ba=function(a,b){if(Ka(b))return this.Wa(null,Ee.b(b,0),Ee.b(b,1));for(a=this,b=ca(b);;){if(null==b)return a;var c=da(b);if(!Ka(c))throw Error("conj on a map takes map entries or seqables of map entries");a=Je(a,Ee.b(c,0),Ee.b(c,1)),b=fa(b)}},je.call=function(){var a=null;return a=function(a,b,c){switch(arguments.length){case 2:return this.R(null,b);case 3:return this.B(null,b,c)}throw Error("Invalid arity: "+(arguments.length-1))},a.b=function(a,b){return this.R(null,b)},a.f=function(a,b,c){return this.B(null,b,c)},a}(),je.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))},je.a=function(a){return this.R(null,a)},je.b=function(a,b){return this.B(null,a,b)};var Of=new wc(null,0,null,!1,null,pf);wc.prototype[Be]=function(){return ha(this)},je=xc.prototype,je.X=function(){if(this.J)return this.count;throw Error("count after persistent!")},je.R=function(a,b){return null==b?this.ya?this.ua:null:null==this.root?null:this.root.fb(0,$(b),b)},je.B=function(a,b,c){return null==b?this.ya?this.ua:c:null==this.root?c:this.root.fb(0,$(b),b,c)},je.lb=function(a,b){a:{if(!this.J)throw Error("conj! after persistent");if(ac(b))a=yc(this,Me(b),Ne(b));else if(Ka(b))a=yc(this,b.a?b.a(0):b.call(null,0),b.a?b.a(1):b.call(null,1));else for(a=ca(b),b=this;;){var c=da(a);if(!v(c)){a=b;break a}a=fa(a),b=yc(b,Me(c),Ne(c))}}return a},je.sb=function(){if(!this.J)throw Error("persistent! called twice");this.J=null;var a=new wc(null,this.count,this.root,this.ya,this.ua,null);return a},je.kb=function(a,b,c){return yc(this,b,c)},je.call=function(){var a=null;return a=function(a,b,c){switch(arguments.length){case 2:return this.R(null,b);case 3:return this.B(null,b,c)}throw Error("Invalid arity: "+(arguments.length-1))},a.b=function(a,b){return this.R(null,b)},a.f=function(a,b,c){return this.B(null,b,c)},a}(),je.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))},je.a=function(a){return this.R(null,a)},je.b=function(a,b){return this.B(null,a,b)};var Pf=function Wk(a){for(var b=[],c=arguments.length,d=0;c>d;)b.push(arguments[d]),d+=1;return Wk.v(0<b.length?new wa(b.slice(0),0,null):null)};Pf.v=function(a){for(var b=ca(a),c=Ye(Of);;){if(!b)return $e(c);a=fa(fa(b));var d=da(b);b=da(fa(b)),c=_e(c,d,b),b=a}},Pf.M=0,Pf.aa=function(a){return this.v(ca(a))},je=zc.prototype,je.toString=function(){return U(this)},je.equiv=function(a){return this.w(null,a)},je.indexOf=function(){var a=null;return a=function(a,b){switch(arguments.length){case 1:return ta(this,a,0);case 2:return ta(this,a,b)}throw Error("Invalid arity: "+arguments.length)},a.a=function(a){return ta(this,a,0)},a.b=function(a,b){return ta(this,a,b)},a}(),je.lastIndexOf=function(){function a(a){return ua(this,a,za(this))}var b=null;return b=function(b,c){switch(arguments.length){case 1:return a.call(this,b);case 2:return ua(this,b,c)}throw Error("Invalid arity: "+arguments.length)},b.a=a,b.b=function(a,b){return ua(this,a,b)},b}(),je.P=function(){return this.Ta},je.ea=function(){var a=(null!=this.D?128&this.D.i||we===this.D.rb||(this.D.i?0:y(F,this.D)):y(F,this.D))?this.D.ea(null):fa(this.D);return null==a?null:new zc(a,null)},je.Z=function(){return ja(this)},je.w=function(a,b){return $a(this,b)},je.va=function(){return wf},je.za=function(a,b){return Pa(b,this)},je.Aa=function(a,b,c){return Qa(b,c,this)},je.xa=function(){return this.D.xa(null).key},je.Ca=function(){var a=(null!=this.D?128&this.D.i||we===this.D.rb||(this.D.i?0:y(F,this.D)):y(F,this.D))?this.D.ea(null):fa(this.D);return null!=a?new zc(a,null):wf},je.Y=function(){return this},je.T=function(a,b){return b===this.Ta?this:new zc(this.D,b)},je.ba=function(a,b){return cb(b,this)},zc.prototype[Be]=function(){return ha(this)},je=Bc.prototype,je.toString=function(){return U(this)},je.equiv=function(a){return this.w(null,a)},je.indexOf=function(){var a=null;return a=function(a,b){switch(arguments.length){case 1:return ta(this,a,0);case 2:return ta(this,a,b)}throw Error("Invalid arity: "+arguments.length)},a.a=function(a){return ta(this,a,0)},a.b=function(a,b){return ta(this,a,b)},a}(),je.lastIndexOf=function(){function a(a){return ua(this,a,za(this))}var b=null;return b=function(b,c){switch(arguments.length){case 1:return a.call(this,b);case 2:return ua(this,b,c)}throw Error("Invalid arity: "+arguments.length)},b.a=a,b.b=function(a,b){return ua(this,a,b)},b}(),je.P=function(){return this.Ta},je.ea=function(){var a=(null!=this.D?128&this.D.i||we===this.D.rb||(this.D.i?0:y(F,this.D)):y(F,this.D))?this.D.ea(null):fa(this.D);return null==a?null:new Bc(a,null)},je.Z=function(){return ja(this)},je.w=function(a,b){return $a(this,b)},je.va=function(){return wf},je.za=function(a,b){return Pa(b,this)},je.Aa=function(a,b,c){return Qa(b,c,this)},je.xa=function(){return this.D.xa(null).I},je.Ca=function(){var a=(null!=this.D?128&this.D.i||we===this.D.rb||(this.D.i?0:y(F,this.D)):y(F,this.D))?this.D.ea(null):fa(this.D);return null!=a?new Bc(a,null):wf},je.Y=function(){return this},je.T=function(a,b){return b===this.Ta?this:new Bc(this.D,b)},je.ba=function(a,b){return cb(b,this)},Bc.prototype[Be]=function(){return ha(this)};var Qf=function Xk(a){for(var b=[],c=arguments.length,d=0;c>d;)b.push(arguments[d]),d+=1;return Xk.v(0<b.length?new wa(b.slice(0),0,null):null)};Qf.v=function(a){return v(zb(a))?Ta(function(a,b){return qf.b(v(a)?a:Lf,b)},a):null},Qf.M=0,Qf.aa=function(a){return this.v(ca(a))},Dc.prototype.da=function(){return this.Yb.da()},Dc.prototype.next=function(){if(this.Yb.da())return this.Yb.next().key;throw Error("No such element")},Dc.prototype.remove=function(){return Error("Unsupported operation")},je=Ec.prototype,je.toString=function(){return U(this)},je.equiv=function(a){return this.w(null,a)},je.keys=function(){return ha(ca(this))},je.entries=function(){return new Zb(ca(ca(this)))},je.values=function(){return ha(ca(this))},je.has=function(a){return Oa(this,a)},je.forEach=function(a){for(var b=ca(this),c=null,d=0,e=0;;)if(d>e){var f=c.G(null,e),g=Ca(f,0);f=Ca(f,1),a.b?a.b(f,g):a.call(null,f,g),e+=1}else{if(!(b=ca(b)))return null;La(b)?(c=bf(b),b=cf(b),g=c,d=za(c),c=g):(c=da(b),g=Ca(c,0),f=Ca(c,1),a.b?a.b(f,g):a.call(null,f,g),b=fa(b),c=null,d=0),e=0}},je.R=function(a,b){return this.B(null,b,null)},je.B=function(a,b,c){return a=Ke(this.$a,b),v(a)?Me(a):c},je.Ea=function(){return new Dc(hf(this.$a))},je.P=function(){return this.o},je.X=function(){return Ce(this.$a)},je.Z=function(){var a=this.s;return null!=a?a:this.s=a=ka(this)},je.w=function(a,b){if(!(a=Ga(b)))return a;var c=za(this)===za(b);if(!c)return c;try{return Va(function(){return function(a,c){return(a=Oa(b,c))?a:new la}}(c,a,this),this.$a)}catch(d){if(d instanceof Error)return!1;throw d}},je.jb=function(){return new Fc(Ye(this.$a))},je.va=function(){return Qe(Rf,this.o)},je.Y=function(){return Ac(this.$a)},je.T=function(a,b){return b===this.o?this:new Ec(b,this.$a,this.s)},je.ba=function(a,b){return new Ec(this.o,sf.f(this.$a,b,null),null)},je.call=function(){var a=null;return a=function(a,b,c){switch(arguments.length){case 2:return this.R(null,b);case 3:return this.B(null,b,c)}throw Error("Invalid arity: "+(arguments.length-1))},a.b=function(a,b){return this.R(null,b)},a.f=function(a,b,c){return this.B(null,b,c)},a}(),je.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))},je.a=function(a){return this.R(null,a)},je.b=function(a,b){return this.B(null,a,b)};var Rf=new Ec(null,Lf,pf);Ec.prototype[Be]=function(){return ha(this)},je=Fc.prototype,je.lb=function(a,b){return this.Za=_e(this.Za,b,null),this},je.sb=function(){return new Ec(null,$e(this.Za),null)},je.X=function(){return za(this.Za)},je.R=function(a,b){return this.B(null,b,null)},je.B=function(a,b,c){return Ie.f(this.Za,b,uf)===uf?c:b},je.call=function(){function a(a,b,c){return Ie.f(this.Za,b,uf)===uf?c:b}function b(a,b){return Ie.f(this.Za,b,uf)===uf?null:b}var c=null;return c=function(c,d,e){switch(arguments.length){case 2:return b.call(this,c,d);case 3:return a.call(this,c,d,e)}throw Error("Invalid arity: "+(arguments.length-1))},c.b=b,c.f=a,c}(),je.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))},je.a=function(a){return Ie.f(this.Za,a,uf)===uf?null:a},je.b=function(a,b){return Ie.f(this.Za,a,uf)===uf?b:a},je=Hc.prototype,je.X=function(){return this.count},je.xa=function(){return this.start},je.G=function(a,b){return this.start+b*this.step},je.wa=function(a,b,c){return b>=0&&b<this.count?this.start+b*this.step:c},je.Qb=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Hc(this.start+this.step,this.step,this.count-1)},Ic.prototype.da=function(){return 0<this.step?this.l<this.end:this.l>this.end},Ic.prototype.next=function(){var a=this.l;return this.l+=this.step,a},je=Jc.prototype,je.toString=function(){return U(this)},je.equiv=function(a){return this.w(null,a)},je.indexOf=function(){var a=null;return a=function(a,b){switch(arguments.length){case 1:return ta(this,a,0);case 2:return ta(this,a,b)}throw Error("Invalid arity: "+arguments.length)},a.a=function(a){return ta(this,a,0)},a.b=function(a,b){return ta(this,a,b)},a}(),je.lastIndexOf=function(){function a(a){return ua(this,a,za(this))}var b=null;return b=function(b,c){switch(arguments.length){case 1:return a.call(this,b);case 2:return ua(this,b,c)}throw Error("Invalid arity: "+arguments.length)},b.a=a,b.b=function(a,b){return ua(this,a,b)},b}(),je.G=function(a,b){if(b>=0&&b<this.X(null))return this.start+b*this.step;if(b>=0&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds")},je.wa=function(a,b,c){return b>=0&&b<this.X(null)?this.start+b*this.step:b>=0&&this.start>this.end&&0===this.step?this.start:c},je.Ea=function(){return new Ic(this.start,this.end,this.step)},je.P=function(){return this.o},je.ea=function(){return 0<this.step?this.start+this.step<this.end?new Jc(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Jc(null,this.start+this.step,this.end,this.step,null,null,null):null},je.X=function(){return Math.ceil((this.end-this.start)/this.step)},je.Z=function(){var a=this.s;return null!=a?a:this.s=a=ja(this)},je.w=function(a,b){return $a(this,b)},je.va=function(){return wf},je.za=function(a,b){return na(this,b)},je.Aa=function(a,b,c){for(a=this.start;;){if(!(0<this.step?a<this.end:a>this.end))return c;if(c=b.b?b.b(c,a):b.call(null,c,a),ma(c))return Oe(c);a+=this.step}},je.xa=function(){return this.start},je.Ca=function(){var a=this.ea(null);return null==a?wf:a},je.Y=function(){return this},je.Eb=function(){return Kc(this),this.V},je.ib=function(){return Kc(this),null==this.Db?wf:this.Db},je.T=function(a,b){return b===this.o?this:new Jc(b,this.start,this.end,this.step,this.V,this.Db,this.s)},je.ba=function(a,b){return cb(b,this)},je.Rb=function(){return ca(this.ib(null))},Jc.prototype[Be]=function(){return ha(this)};var Sf={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};wa.prototype.ta=we,wa.prototype.$=function(a,b,c){return Nc(b,Sc,"("," ",")",c,this)},gb.prototype.ta=we,gb.prototype.$=function(a,b,c){return Nc(b,Sc,"("," ",")",c,this)},_b.prototype.ta=we,_b.prototype.$=function(a,b,c){return Nc(b,Sc,"["," ","]",c,this)},rc.prototype.ta=we,rc.prototype.$=function(a,b,c){return Nc(b,Sc,"("," ",")",c,this)},bc.prototype.ta=we,bc.prototype.$=function(a,b,c){return Nc(b,Sc,"("," ",")",c,this)},Rb.prototype.ta=we,Rb.prototype.$=function(a,b,c){return Nc(b,Sc,"("," ",")",c,this)},bb.prototype.ta=we,bb.prototype.$=function(a,b,c){return Nc(b,Sc,"("," ",")",c,this)},wc.prototype.ta=we,wc.prototype.$=function(a,b,c){return Vc(this,b,c)},tc.prototype.ta=we,tc.prototype.$=function(a,b,c){return Nc(b,Sc,"("," ",")",c,this)},Ec.prototype.ta=we,Ec.prototype.$=function(a,b,c){return Nc(b,Sc,"#{"," ","}",c,this)},lb.prototype.ta=we,lb.prototype.$=function(a,b,c){return Nc(b,Sc,"("," ",")",c,this)},Bb.prototype.ta=we,Bb.prototype.$=function(a,b,c){return We(b,"#object[cljs.core.Atom "),Sc(new dc(null,1,[Og,this.state],null),b,c),We(b,"]")},Bc.prototype.ta=we,Bc.prototype.$=function(a,b,c){return Nc(b,Sc,"("," ",")",c,this)},Qb.prototype.ta=we,Qb.prototype.$=function(a,b,c){return Nc(b,Sc,"["," ","]",c,this)},ab.prototype.ta=we,ab.prototype.$=function(a,b){return We(b,"()")},dc.prototype.ta=we,dc.prototype.$=function(a,b,c){return Vc(this,b,c)},Jc.prototype.ta=we,Jc.prototype.$=function(a,b,c){return Nc(b,Sc,"("," ",")",c,this)},zc.prototype.ta=we,zc.prototype.$=function(a,b,c){return Nc(b,Sc,"("," ",")",c,this)},_a.prototype.ta=we,_a.prototype.$=function(a,b,c){return Nc(b,Sc,"("," ",")",c,this)};var Tf=function Yk(a){if(null!=a&&null!=a.pc)return a.pc(a);var c=Yk[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=Yk._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("IEncodeJS.-clj->js",a)},Uf=function Zk(a){for(var b=[],c=arguments.length,d=0;c>d;)b.push(arguments[d]),d+=1;return Zk.v(arguments[0],1<b.length?new wa(b.slice(1),0,null):null)};Uf.v=function(a,b){var c=null!=b&&(64&b.i||we===b.Da)?ub(Pf,b):b,d=rf.f(c,Ug,Gc),e=function(){return function(a){var b=f;return(null!=a?we===a.oc||(a.Cc?0:y(Wc,a)):y(Wc,a))?a=Tf(a):"string"==typeof a||"number"==typeof a||a instanceof db||a instanceof aa?a=b.a?b.a(a):b.call(null,a):(a=xa([a]),b=u(),a=null==a||x(ca(a))?"":vf.a(Tc(a,b))),a}}(b,c,c,d),f=function(a,b,c,d){return function f(a){if(null==a)return null;if(null!=a?we===a.oc||(a.Cc?0:y(Wc,a)):y(Wc,a))return Tf(a);if(a instanceof db)return d.a?d.a(a):d.call(null,a);if(a instanceof aa)return vf.a(a);if(Ia(a)){var b={};a=ca(a);for(var c=null,g=0,h=0;;)if(g>h){var i=c.G(null,h),j=Ca(i,0),k=Ca(i,1);i=b,j=e(j),k=f(k),i[j]=k,h+=1}else{if(!(a=ca(a)))break;La(a)?(g=bf(a),a=cf(a),c=g,g=za(g)):(c=da(a),g=Ca(c,0),h=Ca(c,1),c=b,g=e(g),h=f(h),c[g]=h,a=fa(a),c=null,g=0),h=0}return b}if(null==a?0:null!=a?8&a.i||we===a.Pc||(a.i?0:y(D,a)):y(D,a)){for(b=[],a=ca(Cf.b(f,a)),c=null,h=g=0;;)if(g>h)i=c.G(null,h),b.push(i),h+=1;else{if(!(a=ca(a)))break;c=a,La(c)?(a=bf(c),h=cf(c),c=a,g=za(a),a=h):(a=da(c),b.push(a),a=fa(c),c=null,g=0),h=0}return b}return a}}(b,c,c,d);return f(a)},Uf.M=1,Uf.aa=function(a){var b=da(a);return a=fa(a),this.v(b,a)};var Vf=null,Wf=function $k(a,b,c){var d=function(){var b=Oe(c);return b.a?b.a(a):b.call(null,a)}();return d=v(v(d)?d.a?d.a(b):d.call(null,b):d)?!0:null,v(d)?d:(d=function(){for(var d=Zc(b);;){if(!(0<za(d)))return null;var e=da(d);$k.f?$k.f(a,e,c):$k.call(null,a,e,c),d=ea(d)}}(),v(d)?d:(d=function(){for(var d=Zc(a);;){if(!(0<za(d)))return null;var e=da(d);$k.f?$k.f(e,b,c):$k.call(null,e,b,c),d=ea(d)}}(),v(d)?d:!1))},Xf=function _k(a,b,c,d,e,f,g,h){var i=Ua(function(d,f){var g=Ca(f,0);if(Ca(f,1),Yc(Oe(c),b,g)&&(d=null==d||_c(g,da(d),e,Oe(c))?f:d,!_c(da(d),g,e,Oe(c))))throw Error(["Multiple methods in multimethod '",vf.a(a),"' match dispatch value: ",vf.a(b)," -> ",vf.a(g)," and ",vf.a(da(d)),", and neither is preferred"].join(""));return d},null,Oe(d)),j=function(){var a;return(a=null==i)&&(a=Oe(d),a=a.a?a.a(h):a.call(null,h)),v(a)?new Qb(null,2,5,Hf,[h,a],null):i}();return v(j)?nf.b(Oe(g),Oe(c))?(Bf.A(f,sf,b,da(fa(j))),da(fa(j))):($c(f,d,g,c),_k.ca?_k.ca(a,b,c,d,e,f,g,h):_k.call(null,a,b,c,d,e,f,g,h)):null};if(je=bd.prototype,je.call=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,w){a=this;var x=vb(a.h,b,c,d,e,xa([f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,w])),y=dd(this,x);return v(y)||ad(a.name,x),vb(y,b,c,d,e,xa([f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,w]))}function b(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){a=this;var w=a.h.pa?a.h.pa(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u):a.h.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u),x=dd(this,w);return v(x)||ad(a.name,w),x.pa?x.pa(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u):x.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u)}function c(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){a=this;var u=a.h.oa?a.h.oa(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t):a.h.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t),w=dd(this,u);return v(w)||ad(a.name,u),w.oa?w.oa(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t):w.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t)}function d(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){a=this;var t=a.h.na?a.h.na(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s):a.h.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s),u=dd(this,t);return v(u)||ad(a.name,t),u.na?u.na(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s):u.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s)}function e(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){a=this;var s=a.h.ma?a.h.ma(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r):a.h.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r),t=dd(this,s);return v(t)||ad(a.name,s),t.ma?t.ma(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r):t.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r)}function f(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){a=this;var r=a.h.la?a.h.la(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q):a.h.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q),s=dd(this,r);return v(s)||ad(a.name,r),s.la?s.la(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q):s.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q)}function g(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){a=this;var q=a.h.ka?a.h.ka(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p):a.h.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p),r=dd(this,q);return v(r)||ad(a.name,q),r.ka?r.ka(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p):r.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p)}function h(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){a=this;var p=a.h.ja?a.h.ja(b,c,d,e,f,g,h,i,j,k,l,m,n,o):a.h.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o),q=dd(this,p);return v(q)||ad(a.name,p),q.ja?q.ja(b,c,d,e,f,g,h,i,j,k,l,m,n,o):q.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n,o)}function i(a,b,c,d,e,f,g,h,i,j,k,l,m,n){a=this;var o=a.h.ia?a.h.ia(b,c,d,e,f,g,h,i,j,k,l,m,n):a.h.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n),p=dd(this,o);return v(p)||ad(a.name,o),p.ia?p.ia(b,c,d,e,f,g,h,i,j,k,l,m,n):p.call(null,b,c,d,e,f,g,h,i,j,k,l,m,n)}function j(a,b,c,d,e,f,g,h,i,j,k,l,m){a=this;var n=a.h.ha?a.h.ha(b,c,d,e,f,g,h,i,j,k,l,m):a.h.call(null,b,c,d,e,f,g,h,i,j,k,l,m),o=dd(this,n);return v(o)||ad(a.name,n),o.ha?o.ha(b,c,d,e,f,g,h,i,j,k,l,m):o.call(null,b,c,d,e,f,g,h,i,j,k,l,m)}function k(a,b,c,d,e,f,g,h,i,j,k,l){a=this;var m=a.h.ga?a.h.ga(b,c,d,e,f,g,h,i,j,k,l):a.h.call(null,b,c,d,e,f,g,h,i,j,k,l),n=dd(this,m);return v(n)||ad(a.name,m),n.ga?n.ga(b,c,d,e,f,g,h,i,j,k,l):n.call(null,b,c,d,e,f,g,h,i,j,k,l)}function l(a,b,c,d,e,f,g,h,i,j,k){a=this;var l=a.h.fa?a.h.fa(b,c,d,e,f,g,h,i,j,k):a.h.call(null,b,c,d,e,f,g,h,i,j,k),m=dd(this,l);return v(m)||ad(a.name,l),m.fa?m.fa(b,c,d,e,f,g,h,i,j,k):m.call(null,b,c,d,e,f,g,h,i,j,k)}function m(a,b,c,d,e,f,g,h,i,j){a=this;var k=a.h.sa?a.h.sa(b,c,d,e,f,g,h,i,j):a.h.call(null,b,c,d,e,f,g,h,i,j),l=dd(this,k);return v(l)||ad(a.name,k),l.sa?l.sa(b,c,d,e,f,g,h,i,j):l.call(null,b,c,d,e,f,g,h,i,j)}function n(a,b,c,d,e,f,g,h,i){a=this;var j=a.h.ca?a.h.ca(b,c,d,e,f,g,h,i):a.h.call(null,b,c,d,e,f,g,h,i),k=dd(this,j);return v(k)||ad(a.name,j),k.ca?k.ca(b,c,d,e,f,g,h,i):k.call(null,b,c,d,e,f,g,h,i)}function o(a,b,c,d,e,f,g,h){a=this;var i=a.h.ra?a.h.ra(b,c,d,e,f,g,h):a.h.call(null,b,c,d,e,f,g,h),j=dd(this,i);return v(j)||ad(a.name,i),j.ra?j.ra(b,c,d,e,f,g,h):j.call(null,b,c,d,e,f,g,h)}function p(a,b,c,d,e,f,g){a=this;var h=a.h.qa?a.h.qa(b,c,d,e,f,g):a.h.call(null,b,c,d,e,f,g),i=dd(this,h);return v(i)||ad(a.name,h),i.qa?i.qa(b,c,d,e,f,g):i.call(null,b,c,d,e,f,g)}function q(a,b,c,d,e,f){a=this;var g=a.h.L?a.h.L(b,c,d,e,f):a.h.call(null,b,c,d,e,f),h=dd(this,g);return v(h)||ad(a.name,g),h.L?h.L(b,c,d,e,f):h.call(null,b,c,d,e,f)}function r(a,b,c,d,e){a=this;var f=a.h.A?a.h.A(b,c,d,e):a.h.call(null,b,c,d,e),g=dd(this,f);return v(g)||ad(a.name,f),g.A?g.A(b,c,d,e):g.call(null,b,c,d,e)}function s(a,b,c,d){a=this;var e=a.h.f?a.h.f(b,c,d):a.h.call(null,b,c,d),f=dd(this,e);return v(f)||ad(a.name,e),f.f?f.f(b,c,d):f.call(null,b,c,d)}function t(a,b,c){a=this;var d=a.h.b?a.h.b(b,c):a.h.call(null,b,c),e=dd(this,d);return v(e)||ad(a.name,d),e.b?e.b(b,c):e.call(null,b,c)}function u(a,b){a=this;var c=a.h.a?a.h.a(b):a.h.call(null,b),d=dd(this,c);return v(d)||ad(a.name,c),d.a?d.a(b):d.call(null,b)}function w(a){a=this;var b=a.h.m?a.h.m():a.h.call(null),c=dd(this,b);return v(c)||ad(a.name,b),c.m?c.m():c.call(null)}var x=null;return x=function(v,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R){switch(arguments.length){case 1:return w.call(this,v);case 2:return u.call(this,v,x);case 3:return t.call(this,v,x,y);case 4:return s.call(this,v,x,y,z);case 5:return r.call(this,v,x,y,z,A);case 6:return q.call(this,v,x,y,z,A,B);case 7:return p.call(this,v,x,y,z,A,B,C);case 8:return o.call(this,v,x,y,z,A,B,C,D);case 9:return n.call(this,v,x,y,z,A,B,C,D,E);case 10:return m.call(this,v,x,y,z,A,B,C,D,E,F);case 11:return l.call(this,v,x,y,z,A,B,C,D,E,F,G);case 12:return k.call(this,v,x,y,z,A,B,C,D,E,F,G,H);case 13:return j.call(this,v,x,y,z,A,B,C,D,E,F,G,H,I);case 14:return i.call(this,v,x,y,z,A,B,C,D,E,F,G,H,I,J);case 15:return h.call(this,v,x,y,z,A,B,C,D,E,F,G,H,I,J,K);case 16:return g.call(this,v,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L);case 17:return f.call(this,v,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M);case 18:return e.call(this,v,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N);case 19:return d.call(this,v,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O);case 20:return c.call(this,v,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P);case 21:return b.call(this,v,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q);case 22:return a.call(this,v,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R)}throw Error("Invalid arity: "+(arguments.length-1))},x.a=w,x.b=u,x.f=t,x.A=s,x.L=r,x.qa=q,x.ra=p,x.ca=o,x.sa=n,x.fa=m,x.ga=l,x.ha=k,x.ia=j,x.ja=i,x.ka=h,x.la=g,x.ma=f,x.na=e,x.oa=d,x.pa=c,x.Sb=b,x.qc=a,x}(),je.apply=function(a,b){return this.call.apply(this,[this].concat(B(b)))},je.m=function(){var a=this.h.m?this.h.m():this.h.call(null),b=dd(this,a);return v(b)||ad(this.name,a),b.m?b.m():b.call(null)},je.a=function(a){var b=this.h.a?this.h.a(a):this.h.call(null,a),c=dd(this,b);return v(c)||ad(this.name,b),c.a?c.a(a):c.call(null,a)},je.b=function(a,b){var c=this.h.b?this.h.b(a,b):this.h.call(null,a,b),d=dd(this,c);return v(d)||ad(this.name,c),d.b?d.b(a,b):d.call(null,a,b)},je.f=function(a,b,c){var d=this.h.f?this.h.f(a,b,c):this.h.call(null,a,b,c),e=dd(this,d);return v(e)||ad(this.name,d),e.f?e.f(a,b,c):e.call(null,a,b,c)},je.A=function(a,b,c,d){var e=this.h.A?this.h.A(a,b,c,d):this.h.call(null,a,b,c,d),f=dd(this,e);return v(f)||ad(this.name,e),f.A?f.A(a,b,c,d):f.call(null,a,b,c,d)},je.L=function(a,b,c,d,e){var f=this.h.L?this.h.L(a,b,c,d,e):this.h.call(null,a,b,c,d,e),g=dd(this,f);return v(g)||ad(this.name,f),g.L?g.L(a,b,c,d,e):g.call(null,a,b,c,d,e)},je.qa=function(a,b,c,d,e,f){var g=this.h.qa?this.h.qa(a,b,c,d,e,f):this.h.call(null,a,b,c,d,e,f),h=dd(this,g);return v(h)||ad(this.name,g),h.qa?h.qa(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)},je.ra=function(a,b,c,d,e,f,g){var h=this.h.ra?this.h.ra(a,b,c,d,e,f,g):this.h.call(null,a,b,c,d,e,f,g),i=dd(this,h);return v(i)||ad(this.name,h),i.ra?i.ra(a,b,c,d,e,f,g):i.call(null,a,b,c,d,e,f,g)},je.ca=function(a,b,c,d,e,f,g,h){var i=this.h.ca?this.h.ca(a,b,c,d,e,f,g,h):this.h.call(null,a,b,c,d,e,f,g,h),j=dd(this,i);return v(j)||ad(this.name,i),j.ca?j.ca(a,b,c,d,e,f,g,h):j.call(null,a,b,c,d,e,f,g,h)},je.sa=function(a,b,c,d,e,f,g,h,i){var j=this.h.sa?this.h.sa(a,b,c,d,e,f,g,h,i):this.h.call(null,a,b,c,d,e,f,g,h,i),k=dd(this,j);return v(k)||ad(this.name,j),k.sa?k.sa(a,b,c,d,e,f,g,h,i):k.call(null,a,b,c,d,e,f,g,h,i)},je.fa=function(a,b,c,d,e,f,g,h,i,j){var k=this.h.fa?this.h.fa(a,b,c,d,e,f,g,h,i,j):this.h.call(null,a,b,c,d,e,f,g,h,i,j),l=dd(this,k);return v(l)||ad(this.name,k),l.fa?l.fa(a,b,c,d,e,f,g,h,i,j):l.call(null,a,b,c,d,e,f,g,h,i,j)},je.ga=function(a,b,c,d,e,f,g,h,i,j,k){var l=this.h.ga?this.h.ga(a,b,c,d,e,f,g,h,i,j,k):this.h.call(null,a,b,c,d,e,f,g,h,i,j,k),m=dd(this,l);return v(m)||ad(this.name,l),m.ga?m.ga(a,b,c,d,e,f,g,h,i,j,k):m.call(null,a,b,c,d,e,f,g,h,i,j,k)},je.ha=function(a,b,c,d,e,f,g,h,i,j,k,l){var m=this.h.ha?this.h.ha(a,b,c,d,e,f,g,h,i,j,k,l):this.h.call(null,a,b,c,d,e,f,g,h,i,j,k,l),n=dd(this,m);return v(n)||ad(this.name,m),n.ha?n.ha(a,b,c,d,e,f,g,h,i,j,k,l):n.call(null,a,b,c,d,e,f,g,h,i,j,k,l)},je.ia=function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=this.h.ia?this.h.ia(a,b,c,d,e,f,g,h,i,j,k,l,m):this.h.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m),o=dd(this,n);return v(o)||ad(this.name,n),o.ia?o.ia(a,b,c,d,e,f,g,h,i,j,k,l,m):o.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m)},je.ja=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=this.h.ja?this.h.ja(a,b,c,d,e,f,g,h,i,j,k,l,m,n):this.h.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n),p=dd(this,o);return v(p)||ad(this.name,o),p.ja?p.ja(a,b,c,d,e,f,g,h,i,j,k,l,m,n):p.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n)},je.ka=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=this.h.ka?this.h.ka(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o):this.h.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o),q=dd(this,p);return v(q)||ad(this.name,p),q.ka?q.ka(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o):q.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o)},je.la=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=this.h.la?this.h.la(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p):this.h.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p),r=dd(this,q);return v(r)||ad(this.name,q),r.la?r.la(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p):r.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p)},je.ma=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=this.h.ma?this.h.ma(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q):this.h.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q),s=dd(this,r);return v(s)||ad(this.name,r),s.ma?s.ma(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q):s.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q)},je.na=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=this.h.na?this.h.na(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r):this.h.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r),t=dd(this,s);return v(t)||ad(this.name,s),t.na?t.na(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r):t.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r)},je.oa=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t=this.h.oa?this.h.oa(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s):this.h.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s),u=dd(this,t);return v(u)||ad(this.name,t),u.oa?u.oa(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s):u.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s)},je.pa=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u=this.h.pa?this.h.pa(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t):this.h.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t),w=dd(this,u);return v(w)||ad(this.name,u),w.pa?w.pa(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t):w.call(null,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t)},je.Sb=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){var w=vb(this.h,a,b,c,d,xa([e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u])),x=dd(this,w);return v(x)||ad(this.name,w),vb(x,a,b,c,d,xa([e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u]))},je.Hb=function(){return df(this.name)},je.Ib=function(){return ef(this.name)},je.Z=function(){return this[le]||(this[le]=++me)},"undefined"==typeof ue||"undefined"==typeof ve||"undefined"==typeof Yf)var Yf=null;if("undefined"!=typeof console&&(xe=function(){return console.log.apply(console,g(arguments))},ye=function(){return console.error.apply(console,g(arguments))}),"undefined"==typeof ue||"undefined"==typeof ve||"undefined"==typeof Zf)var Zf=function(){throw Error("cljs.core/*eval* not bound")};var $f,_f=new db(null,"y","y",-1757859776),ag=new db(null,"shift","shift",997140064),bg=new db(null,"mouseup","mouseup",350619456),cg=new db(null,"tiling","tiling",-1693991967),dg=new db(null,"nearest","nearest",1176353890),eg=new db(null,"down","down",1565245570),fg=new db(null,"origins","origins",-1970258462),gg=new db(null,"fullscreen-fn","fullscreen-fn",1444163170),hg=new db(null,"space","space",348133475),ig=new db(null,"home","home",-74557309),jg=new db(null,"touchmove","touchmove",1885249923),kg=new db(null,"insert","insert",1286475395),lg=new db(null,"f8","f8",-2141475484),mg=new db(null,"rotation","rotation",-1728051644),ng=new db(null,"meta","meta",1499536964),og=new db(null,"stage","stage",1843544772),pg=new db(null,"f1","f1",1714532389),qg=new aa(null,"blockable","blockable",-28395259,null),rg=new db(null,"dup","dup",556298533),sg=new db(null,"buttonmode","buttonmode",-1800695483),tg=new db(null,"f10","f10",627525541),ug=new db(null,"render-fn","render-fn",398796518),vg=new db(null,"alt","alt",-3214426),wg=new db(null,"scale","scale",-230427353),xg=new db(null,"top","top",-1856271961),yg=new db(null,"esc","esc",-1671924121),zg=new db(null,"highlight","highlight",-800930873),Ag=new db(null,"fade-out","fade-out",-1200160760),Bg=new db(null,"default","default",-1987822328),Cg=new db(null,"finally-block","finally-block",832982472),Dg=new db(null,"-moz-user-select","-moz-user-select",-342302744),Eg=new db(null,"comma","comma",1699024745),Fg=new db(null,"-webkit-user-select","-webkit-user-select",-651687510),Gg=new db(null,"numlock","numlock",-1383996470),Hg=new db(null,"width","width",-384071477),Ig=new db(null,"start","start",-355208981),Jg=new db(null,"background","background",-863952629),Kg=new db(null,"lowlight-width","lowlight-width",-984309493),Lg=new db(null,"f5","f5",1587057387),Mg=new db(null,"pageup","pageup",1714543403),Ng=new db(null,"pos","pos",-864607220),Og=new db(null,"val","val",128701612),Pg=new db(null,"recur","recur",-437573268),Qg=new db(null,"catch-block","catch-block",1175212748),Rg=new db(null,"delete","delete",-1768633620),Sg=new db(null,"duration","duration",1444101068),Tg=new db(null,"fallback-impl","fallback-impl",-1501286995),Ug=new db(null,"keyword-fn","keyword-fn",-64566675),Vg=new db(null,"flush-on-newline","flush-on-newline",-151457939),Wg=new db(null,"/","/",1282502798),Xg=new aa(null,"meta25576","meta25576",2054085582,null),Yg=new db(null,"up","up",-269712113),Zg=new db(null,"descendants","descendants",1824886031),$g=new db(null,"canvas","canvas",-1798817489),_g=new db(null,"renderer","renderer",336841071),ah=new db(null,"title","title",636505583),bh=new db(null,"tint","tint",-1286736913),ch=new db(null,"center","center",-748944368),dh=new db(null,"enter","enter",1792452624),eh=new db(null,"ancestors","ancestors",-776045424),fh=new db(null,"backtick","backtick",44770640),gh=new db(null,"bottom-left","bottom-left",1607421488),hh=new db(null,"readably","readably",1129599760),ih=new db(null,"more-marker","more-marker",-14717935),jh=new db(null,"world","world",-418292623),kh=new aa(null,"meta27567","meta27567",-1670196783,null),lh=new db(null,"f11","f11",-1417398799),mh=new db(null,"mousemove","mousemove",-1077794734),nh=new db(null,"border-width","border-width",-1512605390),oh=new db(null,"border-colour","border-colour",-173895822),ph=new db(null,"layer","layer",-1601820589),qh=new db(null,"tilemap","tilemap",407449043),rh=new db(null,".",".",335144435),sh=new db(null,"f3","f3",1954829043),th=new aa(null,"val","val",1769233139,null),uh=new db(null,"quote","quote",-262615245),vh=new db(null,"ui","ui",-469653645),wh=new db(null,"tiling-width","tiling-width",-97440781),xh=new db(null,"print-length","print-length",1931866356),yh=new db(null,"empty-colour","empty-colour",-1488420524),zh=new db(null,"f2","f2",396168596),Ah=new db(null,"control","control",1892578036),Bh=new db(null,"yhandle","yhandle",608395252),Ch=new db(null,"catch-exception","catch-exception",-1997306795),Dh=new db(null,"squareleft","squareleft",-1212370731),Eh=new db(null,"touchup","touchup",890910229),Fh=new db(null,"parents","parents",-2027538891),Gh=new db(null,"scrolllock","scrolllock",-960203019),Hh=new db(null,"prev","prev",-1597069226),Ih=new db(null,"tiling-height","tiling-height",-1474681674),Jh=new db(null,"f12","f12",853352790),Kh=new db(null,"capslock","capslock",442493366),Lh=new db(null,"continue-block","continue-block",-1852047850),Mh=new db(null,"alpha","alpha",-1574982441),Nh=new db(null,"translate","translate",1336199447),Oh=new db(null,"right","right",-452581833),Ph=new db(null,"expand-fn","expand-fn",492373783),Qh=new db(null,"default-layer","default-layer",385967031),Rh=new db(null,"layers","layers",1944875032),Sh=new db(null,"pagedown","pagedown",-2069718984),Th=new db(null,"position","position",-2011731912),Uh=new db(null,"highlight-width","highlight-width",1191874776),Vh=new db(null,"image","image",-58725096),Wh=new db(null,"lowlight","lowlight",2143243768),Xh=new db(null,"tiles","tiles",178505240),Yh=new db(null,"pause","pause",-2095325672),Zh=new db(null,"backspace","backspace",-696007848),$h=new db(null,"f7","f7",356150168),_h=new db(null,"x","x",2099068185),ai=new db(null,"effect","effect",347343289),bi=new db(null,"audio","audio",1819127321),ci=new db(null,"engine","engine",1459054265),di=new db(null,"linear","linear",872268697),ei=new db(null,"touchupoutside","touchupoutside",2132569017),fi=new db(null,"lowlight-offset","lowlight-offset",-612034438),gi=new aa(null,"meta27653","meta27653",-2064067430,null),hi=new db(null,"draw-border","draw-border",-1950022342),ii=new db(null,"above","above",-1286866470),ji=new db(null,"f9","f9",704633338),ki=new db(null,"end","end",-268185958),li=new db(null,"full-colour","full-colour",50761434),mi=new db(null,"mousedown","mousedown",1391242074),ni=new db(null,"visible","visible",-1024216805),oi=new db(null,"hierarchy","hierarchy",-1053470341),pi=new db(null,"tab","tab",-559583621),qi=new db(null,"alt-impl","alt-impl",670969595),ri=new db(null,"backdrop","backdrop",-1291357381),si=new db(null,"bg","bg",-206688421),ti=new db(null,"prevent-defaults","prevent-defaults",977810460),ui=new db(null,"f6","f6",2103080604),vi=new db(null,"auto","auto",-566279492),wi=new db(null,"mouseupoutside","mouseupoutside",190065436),xi=new db(null,"f4","f4",990968764),yi=new db(null,"expand","expand",595248157),zi=new db(null,"stats","stats",-85643011),Ai=new db(null,"below","below",-926774883),Bi=new db(null,"touchdown","touchdown",425229502),Ci=new aa(null,"meta27492","meta27492",-451317538,null),Di=new db(null,"user-select","user-select",-346451650),Ei=new db(null,"fullscreen-button","fullscreen-button",1597770110),Fi=new db(null,"resize-fn","resize-fn",2017140158),Gi=new db(null,"highlight-offset","highlight-offset",-1920235650),Hi=new db(null,"backslash","backslash",1790786526),Ii=new db(null,"height","height",1025178622),Ji=new db(null,"left","left",-399115937),Ki=new db(null,"squareright","squareright",1890515359),Li=new db(null,"fade-in","fade-in",999370239),Mi=new db(null,"xhandle","xhandle",373504767),Ni=new aa(null,"f","f",43394975,null),Oi={},Pi={},Qi=function al(a,c){
if(null!=a&&null!=a.Vb)return a.Vb(a,c);var d=al[b(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);if(d=al._,null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw z("ReadPort.take!",a)},Ri=function bl(a,c,d){if(null!=a&&null!=a.Wb)return a.Wb(a,c,d);var e=bl[b(null==a?null:a)];if(null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);if(e=bl._,null!=e)return e.f?e.f(a,c,d):e.call(null,a,c,d);throw z("WritePort.put!",a)},Si=function cl(a){if(null!=a&&null!=a.tb)return a.tb(a);var c=cl[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=cl._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("Channel.close!",a)},Ti=function dl(a){if(null!=a&&null!=a.ic)return!0;var c=dl[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=dl._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("Handler.active?",a)},Ui=function el(a){if(null!=a&&null!=a.jc)return a.Fa;var c=el[b(null==a?null:a)];if(null!=c)return c.a?c.a(a):c.call(null,a);if(c=el._,null!=c)return c.a?c.a(a):c.call(null,a);throw z("Handler.commit",a)},Vi=function fl(a,c){if(null!=a&&null!=a.hc)return a.hc(a,c);var d=fl[b(null==a?null:a)];if(null!=d)return d.b?d.b(a,c):d.call(null,a,c);if(d=fl._,null!=d)return d.b?d.b(a,c):d.call(null,a,c);throw z("Buffer.add!*",a)},Wi=function gl(a){switch(arguments.length){case 1:return gl.a(arguments[0]);case 2:return gl.b(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",vf.a(arguments.length)].join(""))}};Wi.a=function(a){return a},Wi.b=function(a,b){if(null==b)throw Error("Assert failed: (not (nil? itm))");return Vi(a,b)},Wi.M=2;var Xi={};if(fd.prototype.pop=function(){if(0===this.length)return null;var a=this.c[this.H];return this.c[this.H]=null,this.H=(this.H+1)%this.c.length,--this.length,a},fd.prototype.unshift=function(a){return this.c[this.head]=a,this.head=(this.head+1)%this.c.length,this.length+=1,null},fd.prototype.resize=function(){var a=Array(2*this.c.length);return this.H<this.head?(ed(this.c,this.H,a,0,this.length),this.H=0,this.head=this.length,this.c=a):this.H>this.head?(ed(this.c,this.H,a,0,this.c.length-this.H),ed(this.c,0,a,this.c.length-this.H,this.head),this.H=0,this.head=this.length,this.c=a):this.H===this.head?(this.head=this.H=0,this.c=a):null},jd.prototype.hc=function(a,b){return gd(this.F,b),this},jd.prototype.X=function(){return this.F.length},"undefined"==typeof ue||"undefined"==typeof ve||"undefined"==typeof Oi||"undefined"==typeof Pi||"undefined"==typeof Xi||"undefined"==typeof Yi)var Yi={};var Zi;a:{var $i=ke.navigator;if($i){var _i=$i.userAgent;if(_i){Zi=_i;break a}}Zi=""}var aj,bj,cj=id(32),dj=!1,ej=!1,fj={};td.prototype.Wb=function(a,b,c){var d=this,e=this;if(null==b)throw Error("Assert failed: Can't put nil on a channel\n(not (nil? val))");var f=d.closed;if(f)return qd(!f);if(v(function(){var a=d.F;return v(a)?x(kd(d.F)):a}())){var g=ma(d.Ha.b?d.Ha.b(d.F,b):d.Ha.call(null,d.F,b));if(c=function(){for(var a=If;;){if(!(0<d.gb.length&&0<za(d.F)))return a;var b=d.gb.pop(),c=b.Fa,h=d.F.F.pop();a=qf.b(a,function(a,b,c){return function(){return b.a?b.a(c):b.call(null,c)}}(a,c,h,b,g,f,e))}}(),g&&ud(e),ca(c)){c=ca(c),a=null;for(var h=0,i=0;;)if(h>i){var j=a.G(null,i);pd(j),i+=1}else{if(!(c=ca(c)))break;a=c,La(a)?(c=bf(a),i=cf(a),a=c,h=za(c),c=i):(c=da(a),pd(c),c=fa(a),a=null,h=0),i=0}}return qd(!0)}if(a=function(){for(;;){var a=d.gb.pop();if(!v(a))return null;if(v(!0))return a}}(),v(a))return pd(function(a){return function(){return a.a?a.a(b):a.call(null,b)}}(a.Fa,a,f,e)),qd(!0);if(64<d.Kb?(d.Kb=0,hd(d.Ua,sd)):d.Kb+=1,v(c.Ub())){if(!(1024>d.Ua.length))throw Error(["Assert failed: ",["No more than ",vf.a(1024)," pending puts are allowed on a single channel. Consider using a windowed buffer."].join(""),"\n(< (.-length puts) impl/MAX-QUEUE-SIZE)"].join(""));gd(d.Ua,new rd(c,b))}return null},td.prototype.Vb=function(a,b){var c=this;if(null!=c.F&&0<za(c.F)){if(b=b.Fa,v(b)){a=c.F.F.pop();var d=0<c.Ua.length?function(){for(var a=If;;){var b=c.Ua.pop(),d=b.I;if(b=b.wb.Fa,a=v(b)?qf.b(a,b):a,d=v(b)?ma(c.Ha.b?c.Ha.b(c.F,d):c.Ha.call(null,c.F,d)):null,!(x(d)&&x(kd(c.F))&&0<c.Ua.length))return new Qb(null,2,5,Hf,[d,a],null)}}():null,e=Ca(d,0),f=Ca(d,1);v(e)&&ud(this);for(var g=ca(f),h=null,i=0,j=0;;)if(i>j){var k=h.G(null,j);pd(function(a,b,c,d,e){return function(){return e.a?e.a(!0):e.call(null,!0)}}(g,h,i,j,k,a,d,e,f,b,b,this)),j+=1}else{var l=ca(g);if(!l)break;if(k=l,La(k))g=bf(k),j=cf(k),h=g,i=za(g),g=j;else{var m=da(k);pd(function(a,b,c,d,e){return function(){return e.a?e.a(!0):e.call(null,!0)}}(g,h,i,j,m,k,l,a,d,e,f,b,b,this)),g=fa(k),h=null,i=0}j=0}return qd(a)}return null}if(a=function(){for(;;){var a=c.Ua.pop();if(!v(a))return null;if(Ti(a.wb))return a}}(),v(a))return b=Ui(a.wb),pd(function(a){return function(){return a.a?a.a(!0):a.call(null,!0)}}(b,a,this)),qd(a.I);if(v(c.closed))return v(c.F)&&(c.Ha.a?c.Ha.a(c.F):c.Ha.call(null,c.F)),v(v(!0)?b.Fa:!0)?(b=function(){var a=c.F;return v(a)?0<za(c.F):a}(),a=v(b)?c.F.F.pop():null,qd(a)):null;if(64<c.Lb?(c.Lb=0,hd(c.gb,Ti)):c.Lb+=1,v(b.Ub())){if(!(1024>c.gb.length))throw Error(["Assert failed: ",["No more than ",vf.a(1024)," pending takes are allowed on a single channel."].join(""),"\n(< (.-length takes) impl/MAX-QUEUE-SIZE)"].join(""));gd(c.gb,b)}return null},td.prototype.tb=function(){var a=this;if(!a.closed)for(a.closed=!0,v(function(){var b=a.F;return v(b)?0===a.Ua.length:b}())&&(a.Ha.a?a.Ha.a(a.F):a.Ha.call(null,a.F));;){var b=a.gb.pop();if(null==b)break;var c=b.Fa,d=v(function(){var b=a.F;return v(b)?0<za(a.F):b}())?a.F.F.pop():null;pd(function(a,b){return function(){return a.a?a.a(b):a.call(null,b)}}(c,d,b,this))}return null};var gj,hj={};je=Cd.prototype,je.R=function(a,b){return this.B(null,b,null)},je.B=function(a,b,c){switch(b instanceof db?b.Na:null){case"catch-block":return this.Ia;case"catch-exception":return this.Ja;case"finally-block":return this.La;case"continue-block":return this.Ka;case"prev":return this.Ma;default:return rf.f(this.Ba,b,c)}},je.qb=function(a,b,c){return Ua(function(){return function(a,c){var d=Ca(c,0);return c=Ca(c,1),b.f?b.f(a,d,c):b.call(null,a,d,c)}}(this),c,this)},je.$=function(a,b,c){return Nc(b,function(){return function(a){return Nc(b,Sc,""," ","",c,a)}}(this),"#cljs.core.async.impl.ioc-helpers.ExceptionFrame{",", ","}",c,zf.b(new Qb(null,5,5,Hf,[new Qb(null,2,5,Hf,[Qg,this.Ia],null),new Qb(null,2,5,Hf,[Ch,this.Ja],null),new Qb(null,2,5,Hf,[Cg,this.La],null),new Qb(null,2,5,Hf,[Lh,this.Ka],null),new Qb(null,2,5,Hf,[Hh,this.Ma],null)],null),this.Ba))},je.Ea=function(){return new Xb(this,new Qb(null,5,5,Hf,[Qg,Ch,Cg,Lh,Hh],null),v(this.Ba)?hf(this.Ba):xb())},je.P=function(){return this.Va},je.X=function(){return 5+za(this.Ba)},je.Z=function(){var a=this,b=this.s;if(null!=b)return b;var c=function(){return function(){return function(a){return 846900531^ka(a)}}(b,a)(a)}();return this.s=c},je.w=function(a,b){return null!=b&&this.constructor===b.constructor&&nf.b(this.Ia,b.Ia)&&nf.b(this.Ja,b.Ja)&&nf.b(this.La,b.La)&&nf.b(this.Ka,b.Ka)&&nf.b(this.Ma,b.Ma)&&nf.b(this.Ba,b.Ba)},je.Gb=function(a,b){return Oa(new Ec(null,new dc(null,5,[Cg,null,Qg,null,Ch,null,Hh,null,Lh,null],null),null),b)?tf.b(Qe(Ef.b(Lf,this),this.Va),b):new Cd(this.Ia,this.Ja,this.La,this.Ka,this.Ma,this.Va,wb(tf.b(this.Ba,b)),null)},je.Wa=function(a,b,c){return v(eb.b?eb.b(Qg,b):eb.call(null,Qg,b))?new Cd(c,this.Ja,this.La,this.Ka,this.Ma,this.Va,this.Ba,null):v(eb.b?eb.b(Ch,b):eb.call(null,Ch,b))?new Cd(this.Ia,c,this.La,this.Ka,this.Ma,this.Va,this.Ba,null):v(eb.b?eb.b(Cg,b):eb.call(null,Cg,b))?new Cd(this.Ia,this.Ja,c,this.Ka,this.Ma,this.Va,this.Ba,null):v(eb.b?eb.b(Lh,b):eb.call(null,Lh,b))?new Cd(this.Ia,this.Ja,this.La,c,this.Ma,this.Va,this.Ba,null):v(eb.b?eb.b(Hh,b):eb.call(null,Hh,b))?new Cd(this.Ia,this.Ja,this.La,this.Ka,c,this.Va,this.Ba,null):new Cd(this.Ia,this.Ja,this.La,this.Ka,this.Ma,this.Va,sf.f(this.Ba,b,c),null)},je.Y=function(){return ca(zf.b(new Qb(null,5,5,Hf,[new _b(Qg,this.Ia),new _b(Ch,this.Ja),new _b(Cg,this.La),new _b(Lh,this.Ka),new _b(Hh,this.Ma)],null),this.Ba))},je.T=function(a,b){return new Cd(this.Ia,this.Ja,this.La,this.Ka,this.Ma,b,this.Ba,this.s)},je.ba=function(a,b){return Ka(b)?this.Wa(null,Ee.b(b,0),Ee.b(b,1)):Ua(De,this,b)};var ij=Ed(function(){return null}),jj={},kj={},lj={};if("undefined"==typeof jj||"undefined"==typeof kj||"undefined"==typeof lj||"undefined"==typeof mj)var mj=function(){var a=Cb(Lf),b=Cb(Lf),c=Cb(Lf),d=Cb(Lf),e=rf.f(Lf,oi,Xc.m?Xc.m():Xc.call(null));return new bd(mf.b("infinitelives.utils.resources","load"),function(){return function(a){return ya(da(a.split("?")).split(".")).toLowerCase()}}(a,b,c,d,e),e,a,b,c,d)}();if("undefined"==typeof jj||"undefined"==typeof kj||"undefined"==typeof lj||"undefined"==typeof nj)var nj=function(){var a=Cb(Lf),b=Cb(Lf),c=Cb(Lf),d=Cb(Lf),e=rf.f(Lf,oi,Xc.m?Xc.m():Xc.call(null));return new bd(mf.b("infinitelives.utils.resources","register!"),function(){return function(a){return ya(da(a.split("?")).split(".")).toLowerCase()}}(a,b,c,d,e),e,a,b,c,d)}();var oj={},pj=v(window.AudioContext)?new window.AudioContext:new window.webkitAudioContext;if("undefined"==typeof jj||"undefined"==typeof kj||"undefined"==typeof oj||"undefined"==typeof qj)var qj=Cb(Lf);cd(mj,"ogg",function(a){return Ld(a)}),cd(mj,"mp3",function(a){return Ld(a)}),cd(mj,"wav",function(a){return Ld(a)}),cd(nj,"ogg",function(a,b){return Md(a,b)}),cd(nj,"mp3",function(a,b){return Md(a,b)}),cd(nj,"wav",function(a,b){return Md(a,b)});var rj={};if("undefined"==typeof jj||"undefined"==typeof kj||"undefined"==typeof rj||"undefined"==typeof sj)var sj=!0;var tj=Cb(Lf);if("undefined"==typeof jj||"undefined"==typeof kj||"undefined"==typeof rj||"undefined"==typeof uj)var uj=Cb(new dc(null,1,[ti,!0],null));Qf.v(xa([function(a,b){for(var c=a.length,d=0,e=Ye(Of);;){if(!(c>d))return $e(e);var f=d+1;e=_e(e,a[d],b[d]),d=f}}([ag,eg,hg,ig,kg,lg,pg,tg,vg,yg,Eg,Gg,Lg,Mg,Rg,Wg,Yg,dh,fh,lh,rh,sh,uh,zh,Ah,Dh,Gh,Jh,Kh,Oh,Sh,Yh,Zh,$h,ji,ki,pi,ui,xi,Hi,Ji,Ki],[16,40,32,36,45,119,112,121,18,27,188,144,116,33,46,191,38,13,192,122,190,114,222,113,17,219,145,123,20,39,34,19,8,118,120,35,9,117,115,220,37,221]),function hl(a){return new gb(null,function(){for(;;){var b=ca(a);if(b){if(La(b)){var c=bf(b),d=za(c),e=jb(d);a:for(var f=0;;){if(!(d>f)){c=!0;break a}var g=Ee.b(c,f);g=new Qb(null,2,5,Hf,[xf.a(vf.a(g)),g.charCodeAt(0)-32],null),e.add(g),f+=1}return c?mb(e.V(),hl(cf(b))):mb(e.V(),null)}return e=da(b),cb(new Qb(null,2,5,Hf,[xf.a(vf.a(e)),e.charCodeAt(0)-32],null),hl(ea(b)))}return null}},null)}("0123456789abcdefghijklmnopqrstuvwxyz"),function il(a){return new gb(null,function(){for(;;){var b=ca(a);if(b){if(La(b)){var c=bf(b),d=za(c),e=jb(d);a:for(var f=0;;){if(!(d>f)){c=!0;break a}var g=Ee.b(c,f);e.add(new Qb(null,2,5,Hf,[g,g.charCodeAt(0)-32],null)),f+=1}return c?mb(e.V(),il(cf(b))):mb(e.V(),null)}return e=da(b),cb(new Qb(null,2,5,Hf,[e,e.charCodeAt(0)-32],null),il(ea(b)))}return null}},null)}("0123456789abcdefghijklmnopqrstuvwxyz,.;'[]-=`/\\")]));var vj=v(window.requestAnimationFrame)?function(a){return window.requestAnimationFrame(a)}:v(window.webkitRequestAnimationFrame)?function(a){return window.webkitRequestAnimationFrame(a)}:v(window.mozRequestAnimationFrame)?function(a){return window.mozRequestAnimationFrame(a)}:v(window.oRequestAnimationFrame)?function(a){return window.oRequestAnimationFrame(a)}:v(window.msRequestAnimationFrame)?function(a){return window.msRequestAnimationFrame(a)}:function(a){return window.setTimeout(a,1e3/60)},wj=Cb(Rf),xj=Cb(Rf),yj=function jl(){vj.a?vj.a(jl):vj.call(null,jl);for(var a=ca(Oe(xj)),b=null,c=0,d=0;;)if(c>d){var e=b.G(null,d);Id(e,!0),d+=1}else{if(!(a=ca(a)))return null;b=a,La(b)?(a=bf(b),c=cf(b),b=a,e=za(a),a=c,c=e):(e=da(b),Id(e,!0),a=fa(b),b=null,c=0),d=0}};window.addEventListener("keydown",function(a){return Bf.b(tj,function(b){return sf.f(b,a.keyCode,!0)}),v(function(){if(sj){var b=a.ctrlKey;return v(b)?a.shiftKey:b}return sj}())?!1:v(ti.a(Oe(uj)))?a.preventDefault():!1}),window.addEventListener("keyup",function(a){return Bf.b(tj,function(b){return tf.b(b,a.keyCode)}),v(ti.a(Oe(uj)))?a.preventDefault():!0}),vj.a?vj.a(yj):vj.call(null,yj),window.addEventListener("resize",function(){for(var a=new Qb(null,2,5,Hf,[window.innerWidth,window.innerHeight],null),b=ca(Oe(wj)),c=null,d=0,e=0;;)if(d>e){var f=c.G(null,e);Id(f,a),e+=1}else{if(!(b=ca(b)))return null;c=b,La(c)?(b=bf(c),d=cf(c),c=b,f=za(b),b=d,d=f):(f=da(c),Id(f,a),b=fa(c),c=null,d=0),e=0}});var zj=ld("Opera"),Aj=ld("Trident")||ld("MSIE"),Bj=ld("Edge"),Cj=ld("Gecko")&&!(-1!=Zi.toLowerCase().indexOf("webkit")&&!ld("Edge"))&&!(ld("Trident")||ld("MSIE"))&&!ld("Edge"),Dj=-1!=Zi.toLowerCase().indexOf("webkit")&&!ld("Edge");Dj&&ld("Mobile"),ld("Macintosh"),ld("Windows"),ld("Linux")||ld("CrOS");var Ej=ke.navigator||null;Ej&&(Ej.appVersion||"").indexOf("X11"),ld("Android"),Qd(),ld("iPad"),ld("iPod"),Qd()||ld("iPad")||ld("iPod");var Fj;a:{var Gj="",Hj=function(){var a=Zi;return Cj?/rv:([^\);]+)(\)|;)/.exec(a):Bj?/Edge\/([\d\.]+)/.exec(a):Aj?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):Dj?/WebKit\/(\S+)/.exec(a):zj?/(?:Version)[ \/]?(\S+)/.exec(a):void 0}();if(Hj&&(Gj=Hj?Hj[1]:""),Aj){var Ij=Rd();if(null!=Ij&&Ij>parseFloat(Gj)){Fj=String(Ij);break a}}Fj=Gj}var Jj,Kj={},Lj=ke.document;Jj=Lj&&Aj?Rd()||("CSS1Compat"==Lj.compatMode?parseInt(Fj,10):5):void 0,!Cj&&!Aj||Aj&&9<=Number(Jj)||Cj&&Sd("1.9.1"),Aj&&Sd("9"),Aj&&Sd("9"),!Dj||Sd("528"),Cj&&Sd("1.9b")||Aj&&Sd("8")||zj&&Sd("9.5")||Dj&&Sd("528"),Cj&&!Sd("8")||Aj&&Sd("9");var Mj,Nj={};if(Xd.prototype.BYTES_PER_ELEMENT=4,Xd.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]},Xd.prototype.toString=Array.prototype.join,"undefined"==typeof Float32Array&&(Xd.BYTES_PER_ELEMENT=4,Xd.prototype.BYTES_PER_ELEMENT=Xd.prototype.BYTES_PER_ELEMENT,Xd.prototype.set=Xd.prototype.set,Xd.prototype.toString=Xd.prototype.toString,a("Float32Array",Xd)),Yd.prototype.BYTES_PER_ELEMENT=8,Yd.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]},Yd.prototype.toString=Array.prototype.join,"undefined"==typeof Float64Array){try{Yd.BYTES_PER_ELEMENT=8}catch(Oj){}Yd.prototype.BYTES_PER_ELEMENT=Yd.prototype.BYTES_PER_ELEMENT,Yd.prototype.set=Yd.prototype.set,Yd.prototype.toString=Yd.prototype.toString,a("Float64Array",Yd)}je=Float64Array.prototype,je.cc=we,je.X=function(){return this.length()},je.ec=we,je.Y=function(){return function(a){return function b(c){return new gb(null,function(a){return function(){for(;;){var d=ca(c);if(d){if(La(d)){var e=bf(d),f=za(e),g=jb(f);a:for(var h=0;;){if(!(f>h)){e=!0;break a}var i=Ee.b(e,h);g.add(a[i]),h+=1}return e?mb(g.V(),b(cf(d))):mb(g.V(),null)}return g=da(d),cb(a[g],b(ea(d)))}return null}}}(a),null)}}(this)(Lc(0,this.length))},je.Da=we,je.xa=function(){return this[0]},je.Ca=function(){return function(a){return function b(c){return new gb(null,function(a){return function(){for(;;){var d=ca(c);if(d){if(La(d)){var e=bf(d),f=za(e),g=jb(f);a:for(var h=0;;){if(!(f>h)){e=!0;break a}var i=Ee.b(e,h);g.add(a[i]),h+=1}return e?mb(g.V(),b(cf(d))):mb(g.V(),null)}return g=da(d),cb(a[g],b(ea(d)))}return null}}}(a),null)}}(this)(Lc(1,this.length))};var Pj={};if("undefined"==typeof jj||"undefined"==typeof Nj||"undefined"==typeof Pj||"undefined"==typeof Qj)var Qj=Cb(Lf);var Rj={};if("undefined"==typeof jj||"undefined"==typeof Nj||"undefined"==typeof Rj||"undefined"==typeof Sj)var Sj=Cb(Lf);cd(nj,"png",function(a,b){return be(a,b)}),cd(nj,"gif",function(a,b){return be(a,b)}),cd(nj,"jpg",function(a,b){return be(a,b)}),cd(mj,"png",function(a){return ce(a)}),cd(mj,"gif",function(a){return ce(a)}),cd(mj,"jpg",function(a){return ce(a)});var Tj={},Uj={};if("undefined"==typeof Tj||"undefined"==typeof Uj||"undefined"==typeof Vj)var Vj=2105344;if("undefined"==typeof Tj||"undefined"==typeof Uj||"undefined"==typeof Wj)var Wj=Wd();if("undefined"==typeof Tj||"undefined"==typeof Uj||"undefined"==typeof Xj)var Xj=function(){var a=Fd(1);return pd(function(a){return function(){var b=function(){return function(a){return function(){function b(b){for(;;){a:try{for(;;){var c=a(b);if(!eb(c,Pg)){var d=c;break a}}}catch(e){if(!(e instanceof Object))throw e;b[5]=e,Dd(b),d=Pg}if(!eb(d,Pg))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];return a[0]=d,a[1]=1,a}var d=null;return d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length)},d.m=c,d.a=b,d}()}(function(){return function(a){var b=a[1];if(7===b)throw a=["canvas layer ",vf.a(qh)," not found."].join(""),Error(a);if(1===b)return b=fe(Wj,vh,new Qb(null,1,5,Hf,["img/tiles.png"],null)),Ad(a,2,b);if(4===b)return a[2]=qh,a[1]=5,Pg;if(13===b)return b=a[2],a[2]=b,Dd(a),Pg;if(6===b)return a[2]=a[7],a[1]=8,Pg;if(3===b)return b=ph.a(Wj),b=qh.a(b),a[7]=b,a[1]=v(b)?6:7,Pg;if(12===b){b=a[8];var c=a[9];c=Uf(new Qb(null,2,5,Hf,[16e3*(.5+Math.sin(1.5*.00128*c)/2)|0,16e3*(.5+Math.sin(9e-4*c)/2)|0],null)),c=b.uniforms.scroll=c,b=he(b,"fragsize",[window.innerWidth,window.innerHeight]);var d=Nd();return a[10]=b,a[11]=c,Ad(a,14,d)}if(2===b){for(b=a[2],c=Array(1048576),d=0;2500>d;){var e=c,f=500*Math.random()|0,g=500*Math.random()|0,h=4+30*Math.random()|0,i=4+30*Math.random()|0;ie(e,f,g,12,7),ie(e,h+f,g,13,7),ie(e,f,i+g,12,8),ie(e,h+f,i+g,13,8);for(var j=ca(Lc(f+1,f+h)),k=null,l=0,m=0;;)if(l>m){var n=k.G(null,m);ie(e,n,g,0,0),m+=1}else{if(!(j=ca(j)))break;k=j,La(k)?(j=bf(k),m=cf(k),k=j,l=za(j),j=m):(j=da(k),ie(e,j,g,0,0),j=fa(k),k=null,l=0),m=0}for(ie(e,f+1,g,0,1),ie(e,2+f,g,1,1),ie(e,3+f,g,2,1),j=ca(Lc(f+1,f+h)),k=null,m=l=0;;)if(l>m)n=k.G(null,m),ie(e,n,i+g,0,3),m+=1;else{if(!(j=ca(j)))break;k=j,La(k)?(j=bf(k),m=cf(k),k=j,l=za(j),j=m):(j=da(k),ie(e,j,i+g,0,3),j=fa(k),k=null,l=0),m=0}for(ie(e,f+1,i+g,0,4),ie(e,2+f,i+g,1,4),ie(e,3+f,i+g,2,4),j=ca(Lc(g+1,g+i)),k=null,m=l=0;;)if(l>m)n=k.G(null,m),ie(e,f,n,6,6),m+=1;else{if(!(j=ca(j)))break;k=j,La(k)?(j=bf(k),m=cf(k),k=j,l=za(j),j=m):(j=da(k),ie(e,f,j,6,6),j=fa(k),k=null,l=0),m=0}for(ie(e,f,1+g,6,7),ie(e,f,2+g,6,8),ie(e,f,3+g,6,9),i=ca(Lc(g+1,g+i)),j=null,l=k=0;;)if(k>l)m=j.G(null,l),ie(e,h+f,m,0,6),l+=1;else{if(!(i=ca(i)))break;j=i,La(j)?(i=bf(j),l=cf(j),j=i,k=za(i),i=l):(i=da(j),ie(e,h+f,i,0,6),i=fa(j),j=null,k=0),l=0}ie(e,h+f,1+g,0,7),ie(e,h+f,2+g,0,8),ie(e,h+f,3+g,0,9),d+=1}if(d=PIXI.Texture.fromBuffer(new Uint8Array(c),512,512),c=new PIXI.Filter(null,"precision highp float;\n\n  uniform sampler2D map;\n  uniform sampler2D tiles;\n  uniform vec2 scroll;\n  uniform vec2 fragsize;\n  uniform vec2 tilesize;\n  uniform vec2 mapsize;\n  uniform vec2 tilesheetsize;\n\n  varying vec2 vTextureCoord;\n\n  void main() {\n    vec2 fragpixelpos = vTextureCoord*fragsize+scroll;\n    vec2 tilepixelpos = floor(fragpixelpos)/mapsize;\n    vec4 tile = texture2D(map, tilepixelpos/tilesize);\n\n    // if map pixel has alpha of 0, render nothing\n    if(tile.a == 0.0) { discard;}\n\n    // tile location on sprite sheet\n    vec2 tileoffset = tile.xy * 255. * tilesize;\n\n    // tile pixel location on sprite sheet *inside* the tile we are on\n    vec2 innercoord = mod(fragpixelpos, tilesize);\n\n    gl_FragColor = texture2D(tiles,  (tileoffset + innercoord)/tilesheetsize);\n  }\n\n"),he(c,"mapsize",[512,512]),he(c,"tilesheetsize",[448,320]),he(c,"fragsize",[window.innerWidth,window.innerHeight]),he(c,"scroll",[-500,-500]),he(c,"tilesize",[32,32]),c.uniforms.map=d,d=rf.b(Oe(Sj),Xh),!v(d))throw Error(["Texture ",vf.a(Xh)," not loaded"].join(""));return d=dg.a?dg.a(d):dg.call(null,d),c.uniforms.tiles=d,d=qh instanceof db,a[8]=c,a[12]=b,a[1]=v(d)?3:4,Pg}return 11===b?(b=a[8],c=a[13],d=a[14],a[4]=new Cd(null,null,10,9,a[4],null,null,null),d=d.addChild(c),e=c,e.position.x=-4096,e=e.position.y=-4096,b=c.filters=Array(b),a[15]=b,a[16]=d,a[17]=e,a[9]=0,a[2]=null,a[1]=12,Pg):9===b?Bd(a,a[2]):5===b?(d=a[2],b=new PIXI.Graphics,b.beginFill(16711680),b.lineStyle(0,0),b.drawRect(0,0,32,32),b.lineStyle(0,0),b.beginFill(16711680),b.drawRect(0,0,8192,8192),b.endFill(),a[13]=b,a[14]=d,a[2]=null,a[1]=11,Pg):14===b?(c=a[9],a[18]=a[2],a[9]=c+1,a[2]=null,a[1]=12,Pg):10===b?(c=a[13],d=a[14],b=a[2],c=d.removeChild(c),a[19]=c,a[20]=b,Dd(a),Pg):8===b?(a[2]=a[2],a[1]=5,Pg):null}}(a),a)}(),c=function(){var c=b.m?b.m():b.call(null);return c[6]=a,c}();return zd(c)}}(a)),a}()}();